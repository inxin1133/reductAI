function PT(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Am(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Dg={exports:{}},Vc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X4;function zT(){if(X4)return Vc;X4=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,s){var a=null;if(s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),"key"in i){s={};for(var u in i)u!=="key"&&(s[u]=i[u])}else s=i;return i=s.ref,{$$typeof:e,type:r,key:a,ref:i!==void 0?i:null,props:s}}return Vc.Fragment=t,Vc.jsx=n,Vc.jsxs=n,Vc}var Z4;function IT(){return Z4||(Z4=1,Dg.exports=zT()),Dg.exports}var l=IT(),Tg={exports:{}},Dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q4;function FT(){if(Q4)return Dt;Q4=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function x(_){return _===null||typeof _!="object"?null:(_=m&&_[m]||_["@@iterator"],typeof _=="function"?_:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,k={};function j(_,Q,G){this.props=_,this.context=Q,this.refs=k,this.updater=G||y}j.prototype.isReactComponent={},j.prototype.setState=function(_,Q){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,Q,"setState")},j.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function C(){}C.prototype=j.prototype;function N(_,Q,G){this.props=_,this.context=Q,this.refs=k,this.updater=G||y}var A=N.prototype=new C;A.constructor=N,v(A,j.prototype),A.isPureReactComponent=!0;var z=Array.isArray,I={H:null,A:null,T:null,S:null,V:null},T=Object.prototype.hasOwnProperty;function E(_,Q,G,P,ie,H){return G=H.ref,{$$typeof:e,type:_,key:Q,ref:G!==void 0?G:null,props:H}}function M(_,Q){return E(_.type,Q,void 0,void 0,void 0,_.props)}function L(_){return typeof _=="object"&&_!==null&&_.$$typeof===e}function D(_){var Q={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(G){return Q[G]})}var V=/\/+/g;function K(_,Q){return typeof _=="object"&&_!==null&&_.key!=null?D(""+_.key):Q.toString(36)}function J(){}function Z(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(J,J):(_.status="pending",_.then(function(Q){_.status==="pending"&&(_.status="fulfilled",_.value=Q)},function(Q){_.status==="pending"&&(_.status="rejected",_.reason=Q)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function q(_,Q,G,P,ie){var H=typeof _;(H==="undefined"||H==="boolean")&&(_=null);var te=!1;if(_===null)te=!0;else switch(H){case"bigint":case"string":case"number":te=!0;break;case"object":switch(_.$$typeof){case e:case t:te=!0;break;case p:return te=_._init,q(te(_._payload),Q,G,P,ie)}}if(te)return ie=ie(_),te=P===""?"."+K(_,0):P,z(ie)?(G="",te!=null&&(G=te.replace(V,"$&/")+"/"),q(ie,Q,G,"",function(Ge){return Ge})):ie!=null&&(L(ie)&&(ie=M(ie,G+(ie.key==null||_&&_.key===ie.key?"":(""+ie.key).replace(V,"$&/")+"/")+te)),Q.push(ie)),1;te=0;var ae=P===""?".":P+":";if(z(_))for(var ke=0;ke<_.length;ke++)P=_[ke],H=ae+K(P,ke),te+=q(P,Q,G,H,ie);else if(ke=x(_),typeof ke=="function")for(_=ke.call(_),ke=0;!(P=_.next()).done;)P=P.value,H=ae+K(P,ke++),te+=q(P,Q,G,H,ie);else if(H==="object"){if(typeof _.then=="function")return q(Z(_),Q,G,P,ie);throw Q=String(_),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return te}function F(_,Q,G){if(_==null)return _;var P=[],ie=0;return q(_,P,"","",function(H){return Q.call(G,H,ie++)}),P}function W(_){if(_._status===-1){var Q=_._result;Q=Q(),Q.then(function(G){(_._status===0||_._status===-1)&&(_._status=1,_._result=G)},function(G){(_._status===0||_._status===-1)&&(_._status=2,_._result=G)}),_._status===-1&&(_._status=0,_._result=Q)}if(_._status===1)return _._result.default;throw _._result}var R=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)};function U(){}return Dt.Children={map:F,forEach:function(_,Q,G){F(_,function(){Q.apply(this,arguments)},G)},count:function(_){var Q=0;return F(_,function(){Q++}),Q},toArray:function(_){return F(_,function(Q){return Q})||[]},only:function(_){if(!L(_))throw Error("React.Children.only expected to receive a single React element child.");return _}},Dt.Component=j,Dt.Fragment=n,Dt.Profiler=i,Dt.PureComponent=N,Dt.StrictMode=r,Dt.Suspense=d,Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Dt.__COMPILER_RUNTIME={__proto__:null,c:function(_){return I.H.useMemoCache(_)}},Dt.cache=function(_){return function(){return _.apply(null,arguments)}},Dt.cloneElement=function(_,Q,G){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var P=v({},_.props),ie=_.key,H=void 0;if(Q!=null)for(te in Q.ref!==void 0&&(H=void 0),Q.key!==void 0&&(ie=""+Q.key),Q)!T.call(Q,te)||te==="key"||te==="__self"||te==="__source"||te==="ref"&&Q.ref===void 0||(P[te]=Q[te]);var te=arguments.length-2;if(te===1)P.children=G;else if(1<te){for(var ae=Array(te),ke=0;ke<te;ke++)ae[ke]=arguments[ke+2];P.children=ae}return E(_.type,ie,void 0,void 0,H,P)},Dt.createContext=function(_){return _={$$typeof:a,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:s,_context:_},_},Dt.createElement=function(_,Q,G){var P,ie={},H=null;if(Q!=null)for(P in Q.key!==void 0&&(H=""+Q.key),Q)T.call(Q,P)&&P!=="key"&&P!=="__self"&&P!=="__source"&&(ie[P]=Q[P]);var te=arguments.length-2;if(te===1)ie.children=G;else if(1<te){for(var ae=Array(te),ke=0;ke<te;ke++)ae[ke]=arguments[ke+2];ie.children=ae}if(_&&_.defaultProps)for(P in te=_.defaultProps,te)ie[P]===void 0&&(ie[P]=te[P]);return E(_,H,void 0,void 0,null,ie)},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(_){return{$$typeof:u,render:_}},Dt.isValidElement=L,Dt.lazy=function(_){return{$$typeof:p,_payload:{_status:-1,_result:_},_init:W}},Dt.memo=function(_,Q){return{$$typeof:f,type:_,compare:Q===void 0?null:Q}},Dt.startTransition=function(_){var Q=I.T,G={};I.T=G;try{var P=_(),ie=I.S;ie!==null&&ie(G,P),typeof P=="object"&&P!==null&&typeof P.then=="function"&&P.then(U,R)}catch(H){R(H)}finally{I.T=Q}},Dt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Dt.use=function(_){return I.H.use(_)},Dt.useActionState=function(_,Q,G){return I.H.useActionState(_,Q,G)},Dt.useCallback=function(_,Q){return I.H.useCallback(_,Q)},Dt.useContext=function(_){return I.H.useContext(_)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(_,Q){return I.H.useDeferredValue(_,Q)},Dt.useEffect=function(_,Q,G){var P=I.H;if(typeof G=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return P.useEffect(_,Q)},Dt.useId=function(){return I.H.useId()},Dt.useImperativeHandle=function(_,Q,G){return I.H.useImperativeHandle(_,Q,G)},Dt.useInsertionEffect=function(_,Q){return I.H.useInsertionEffect(_,Q)},Dt.useLayoutEffect=function(_,Q){return I.H.useLayoutEffect(_,Q)},Dt.useMemo=function(_,Q){return I.H.useMemo(_,Q)},Dt.useOptimistic=function(_,Q){return I.H.useOptimistic(_,Q)},Dt.useReducer=function(_,Q,G){return I.H.useReducer(_,Q,G)},Dt.useRef=function(_){return I.H.useRef(_)},Dt.useState=function(_){return I.H.useState(_)},Dt.useSyncExternalStore=function(_,Q,G){return I.H.useSyncExternalStore(_,Q,G)},Dt.useTransition=function(){return I.H.useTransition()},Dt.version="19.1.1",Dt}var e6;function I2(){return e6||(e6=1,Tg.exports=FT()),Tg.exports}var b=I2();const Ve=Am(b),v8=PT({__proto__:null,default:Ve},[b]);var Mg={exports:{}},qc={},Og={exports:{}},Rg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t6;function BT(){return t6||(t6=1,function(e){function t(F,W){var R=F.length;F.push(W);e:for(;0<R;){var U=R-1>>>1,_=F[U];if(0<i(_,W))F[U]=W,F[R]=_,R=U;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var W=F[0],R=F.pop();if(R!==W){F[0]=R;e:for(var U=0,_=F.length,Q=_>>>1;U<Q;){var G=2*(U+1)-1,P=F[G],ie=G+1,H=F[ie];if(0>i(P,R))ie<_&&0>i(H,P)?(F[U]=H,F[ie]=R,U=ie):(F[U]=P,F[G]=R,U=G);else if(ie<_&&0>i(H,R))F[U]=H,F[ie]=R,U=ie;else break e}}return W}function i(F,W){var R=F.sortIndex-W.sortIndex;return R!==0?R:F.id-W.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,u=a.now();e.unstable_now=function(){return a.now()-u}}var d=[],f=[],p=1,m=null,x=3,y=!1,v=!1,k=!1,j=!1,C=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function z(F){for(var W=n(f);W!==null;){if(W.callback===null)r(f);else if(W.startTime<=F)r(f),W.sortIndex=W.expirationTime,t(d,W);else break;W=n(f)}}function I(F){if(k=!1,z(F),!v)if(n(d)!==null)v=!0,T||(T=!0,K());else{var W=n(f);W!==null&&q(I,W.startTime-F)}}var T=!1,E=-1,M=5,L=-1;function D(){return j?!0:!(e.unstable_now()-L<M)}function V(){if(j=!1,T){var F=e.unstable_now();L=F;var W=!0;try{e:{v=!1,k&&(k=!1,N(E),E=-1),y=!0;var R=x;try{t:{for(z(F),m=n(d);m!==null&&!(m.expirationTime>F&&D());){var U=m.callback;if(typeof U=="function"){m.callback=null,x=m.priorityLevel;var _=U(m.expirationTime<=F);if(F=e.unstable_now(),typeof _=="function"){m.callback=_,z(F),W=!0;break t}m===n(d)&&r(d),z(F)}else r(d);m=n(d)}if(m!==null)W=!0;else{var Q=n(f);Q!==null&&q(I,Q.startTime-F),W=!1}}break e}finally{m=null,x=R,y=!1}W=void 0}}finally{W?K():T=!1}}}var K;if(typeof A=="function")K=function(){A(V)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,Z=J.port2;J.port1.onmessage=V,K=function(){Z.postMessage(null)}}else K=function(){C(V,0)};function q(F,W){E=C(function(){F(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(F){switch(x){case 1:case 2:case 3:var W=3;break;default:W=x}var R=x;x=W;try{return F()}finally{x=R}},e.unstable_requestPaint=function(){j=!0},e.unstable_runWithPriority=function(F,W){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var R=x;x=F;try{return W()}finally{x=R}},e.unstable_scheduleCallback=function(F,W,R){var U=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?U+R:U):R=U,F){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=R+_,F={id:p++,callback:W,priorityLevel:F,startTime:R,expirationTime:_,sortIndex:-1},R>U?(F.sortIndex=R,t(f,F),n(d)===null&&F===n(f)&&(k?(N(E),E=-1):k=!0,q(I,R-U))):(F.sortIndex=_,t(d,F),v||y||(v=!0,T||(T=!0,K()))),F},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(F){var W=x;return function(){var R=x;x=W;try{return F.apply(this,arguments)}finally{x=R}}}}(Rg)),Rg}var n6;function $T(){return n6||(n6=1,Og.exports=BT()),Og.exports}var Lg={exports:{}},kr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r6;function HT(){if(r6)return kr;r6=1;var e=I2();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(d,f,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:d,containerInfo:f,implementation:p}}var a=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return kr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,kr.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return s(d,f,null,p)},kr.flushSync=function(d){var f=a.T,p=r.p;try{if(a.T=null,r.p=2,d)return d()}finally{a.T=f,r.p=p,r.d.f()}},kr.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},kr.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},kr.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,m=u(p,f.crossOrigin),x=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:x,fetchPriority:y}):p==="script"&&r.d.X(d,{crossOrigin:m,integrity:x,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},kr.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},kr.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,m=u(p,f.crossOrigin);r.d.L(d,p,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},kr.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=u(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},kr.requestFormReset=function(d){r.d.r(d)},kr.unstable_batchedUpdates=function(d,f){return d(f)},kr.useFormState=function(d,f,p){return a.H.useFormState(d,f,p)},kr.useFormStatus=function(){return a.H.useHostTransitionStatus()},kr.version="19.1.1",kr}var i6;function w8(){if(i6)return Lg.exports;i6=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Lg.exports=HT(),Lg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s6;function UT(){if(s6)return qc;s6=1;var e=$T(),t=I2(),n=w8();function r(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var c=o,h=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(h=c.return),o=c.return;while(o)}return c.tag===3?h:null}function a(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function u(o){if(s(o)!==o)throw Error(r(188))}function d(o){var c=o.alternate;if(!c){if(c=s(o),c===null)throw Error(r(188));return c!==o?null:o}for(var h=o,g=c;;){var w=h.return;if(w===null)break;var S=w.alternate;if(S===null){if(g=w.return,g!==null){h=g;continue}break}if(w.child===S.child){for(S=w.child;S;){if(S===h)return u(w),o;if(S===g)return u(w),c;S=S.sibling}throw Error(r(188))}if(h.return!==g.return)h=w,g=S;else{for(var O=!1,B=w.child;B;){if(B===h){O=!0,h=w,g=S;break}if(B===g){O=!0,g=w,h=S;break}B=B.sibling}if(!O){for(B=S.child;B;){if(B===h){O=!0,h=S,g=w;break}if(B===g){O=!0,g=S,h=w;break}B=B.sibling}if(!O)throw Error(r(189))}}if(h.alternate!==g)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?o:c}function f(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=f(o),c!==null)return c;o=o.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),A=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function K(o){return o===null||typeof o!="object"?null:(o=V&&o[V]||o["@@iterator"],typeof o=="function"?o:null)}var J=Symbol.for("react.client.reference");function Z(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===J?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case v:return"Fragment";case j:return"Profiler";case k:return"StrictMode";case I:return"Suspense";case T:return"SuspenseList";case L:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case y:return"Portal";case A:return(o.displayName||"Context")+".Provider";case N:return(o._context.displayName||"Context")+".Consumer";case z:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case E:return c=o.displayName||null,c!==null?c:Z(o.type)||"Memo";case M:c=o._payload,o=o._init;try{return Z(o(c))}catch{}}return null}var q=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R={pending:!1,data:null,method:null,action:null},U=[],_=-1;function Q(o){return{current:o}}function G(o){0>_||(o.current=U[_],U[_]=null,_--)}function P(o,c){_++,U[_]=o.current,o.current=c}var ie=Q(null),H=Q(null),te=Q(null),ae=Q(null);function ke(o,c){switch(P(te,c),P(H,o),P(ie,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?j4(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=j4(c),o=_4(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}G(ie),P(ie,o)}function Ge(){G(ie),G(H),G(te)}function He(o){o.memoizedState!==null&&P(ae,o);var c=ie.current,h=_4(c,o.type);c!==h&&(P(H,o),P(ie,h))}function Me(o){H.current===o&&(G(ie),G(H)),ae.current===o&&(G(ae),Fc._currentValue=R)}var ze=Object.prototype.hasOwnProperty,ft=e.unstable_scheduleCallback,we=e.unstable_cancelCallback,le=e.unstable_shouldYield,Ke=e.unstable_requestPaint,Y=e.unstable_now,Ne=e.unstable_getCurrentPriorityLevel,Le=e.unstable_ImmediatePriority,Xe=e.unstable_UserBlockingPriority,zt=e.unstable_NormalPriority,Mt=e.unstable_LowPriority,Ot=e.unstable_IdlePriority,tn=e.log,Yt=e.unstable_setDisableYieldValue,pe=null,Ce=null;function Fe(o){if(typeof tn=="function"&&Yt(o),Ce&&typeof Ce.setStrictMode=="function")try{Ce.setStrictMode(pe,o)}catch{}}var Ue=Math.clz32?Math.clz32:$,ue=Math.log,Ze=Math.LN2;function $(o){return o>>>=0,o===0?32:31-(ue(o)/Ze|0)|0}var ne=256,Te=4194304;function nt(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function We(o,c,h){var g=o.pendingLanes;if(g===0)return 0;var w=0,S=o.suspendedLanes,O=o.pingedLanes;o=o.warmLanes;var B=g&134217727;return B!==0?(g=B&~S,g!==0?w=nt(g):(O&=B,O!==0?w=nt(O):h||(h=B&~o,h!==0&&(w=nt(h))))):(B=g&~S,B!==0?w=nt(B):O!==0?w=nt(O):h||(h=g&~o,h!==0&&(w=nt(h)))),w===0?0:c!==0&&c!==w&&(c&S)===0&&(S=w&-w,h=c&-c,S>=h||S===32&&(h&4194048)!==0)?c:w}function Ye(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function wt(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Be(){var o=ne;return ne<<=1,(ne&4194048)===0&&(ne=256),o}function pt(){var o=Te;return Te<<=1,(Te&62914560)===0&&(Te=4194304),o}function ot(o){for(var c=[],h=0;31>h;h++)c.push(o);return c}function jt(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Xt(o,c,h,g,w,S){var O=o.pendingLanes;o.pendingLanes=h,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=h,o.entangledLanes&=h,o.errorRecoveryDisabledLanes&=h,o.shellSuspendCounter=0;var B=o.entanglements,ee=o.expirationTimes,fe=o.hiddenUpdates;for(h=O&~h;0<h;){var Se=31-Ue(h),_e=1<<Se;B[Se]=0,ee[Se]=-1;var he=fe[Se];if(he!==null)for(fe[Se]=null,Se=0;Se<he.length;Se++){var ge=he[Se];ge!==null&&(ge.lane&=-536870913)}h&=~_e}g!==0&&gn(o,g,0),S!==0&&w===0&&o.tag!==0&&(o.suspendedLanes|=S&~(O&~c))}function gn(o,c,h){o.pendingLanes|=c,o.suspendedLanes&=~c;var g=31-Ue(c);o.entangledLanes|=c,o.entanglements[g]=o.entanglements[g]|1073741824|h&4194090}function pn(o,c){var h=o.entangledLanes|=c;for(o=o.entanglements;h;){var g=31-Ue(h),w=1<<g;w&c|o[g]&c&&(o[g]|=c),h&=~w}}function xn(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function yn(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Dr(){var o=W.p;return o!==0?o:(o=window.event,o===void 0?32:q4(o.type))}function di(o,c){var h=W.p;try{return W.p=o,c()}finally{W.p=h}}var Dn=Math.random().toString(36).slice(2),X="__reactFiber$"+Dn,se="__reactProps$"+Dn,me="__reactContainer$"+Dn,De="__reactEvents$"+Dn,Ie="__reactListeners$"+Dn,mt="__reactHandles$"+Dn,ht="__reactResources$"+Dn,Je="__reactMarker$"+Dn;function ut(o){delete o[X],delete o[se],delete o[De],delete o[Ie],delete o[mt]}function ct(o){var c=o[X];if(c)return c;for(var h=o.parentNode;h;){if(c=h[me]||h[X]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(o=D4(o);o!==null;){if(h=o[X])return h;o=D4(o)}return c}o=h,h=o.parentNode}return null}function lt(o){if(o=o[X]||o[me]){var c=o.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return o}return null}function dt(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(r(33))}function Rt(o){var c=o[ht];return c||(c=o[ht]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Nt(o){o[Je]=!0}var Sn=new Set,Tn={};function Kt(o,c){Zt(o,c),Zt(o+"Capture",c)}function Zt(o,c){for(Tn[o]=c,o=0;o<c.length;o++)Sn.add(c[o])}var Ns=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ia={},Oi={};function fi(o){return ze.call(Oi,o)?!0:ze.call(ia,o)?!1:Ns.test(o)?Oi[o]=!0:(ia[o]=!0,!1)}function sa(o,c,h){if(fi(c))if(h===null)o.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var g=c.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+h)}}function Ki(o,c,h){if(h===null)o.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+h)}}function or(o,c,h,g){if(g===null)o.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(h);return}o.setAttributeNS(c,h,""+g)}}var aa,gl;function Lt(o){if(aa===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);aa=c&&c[1]||"",gl=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+aa+o+gl}var Pn=!1;function Ji(o,c){if(!o||Pn)return"";Pn=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(c){var _e=function(){throw Error()};if(Object.defineProperty(_e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_e,[])}catch(ge){var he=ge}Reflect.construct(o,[],_e)}else{try{_e.call()}catch(ge){he=ge}o.call(_e.prototype)}}else{try{throw Error()}catch(ge){he=ge}(_e=o())&&typeof _e.catch=="function"&&_e.catch(function(){})}}catch(ge){if(ge&&he&&typeof ge.stack=="string")return[ge.stack,he.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=g.DetermineComponentFrameRoot(),O=S[0],B=S[1];if(O&&B){var ee=O.split(`
`),fe=B.split(`
`);for(w=g=0;g<ee.length&&!ee[g].includes("DetermineComponentFrameRoot");)g++;for(;w<fe.length&&!fe[w].includes("DetermineComponentFrameRoot");)w++;if(g===ee.length||w===fe.length)for(g=ee.length-1,w=fe.length-1;1<=g&&0<=w&&ee[g]!==fe[w];)w--;for(;1<=g&&0<=w;g--,w--)if(ee[g]!==fe[w]){if(g!==1||w!==1)do if(g--,w--,0>w||ee[g]!==fe[w]){var Se=`
`+ee[g].replace(" at new "," at ");return o.displayName&&Se.includes("<anonymous>")&&(Se=Se.replace("<anonymous>",o.displayName)),Se}while(1<=g&&0<=w);break}}}finally{Pn=!1,Error.prepareStackTrace=h}return(h=o?o.displayName||o.name:"")?Lt(h):""}function Es(o){switch(o.tag){case 26:case 27:case 5:return Lt(o.type);case 16:return Lt("Lazy");case 13:return Lt("Suspense");case 19:return Lt("SuspenseList");case 0:case 15:return Ji(o.type,!1);case 11:return Ji(o.type.render,!1);case 1:return Ji(o.type,!0);case 31:return Lt("Activity");default:return""}}function mn(o){try{var c="";do c+=Es(o),o=o.return;while(o);return c}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function ur(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Xu(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function _0(o){var c=Xu(o)?"checked":"value",h=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),g=""+o[c];if(!o.hasOwnProperty(c)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var w=h.get,S=h.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return w.call(this)},set:function(O){g=""+O,S.call(this,O)}}),Object.defineProperty(o,c,{enumerable:h.enumerable}),{getValue:function(){return g},setValue:function(O){g=""+O},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function Lf(o){o._valueTracker||(o._valueTracker=_0(o))}function wv(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var h=c.getValue(),g="";return o&&(g=Xu(o)?o.checked?"true":"false":o.value),o=g,o!==h?(c.setValue(o),!0):!1}function Pf(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var MA=/[\n"\\]/g;function hi(o){return o.replace(MA,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function N0(o,c,h,g,w,S,O,B){o.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?o.type=O:o.removeAttribute("type"),c!=null?O==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+ur(c)):o.value!==""+ur(c)&&(o.value=""+ur(c)):O!=="submit"&&O!=="reset"||o.removeAttribute("value"),c!=null?E0(o,O,ur(c)):h!=null?E0(o,O,ur(h)):g!=null&&o.removeAttribute("value"),w==null&&S!=null&&(o.defaultChecked=!!S),w!=null&&(o.checked=w&&typeof w!="function"&&typeof w!="symbol"),B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?o.name=""+ur(B):o.removeAttribute("name")}function kv(o,c,h,g,w,S,O,B){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(o.type=S),c!=null||h!=null){if(!(S!=="submit"&&S!=="reset"||c!=null))return;h=h!=null?""+ur(h):"",c=c!=null?""+ur(c):h,B||c===o.value||(o.value=c),o.defaultValue=c}g=g??w,g=typeof g!="function"&&typeof g!="symbol"&&!!g,o.checked=B?o.checked:!!g,o.defaultChecked=!!g,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(o.name=O)}function E0(o,c,h){c==="number"&&Pf(o.ownerDocument)===o||o.defaultValue===""+h||(o.defaultValue=""+h)}function mo(o,c,h,g){if(o=o.options,c){c={};for(var w=0;w<h.length;w++)c["$"+h[w]]=!0;for(h=0;h<o.length;h++)w=c.hasOwnProperty("$"+o[h].value),o[h].selected!==w&&(o[h].selected=w),w&&g&&(o[h].defaultSelected=!0)}else{for(h=""+ur(h),c=null,w=0;w<o.length;w++){if(o[w].value===h){o[w].selected=!0,g&&(o[w].defaultSelected=!0);return}c!==null||o[w].disabled||(c=o[w])}c!==null&&(c.selected=!0)}}function Sv(o,c,h){if(c!=null&&(c=""+ur(c),c!==o.value&&(o.value=c),h==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=h!=null?""+ur(h):""}function Cv(o,c,h,g){if(c==null){if(g!=null){if(h!=null)throw Error(r(92));if(q(g)){if(1<g.length)throw Error(r(93));g=g[0]}h=g}h==null&&(h=""),c=h}h=ur(c),o.defaultValue=h,g=o.textContent,g===h&&g!==""&&g!==null&&(o.value=g)}function go(o,c){if(c){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=c;return}}o.textContent=c}var OA=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jv(o,c,h){var g=c.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?g?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":g?o.setProperty(c,h):typeof h!="number"||h===0||OA.has(c)?c==="float"?o.cssFloat=h:o[c]=(""+h).trim():o[c]=h+"px"}function _v(o,c,h){if(c!=null&&typeof c!="object")throw Error(r(62));if(o=o.style,h!=null){for(var g in h)!h.hasOwnProperty(g)||c!=null&&c.hasOwnProperty(g)||(g.indexOf("--")===0?o.setProperty(g,""):g==="float"?o.cssFloat="":o[g]="");for(var w in c)g=c[w],c.hasOwnProperty(w)&&h[w]!==g&&jv(o,w,g)}else for(var S in c)c.hasOwnProperty(S)&&jv(o,S,c[S])}function A0(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var RA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),LA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zf(o){return LA.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var D0=null;function T0(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var xo=null,yo=null;function Nv(o){var c=lt(o);if(c&&(o=c.stateNode)){var h=o[se]||null;e:switch(o=c.stateNode,c.type){case"input":if(N0(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),c=h.name,h.type==="radio"&&c!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+hi(""+c)+'"][type="radio"]'),c=0;c<h.length;c++){var g=h[c];if(g!==o&&g.form===o.form){var w=g[se]||null;if(!w)throw Error(r(90));N0(g,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(c=0;c<h.length;c++)g=h[c],g.form===o.form&&wv(g)}break e;case"textarea":Sv(o,h.value,h.defaultValue);break e;case"select":c=h.value,c!=null&&mo(o,!!h.multiple,c,!1)}}}var M0=!1;function Ev(o,c,h){if(M0)return o(c,h);M0=!0;try{var g=o(c);return g}finally{if(M0=!1,(xo!==null||yo!==null)&&(kh(),xo&&(c=xo,o=yo,yo=xo=null,Nv(c),o)))for(c=0;c<o.length;c++)Nv(o[c])}}function Zu(o,c){var h=o.stateNode;if(h===null)return null;var g=h[se]||null;if(g===null)return null;h=g[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(r(231,c,typeof h));return h}var As=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),O0=!1;if(As)try{var Qu={};Object.defineProperty(Qu,"passive",{get:function(){O0=!0}}),window.addEventListener("test",Qu,Qu),window.removeEventListener("test",Qu,Qu)}catch{O0=!1}var la=null,R0=null,If=null;function Av(){if(If)return If;var o,c=R0,h=c.length,g,w="value"in la?la.value:la.textContent,S=w.length;for(o=0;o<h&&c[o]===w[o];o++);var O=h-o;for(g=1;g<=O&&c[h-g]===w[S-g];g++);return If=w.slice(o,1<g?1-g:void 0)}function Ff(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function Bf(){return!0}function Dv(){return!1}function Br(o){function c(h,g,w,S,O){this._reactName=h,this._targetInst=w,this.type=g,this.nativeEvent=S,this.target=O,this.currentTarget=null;for(var B in o)o.hasOwnProperty(B)&&(h=o[B],this[B]=h?h(S):S[B]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Bf:Dv,this.isPropagationStopped=Dv,this}return p(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Bf)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Bf)},persist:function(){},isPersistent:Bf}),c}var xl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$f=Br(xl),ec=p({},xl,{view:0,detail:0}),PA=Br(ec),L0,P0,tc,Hf=p({},ec,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:I0,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==tc&&(tc&&o.type==="mousemove"?(L0=o.screenX-tc.screenX,P0=o.screenY-tc.screenY):P0=L0=0,tc=o),L0)},movementY:function(o){return"movementY"in o?o.movementY:P0}}),Tv=Br(Hf),zA=p({},Hf,{dataTransfer:0}),IA=Br(zA),FA=p({},ec,{relatedTarget:0}),z0=Br(FA),BA=p({},xl,{animationName:0,elapsedTime:0,pseudoElement:0}),$A=Br(BA),HA=p({},xl,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),UA=Br(HA),VA=p({},xl,{data:0}),Mv=Br(VA),qA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},GA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YA(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=WA[o])?!!c[o]:!1}function I0(){return YA}var KA=p({},ec,{key:function(o){if(o.key){var c=qA[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=Ff(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?GA[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:I0,charCode:function(o){return o.type==="keypress"?Ff(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Ff(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),JA=Br(KA),XA=p({},Hf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ov=Br(XA),ZA=p({},ec,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:I0}),QA=Br(ZA),eD=p({},xl,{propertyName:0,elapsedTime:0,pseudoElement:0}),tD=Br(eD),nD=p({},Hf,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),rD=Br(nD),iD=p({},xl,{newState:0,oldState:0}),sD=Br(iD),aD=[9,13,27,32],F0=As&&"CompositionEvent"in window,nc=null;As&&"documentMode"in document&&(nc=document.documentMode);var lD=As&&"TextEvent"in window&&!nc,Rv=As&&(!F0||nc&&8<nc&&11>=nc),Lv=" ",Pv=!1;function zv(o,c){switch(o){case"keyup":return aD.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Iv(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var bo=!1;function oD(o,c){switch(o){case"compositionend":return Iv(c);case"keypress":return c.which!==32?null:(Pv=!0,Lv);case"textInput":return o=c.data,o===Lv&&Pv?null:o;default:return null}}function uD(o,c){if(bo)return o==="compositionend"||!F0&&zv(o,c)?(o=Av(),If=R0=la=null,bo=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Rv&&c.locale!=="ko"?null:c.data;default:return null}}var cD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fv(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!cD[o.type]:c==="textarea"}function Bv(o,c,h,g){xo?yo?yo.push(g):yo=[g]:xo=g,c=Eh(c,"onChange"),0<c.length&&(h=new $f("onChange","change",null,h,g),o.push({event:h,listeners:c}))}var rc=null,ic=null;function dD(o){v4(o,0)}function Uf(o){var c=dt(o);if(wv(c))return o}function $v(o,c){if(o==="change")return c}var Hv=!1;if(As){var B0;if(As){var $0="oninput"in document;if(!$0){var Uv=document.createElement("div");Uv.setAttribute("oninput","return;"),$0=typeof Uv.oninput=="function"}B0=$0}else B0=!1;Hv=B0&&(!document.documentMode||9<document.documentMode)}function Vv(){rc&&(rc.detachEvent("onpropertychange",qv),ic=rc=null)}function qv(o){if(o.propertyName==="value"&&Uf(ic)){var c=[];Bv(c,ic,o,T0(o)),Ev(dD,c)}}function fD(o,c,h){o==="focusin"?(Vv(),rc=c,ic=h,rc.attachEvent("onpropertychange",qv)):o==="focusout"&&Vv()}function hD(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Uf(ic)}function pD(o,c){if(o==="click")return Uf(c)}function mD(o,c){if(o==="input"||o==="change")return Uf(c)}function gD(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var Yr=typeof Object.is=="function"?Object.is:gD;function sc(o,c){if(Yr(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var h=Object.keys(o),g=Object.keys(c);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var w=h[g];if(!ze.call(c,w)||!Yr(o[w],c[w]))return!1}return!0}function Gv(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Wv(o,c){var h=Gv(o);o=0;for(var g;h;){if(h.nodeType===3){if(g=o+h.textContent.length,o<=c&&g>=c)return{node:h,offset:c-o};o=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Gv(h)}}function Yv(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?Yv(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function Kv(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=Pf(o.document);c instanceof o.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)o=c.contentWindow;else break;c=Pf(o.document)}return c}function H0(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var xD=As&&"documentMode"in document&&11>=document.documentMode,vo=null,U0=null,ac=null,V0=!1;function Jv(o,c,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;V0||vo==null||vo!==Pf(g)||(g=vo,"selectionStart"in g&&H0(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),ac&&sc(ac,g)||(ac=g,g=Eh(U0,"onSelect"),0<g.length&&(c=new $f("onSelect","select",null,c,h),o.push({event:c,listeners:g}),c.target=vo)))}function yl(o,c){var h={};return h[o.toLowerCase()]=c.toLowerCase(),h["Webkit"+o]="webkit"+c,h["Moz"+o]="moz"+c,h}var wo={animationend:yl("Animation","AnimationEnd"),animationiteration:yl("Animation","AnimationIteration"),animationstart:yl("Animation","AnimationStart"),transitionrun:yl("Transition","TransitionRun"),transitionstart:yl("Transition","TransitionStart"),transitioncancel:yl("Transition","TransitionCancel"),transitionend:yl("Transition","TransitionEnd")},q0={},Xv={};As&&(Xv=document.createElement("div").style,"AnimationEvent"in window||(delete wo.animationend.animation,delete wo.animationiteration.animation,delete wo.animationstart.animation),"TransitionEvent"in window||delete wo.transitionend.transition);function bl(o){if(q0[o])return q0[o];if(!wo[o])return o;var c=wo[o],h;for(h in c)if(c.hasOwnProperty(h)&&h in Xv)return q0[o]=c[h];return o}var Zv=bl("animationend"),Qv=bl("animationiteration"),ew=bl("animationstart"),yD=bl("transitionrun"),bD=bl("transitionstart"),vD=bl("transitioncancel"),tw=bl("transitionend"),nw=new Map,G0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");G0.push("scrollEnd");function Ri(o,c){nw.set(o,c),Kt(c,[o])}var rw=new WeakMap;function pi(o,c){if(typeof o=="object"&&o!==null){var h=rw.get(o);return h!==void 0?h:(c={value:o,source:c,stack:mn(c)},rw.set(o,c),c)}return{value:o,source:c,stack:mn(c)}}var mi=[],ko=0,W0=0;function Vf(){for(var o=ko,c=W0=ko=0;c<o;){var h=mi[c];mi[c++]=null;var g=mi[c];mi[c++]=null;var w=mi[c];mi[c++]=null;var S=mi[c];if(mi[c++]=null,g!==null&&w!==null){var O=g.pending;O===null?w.next=w:(w.next=O.next,O.next=w),g.pending=w}S!==0&&iw(h,w,S)}}function qf(o,c,h,g){mi[ko++]=o,mi[ko++]=c,mi[ko++]=h,mi[ko++]=g,W0|=g,o.lanes|=g,o=o.alternate,o!==null&&(o.lanes|=g)}function Y0(o,c,h,g){return qf(o,c,h,g),Gf(o)}function So(o,c){return qf(o,null,null,c),Gf(o)}function iw(o,c,h){o.lanes|=h;var g=o.alternate;g!==null&&(g.lanes|=h);for(var w=!1,S=o.return;S!==null;)S.childLanes|=h,g=S.alternate,g!==null&&(g.childLanes|=h),S.tag===22&&(o=S.stateNode,o===null||o._visibility&1||(w=!0)),o=S,S=S.return;return o.tag===3?(S=o.stateNode,w&&c!==null&&(w=31-Ue(h),o=S.hiddenUpdates,g=o[w],g===null?o[w]=[c]:g.push(c),c.lane=h|536870912),S):null}function Gf(o){if(50<Tc)throw Tc=0,eg=null,Error(r(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var Co={};function wD(o,c,h,g){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kr(o,c,h,g){return new wD(o,c,h,g)}function K0(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Ds(o,c){var h=o.alternate;return h===null?(h=Kr(o.tag,c,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=c,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&65011712,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,c=o.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h.refCleanup=o.refCleanup,h}function sw(o,c){o.flags&=65011714;var h=o.alternate;return h===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=h.childLanes,o.lanes=h.lanes,o.child=h.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=h.memoizedProps,o.memoizedState=h.memoizedState,o.updateQueue=h.updateQueue,o.type=h.type,c=h.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function Wf(o,c,h,g,w,S){var O=0;if(g=o,typeof o=="function")K0(o)&&(O=1);else if(typeof o=="string")O=ST(o,h,ie.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case L:return o=Kr(31,h,c,w),o.elementType=L,o.lanes=S,o;case v:return vl(h.children,w,S,c);case k:O=8,w|=24;break;case j:return o=Kr(12,h,c,w|2),o.elementType=j,o.lanes=S,o;case I:return o=Kr(13,h,c,w),o.elementType=I,o.lanes=S,o;case T:return o=Kr(19,h,c,w),o.elementType=T,o.lanes=S,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case C:case A:O=10;break e;case N:O=9;break e;case z:O=11;break e;case E:O=14;break e;case M:O=16,g=null;break e}O=29,h=Error(r(130,o===null?"null":typeof o,"")),g=null}return c=Kr(O,h,c,w),c.elementType=o,c.type=g,c.lanes=S,c}function vl(o,c,h,g){return o=Kr(7,o,g,c),o.lanes=h,o}function J0(o,c,h){return o=Kr(6,o,null,c),o.lanes=h,o}function X0(o,c,h){return c=Kr(4,o.children!==null?o.children:[],o.key,c),c.lanes=h,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var jo=[],_o=0,Yf=null,Kf=0,gi=[],xi=0,wl=null,Ts=1,Ms="";function kl(o,c){jo[_o++]=Kf,jo[_o++]=Yf,Yf=o,Kf=c}function aw(o,c,h){gi[xi++]=Ts,gi[xi++]=Ms,gi[xi++]=wl,wl=o;var g=Ts;o=Ms;var w=32-Ue(g)-1;g&=~(1<<w),h+=1;var S=32-Ue(c)+w;if(30<S){var O=w-w%5;S=(g&(1<<O)-1).toString(32),g>>=O,w-=O,Ts=1<<32-Ue(c)+w|h<<w|g,Ms=S+o}else Ts=1<<S|h<<w|g,Ms=o}function Z0(o){o.return!==null&&(kl(o,1),aw(o,1,0))}function Q0(o){for(;o===Yf;)Yf=jo[--_o],jo[_o]=null,Kf=jo[--_o],jo[_o]=null;for(;o===wl;)wl=gi[--xi],gi[xi]=null,Ms=gi[--xi],gi[xi]=null,Ts=gi[--xi],gi[xi]=null}var Tr=null,Cn=null,en=!1,Sl=null,Xi=!1,e1=Error(r(519));function Cl(o){var c=Error(r(418,""));throw uc(pi(c,o)),e1}function lw(o){var c=o.stateNode,h=o.type,g=o.memoizedProps;switch(c[X]=o,c[se]=g,h){case"dialog":Ut("cancel",c),Ut("close",c);break;case"iframe":case"object":case"embed":Ut("load",c);break;case"video":case"audio":for(h=0;h<Oc.length;h++)Ut(Oc[h],c);break;case"source":Ut("error",c);break;case"img":case"image":case"link":Ut("error",c),Ut("load",c);break;case"details":Ut("toggle",c);break;case"input":Ut("invalid",c),kv(c,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0),Lf(c);break;case"select":Ut("invalid",c);break;case"textarea":Ut("invalid",c),Cv(c,g.value,g.defaultValue,g.children),Lf(c)}h=g.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||c.textContent===""+h||g.suppressHydrationWarning===!0||C4(c.textContent,h)?(g.popover!=null&&(Ut("beforetoggle",c),Ut("toggle",c)),g.onScroll!=null&&Ut("scroll",c),g.onScrollEnd!=null&&Ut("scrollend",c),g.onClick!=null&&(c.onclick=Ah),c=!0):c=!1,c||Cl(o)}function ow(o){for(Tr=o.return;Tr;)switch(Tr.tag){case 5:case 13:Xi=!1;return;case 27:case 3:Xi=!0;return;default:Tr=Tr.return}}function lc(o){if(o!==Tr)return!1;if(!en)return ow(o),en=!0,!1;var c=o.tag,h;if((h=c!==3&&c!==27)&&((h=c===5)&&(h=o.type,h=!(h!=="form"&&h!=="button")||gg(o.type,o.memoizedProps)),h=!h),h&&Cn&&Cl(o),ow(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8)if(h=o.data,h==="/$"){if(c===0){Cn=Pi(o.nextSibling);break e}c--}else h!=="$"&&h!=="$!"&&h!=="$?"||c++;o=o.nextSibling}Cn=null}}else c===27?(c=Cn,Sa(o.type)?(o=vg,vg=null,Cn=o):Cn=c):Cn=Tr?Pi(o.stateNode.nextSibling):null;return!0}function oc(){Cn=Tr=null,en=!1}function uw(){var o=Sl;return o!==null&&(Ur===null?Ur=o:Ur.push.apply(Ur,o),Sl=null),o}function uc(o){Sl===null?Sl=[o]:Sl.push(o)}var t1=Q(null),jl=null,Os=null;function oa(o,c,h){P(t1,c._currentValue),c._currentValue=h}function Rs(o){o._currentValue=t1.current,G(t1)}function n1(o,c,h){for(;o!==null;){var g=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),o===h)break;o=o.return}}function r1(o,c,h,g){var w=o.child;for(w!==null&&(w.return=o);w!==null;){var S=w.dependencies;if(S!==null){var O=w.child;S=S.firstContext;e:for(;S!==null;){var B=S;S=w;for(var ee=0;ee<c.length;ee++)if(B.context===c[ee]){S.lanes|=h,B=S.alternate,B!==null&&(B.lanes|=h),n1(S.return,h,o),g||(O=null);break e}S=B.next}}else if(w.tag===18){if(O=w.return,O===null)throw Error(r(341));O.lanes|=h,S=O.alternate,S!==null&&(S.lanes|=h),n1(O,h,o),O=null}else O=w.child;if(O!==null)O.return=w;else for(O=w;O!==null;){if(O===o){O=null;break}if(w=O.sibling,w!==null){w.return=O.return,O=w;break}O=O.return}w=O}}function cc(o,c,h,g){o=null;for(var w=c,S=!1;w!==null;){if(!S){if((w.flags&524288)!==0)S=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var O=w.alternate;if(O===null)throw Error(r(387));if(O=O.memoizedProps,O!==null){var B=w.type;Yr(w.pendingProps.value,O.value)||(o!==null?o.push(B):o=[B])}}else if(w===ae.current){if(O=w.alternate,O===null)throw Error(r(387));O.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(o!==null?o.push(Fc):o=[Fc])}w=w.return}o!==null&&r1(c,o,h,g),c.flags|=262144}function Jf(o){for(o=o.firstContext;o!==null;){if(!Yr(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function _l(o){jl=o,Os=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function wr(o){return cw(jl,o)}function Xf(o,c){return jl===null&&_l(o),cw(o,c)}function cw(o,c){var h=c._currentValue;if(c={context:c,memoizedValue:h,next:null},Os===null){if(o===null)throw Error(r(308));Os=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else Os=Os.next=c;return h}var kD=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(h,g){o.push(g)}};this.abort=function(){c.aborted=!0,o.forEach(function(h){return h()})}},SD=e.unstable_scheduleCallback,CD=e.unstable_NormalPriority,Un={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function i1(){return{controller:new kD,data:new Map,refCount:0}}function dc(o){o.refCount--,o.refCount===0&&SD(CD,function(){o.controller.abort()})}var fc=null,s1=0,No=0,Eo=null;function jD(o,c){if(fc===null){var h=fc=[];s1=0,No=lg(),Eo={status:"pending",value:void 0,then:function(g){h.push(g)}}}return s1++,c.then(dw,dw),c}function dw(){if(--s1===0&&fc!==null){Eo!==null&&(Eo.status="fulfilled");var o=fc;fc=null,No=0,Eo=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function _D(o,c){var h=[],g={status:"pending",value:null,reason:null,then:function(w){h.push(w)}};return o.then(function(){g.status="fulfilled",g.value=c;for(var w=0;w<h.length;w++)(0,h[w])(c)},function(w){for(g.status="rejected",g.reason=w,w=0;w<h.length;w++)(0,h[w])(void 0)}),g}var fw=F.S;F.S=function(o,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&jD(o,c),fw!==null&&fw(o,c)};var Nl=Q(null);function a1(){var o=Nl.current;return o!==null?o:dn.pooledCache}function Zf(o,c){c===null?P(Nl,Nl.current):P(Nl,c.pool)}function hw(){var o=a1();return o===null?null:{parent:Un._currentValue,pool:o}}var hc=Error(r(460)),pw=Error(r(474)),Qf=Error(r(542)),l1={then:function(){}};function mw(o){return o=o.status,o==="fulfilled"||o==="rejected"}function eh(){}function gw(o,c,h){switch(h=o[h],h===void 0?o.push(c):h!==c&&(c.then(eh,eh),c=h),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,yw(o),o;default:if(typeof c.status=="string")c.then(eh,eh);else{if(o=dn,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=c,o.status="pending",o.then(function(g){if(c.status==="pending"){var w=c;w.status="fulfilled",w.value=g}},function(g){if(c.status==="pending"){var w=c;w.status="rejected",w.reason=g}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,yw(o),o}throw pc=c,hc}}var pc=null;function xw(){if(pc===null)throw Error(r(459));var o=pc;return pc=null,o}function yw(o){if(o===hc||o===Qf)throw Error(r(483))}var ua=!1;function o1(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function u1(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function ca(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function da(o,c,h){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(nn&2)!==0){var w=g.pending;return w===null?c.next=c:(c.next=w.next,w.next=c),g.pending=c,c=Gf(o),iw(o,null,h),c}return qf(o,g,c,h),Gf(o)}function mc(o,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194048)!==0)){var g=c.lanes;g&=o.pendingLanes,h|=g,c.lanes=h,pn(o,h)}}function c1(o,c){var h=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var w=null,S=null;if(h=h.firstBaseUpdate,h!==null){do{var O={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};S===null?w=S=O:S=S.next=O,h=h.next}while(h!==null);S===null?w=S=c:S=S.next=c}else w=S=c;h={baseState:g.baseState,firstBaseUpdate:w,lastBaseUpdate:S,shared:g.shared,callbacks:g.callbacks},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=c}var d1=!1;function gc(){if(d1){var o=Eo;if(o!==null)throw o}}function xc(o,c,h,g){d1=!1;var w=o.updateQueue;ua=!1;var S=w.firstBaseUpdate,O=w.lastBaseUpdate,B=w.shared.pending;if(B!==null){w.shared.pending=null;var ee=B,fe=ee.next;ee.next=null,O===null?S=fe:O.next=fe,O=ee;var Se=o.alternate;Se!==null&&(Se=Se.updateQueue,B=Se.lastBaseUpdate,B!==O&&(B===null?Se.firstBaseUpdate=fe:B.next=fe,Se.lastBaseUpdate=ee))}if(S!==null){var _e=w.baseState;O=0,Se=fe=ee=null,B=S;do{var he=B.lane&-536870913,ge=he!==B.lane;if(ge?(Gt&he)===he:(g&he)===he){he!==0&&he===No&&(d1=!0),Se!==null&&(Se=Se.next={lane:0,tag:B.tag,payload:B.payload,callback:null,next:null});e:{var Ct=o,bt=B;he=c;var on=h;switch(bt.tag){case 1:if(Ct=bt.payload,typeof Ct=="function"){_e=Ct.call(on,_e,he);break e}_e=Ct;break e;case 3:Ct.flags=Ct.flags&-65537|128;case 0:if(Ct=bt.payload,he=typeof Ct=="function"?Ct.call(on,_e,he):Ct,he==null)break e;_e=p({},_e,he);break e;case 2:ua=!0}}he=B.callback,he!==null&&(o.flags|=64,ge&&(o.flags|=8192),ge=w.callbacks,ge===null?w.callbacks=[he]:ge.push(he))}else ge={lane:he,tag:B.tag,payload:B.payload,callback:B.callback,next:null},Se===null?(fe=Se=ge,ee=_e):Se=Se.next=ge,O|=he;if(B=B.next,B===null){if(B=w.shared.pending,B===null)break;ge=B,B=ge.next,ge.next=null,w.lastBaseUpdate=ge,w.shared.pending=null}}while(!0);Se===null&&(ee=_e),w.baseState=ee,w.firstBaseUpdate=fe,w.lastBaseUpdate=Se,S===null&&(w.shared.lanes=0),ba|=O,o.lanes=O,o.memoizedState=_e}}function bw(o,c){if(typeof o!="function")throw Error(r(191,o));o.call(c)}function vw(o,c){var h=o.callbacks;if(h!==null)for(o.callbacks=null,o=0;o<h.length;o++)bw(h[o],c)}var Ao=Q(null),th=Q(0);function ww(o,c){o=$s,P(th,o),P(Ao,c),$s=o|c.baseLanes}function f1(){P(th,$s),P(Ao,Ao.current)}function h1(){$s=th.current,G(Ao),G(th)}var fa=0,It=null,an=null,zn=null,nh=!1,Do=!1,El=!1,rh=0,yc=0,To=null,ND=0;function Mn(){throw Error(r(321))}function p1(o,c){if(c===null)return!1;for(var h=0;h<c.length&&h<o.length;h++)if(!Yr(o[h],c[h]))return!1;return!0}function m1(o,c,h,g,w,S){return fa=S,It=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,F.H=o===null||o.memoizedState===null?i3:s3,El=!1,S=h(g,w),El=!1,Do&&(S=Sw(c,h,g,w)),kw(o),S}function kw(o){F.H=uh;var c=an!==null&&an.next!==null;if(fa=0,zn=an=It=null,nh=!1,yc=0,To=null,c)throw Error(r(300));o===null||Zn||(o=o.dependencies,o!==null&&Jf(o)&&(Zn=!0))}function Sw(o,c,h,g){It=o;var w=0;do{if(Do&&(To=null),yc=0,Do=!1,25<=w)throw Error(r(301));if(w+=1,zn=an=null,o.updateQueue!=null){var S=o.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}F.H=RD,S=c(h,g)}while(Do);return S}function ED(){var o=F.H,c=o.useState()[0];return c=typeof c.then=="function"?bc(c):c,o=o.useState()[0],(an!==null?an.memoizedState:null)!==o&&(It.flags|=1024),c}function g1(){var o=rh!==0;return rh=0,o}function x1(o,c,h){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~h}function y1(o){if(nh){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}nh=!1}fa=0,zn=an=It=null,Do=!1,yc=rh=0,To=null}function $r(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zn===null?It.memoizedState=zn=o:zn=zn.next=o,zn}function In(){if(an===null){var o=It.alternate;o=o!==null?o.memoizedState:null}else o=an.next;var c=zn===null?It.memoizedState:zn.next;if(c!==null)zn=c,an=o;else{if(o===null)throw It.alternate===null?Error(r(467)):Error(r(310));an=o,o={memoizedState:an.memoizedState,baseState:an.baseState,baseQueue:an.baseQueue,queue:an.queue,next:null},zn===null?It.memoizedState=zn=o:zn=zn.next=o}return zn}function b1(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bc(o){var c=yc;return yc+=1,To===null&&(To=[]),o=gw(To,o,c),c=It,(zn===null?c.memoizedState:zn.next)===null&&(c=c.alternate,F.H=c===null||c.memoizedState===null?i3:s3),o}function ih(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return bc(o);if(o.$$typeof===A)return wr(o)}throw Error(r(438,String(o)))}function v1(o){var c=null,h=It.updateQueue;if(h!==null&&(c=h.memoCache),c==null){var g=It.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(c={data:g.data.map(function(w){return w.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),h===null&&(h=b1(),It.updateQueue=h),h.memoCache=c,h=c.data[c.index],h===void 0)for(h=c.data[c.index]=Array(o),g=0;g<o;g++)h[g]=D;return c.index++,h}function Ls(o,c){return typeof c=="function"?c(o):c}function sh(o){var c=In();return w1(c,an,o)}function w1(o,c,h){var g=o.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=h;var w=o.baseQueue,S=g.pending;if(S!==null){if(w!==null){var O=w.next;w.next=S.next,S.next=O}c.baseQueue=w=S,g.pending=null}if(S=o.baseState,w===null)o.memoizedState=S;else{c=w.next;var B=O=null,ee=null,fe=c,Se=!1;do{var _e=fe.lane&-536870913;if(_e!==fe.lane?(Gt&_e)===_e:(fa&_e)===_e){var he=fe.revertLane;if(he===0)ee!==null&&(ee=ee.next={lane:0,revertLane:0,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),_e===No&&(Se=!0);else if((fa&he)===he){fe=fe.next,he===No&&(Se=!0);continue}else _e={lane:0,revertLane:fe.revertLane,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},ee===null?(B=ee=_e,O=S):ee=ee.next=_e,It.lanes|=he,ba|=he;_e=fe.action,El&&h(S,_e),S=fe.hasEagerState?fe.eagerState:h(S,_e)}else he={lane:_e,revertLane:fe.revertLane,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},ee===null?(B=ee=he,O=S):ee=ee.next=he,It.lanes|=_e,ba|=_e;fe=fe.next}while(fe!==null&&fe!==c);if(ee===null?O=S:ee.next=B,!Yr(S,o.memoizedState)&&(Zn=!0,Se&&(h=Eo,h!==null)))throw h;o.memoizedState=S,o.baseState=O,o.baseQueue=ee,g.lastRenderedState=S}return w===null&&(g.lanes=0),[o.memoizedState,g.dispatch]}function k1(o){var c=In(),h=c.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=o;var g=h.dispatch,w=h.pending,S=c.memoizedState;if(w!==null){h.pending=null;var O=w=w.next;do S=o(S,O.action),O=O.next;while(O!==w);Yr(S,c.memoizedState)||(Zn=!0),c.memoizedState=S,c.baseQueue===null&&(c.baseState=S),h.lastRenderedState=S}return[S,g]}function Cw(o,c,h){var g=It,w=In(),S=en;if(S){if(h===void 0)throw Error(r(407));h=h()}else h=c();var O=!Yr((an||w).memoizedState,h);O&&(w.memoizedState=h,Zn=!0),w=w.queue;var B=Nw.bind(null,g,w,o);if(vc(2048,8,B,[o]),w.getSnapshot!==c||O||zn!==null&&zn.memoizedState.tag&1){if(g.flags|=2048,Mo(9,ah(),_w.bind(null,g,w,h,c),null),dn===null)throw Error(r(349));S||(fa&124)!==0||jw(g,c,h)}return h}function jw(o,c,h){o.flags|=16384,o={getSnapshot:c,value:h},c=It.updateQueue,c===null?(c=b1(),It.updateQueue=c,c.stores=[o]):(h=c.stores,h===null?c.stores=[o]:h.push(o))}function _w(o,c,h,g){c.value=h,c.getSnapshot=g,Ew(c)&&Aw(o)}function Nw(o,c,h){return h(function(){Ew(c)&&Aw(o)})}function Ew(o){var c=o.getSnapshot;o=o.value;try{var h=c();return!Yr(o,h)}catch{return!0}}function Aw(o){var c=So(o,2);c!==null&&ei(c,o,2)}function S1(o){var c=$r();if(typeof o=="function"){var h=o;if(o=h(),El){Fe(!0);try{h()}finally{Fe(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:o},c}function Dw(o,c,h,g){return o.baseState=h,w1(o,an,typeof g=="function"?g:Ls)}function AD(o,c,h,g,w){if(oh(o))throw Error(r(485));if(o=c.action,o!==null){var S={payload:w,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){S.listeners.push(O)}};F.T!==null?h(!0):S.isTransition=!1,g(S),h=c.pending,h===null?(S.next=c.pending=S,Tw(c,S)):(S.next=h.next,c.pending=h.next=S)}}function Tw(o,c){var h=c.action,g=c.payload,w=o.state;if(c.isTransition){var S=F.T,O={};F.T=O;try{var B=h(w,g),ee=F.S;ee!==null&&ee(O,B),Mw(o,c,B)}catch(fe){C1(o,c,fe)}finally{F.T=S}}else try{S=h(w,g),Mw(o,c,S)}catch(fe){C1(o,c,fe)}}function Mw(o,c,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(g){Ow(o,c,g)},function(g){return C1(o,c,g)}):Ow(o,c,h)}function Ow(o,c,h){c.status="fulfilled",c.value=h,Rw(c),o.state=h,c=o.pending,c!==null&&(h=c.next,h===c?o.pending=null:(h=h.next,c.next=h,Tw(o,h)))}function C1(o,c,h){var g=o.pending;if(o.pending=null,g!==null){g=g.next;do c.status="rejected",c.reason=h,Rw(c),c=c.next;while(c!==g)}o.action=null}function Rw(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function Lw(o,c){return c}function Pw(o,c){if(en){var h=dn.formState;if(h!==null){e:{var g=It;if(en){if(Cn){t:{for(var w=Cn,S=Xi;w.nodeType!==8;){if(!S){w=null;break t}if(w=Pi(w.nextSibling),w===null){w=null;break t}}S=w.data,w=S==="F!"||S==="F"?w:null}if(w){Cn=Pi(w.nextSibling),g=w.data==="F!";break e}}Cl(g)}g=!1}g&&(c=h[0])}}return h=$r(),h.memoizedState=h.baseState=c,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lw,lastRenderedState:c},h.queue=g,h=t3.bind(null,It,g),g.dispatch=h,g=S1(!1),S=A1.bind(null,It,!1,g.queue),g=$r(),w={state:c,dispatch:null,action:o,pending:null},g.queue=w,h=AD.bind(null,It,w,S,h),w.dispatch=h,g.memoizedState=o,[c,h,!1]}function zw(o){var c=In();return Iw(c,an,o)}function Iw(o,c,h){if(c=w1(o,c,Lw)[0],o=sh(Ls)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var g=bc(c)}catch(O){throw O===hc?Qf:O}else g=c;c=In();var w=c.queue,S=w.dispatch;return h!==c.memoizedState&&(It.flags|=2048,Mo(9,ah(),DD.bind(null,w,h),null)),[g,S,o]}function DD(o,c){o.action=c}function Fw(o){var c=In(),h=an;if(h!==null)return Iw(c,h,o);In(),c=c.memoizedState,h=In();var g=h.queue.dispatch;return h.memoizedState=o,[c,g,!1]}function Mo(o,c,h,g){return o={tag:o,create:h,deps:g,inst:c,next:null},c=It.updateQueue,c===null&&(c=b1(),It.updateQueue=c),h=c.lastEffect,h===null?c.lastEffect=o.next=o:(g=h.next,h.next=o,o.next=g,c.lastEffect=o),o}function ah(){return{destroy:void 0,resource:void 0}}function Bw(){return In().memoizedState}function lh(o,c,h,g){var w=$r();g=g===void 0?null:g,It.flags|=o,w.memoizedState=Mo(1|c,ah(),h,g)}function vc(o,c,h,g){var w=In();g=g===void 0?null:g;var S=w.memoizedState.inst;an!==null&&g!==null&&p1(g,an.memoizedState.deps)?w.memoizedState=Mo(c,S,h,g):(It.flags|=o,w.memoizedState=Mo(1|c,S,h,g))}function $w(o,c){lh(8390656,8,o,c)}function Hw(o,c){vc(2048,8,o,c)}function Uw(o,c){return vc(4,2,o,c)}function Vw(o,c){return vc(4,4,o,c)}function qw(o,c){if(typeof c=="function"){o=o();var h=c(o);return function(){typeof h=="function"?h():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function Gw(o,c,h){h=h!=null?h.concat([o]):null,vc(4,4,qw.bind(null,c,o),h)}function j1(){}function Ww(o,c){var h=In();c=c===void 0?null:c;var g=h.memoizedState;return c!==null&&p1(c,g[1])?g[0]:(h.memoizedState=[o,c],o)}function Yw(o,c){var h=In();c=c===void 0?null:c;var g=h.memoizedState;if(c!==null&&p1(c,g[1]))return g[0];if(g=o(),El){Fe(!0);try{o()}finally{Fe(!1)}}return h.memoizedState=[g,c],g}function _1(o,c,h){return h===void 0||(fa&1073741824)!==0?o.memoizedState=c:(o.memoizedState=h,o=X3(),It.lanes|=o,ba|=o,h)}function Kw(o,c,h,g){return Yr(h,c)?h:Ao.current!==null?(o=_1(o,h,g),Yr(o,c)||(Zn=!0),o):(fa&42)===0?(Zn=!0,o.memoizedState=h):(o=X3(),It.lanes|=o,ba|=o,c)}function Jw(o,c,h,g,w){var S=W.p;W.p=S!==0&&8>S?S:8;var O=F.T,B={};F.T=B,A1(o,!1,c,h);try{var ee=w(),fe=F.S;if(fe!==null&&fe(B,ee),ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var Se=_D(ee,g);wc(o,c,Se,Qr(o))}else wc(o,c,g,Qr(o))}catch(_e){wc(o,c,{then:function(){},status:"rejected",reason:_e},Qr())}finally{W.p=S,F.T=O}}function TD(){}function N1(o,c,h,g){if(o.tag!==5)throw Error(r(476));var w=Xw(o).queue;Jw(o,w,c,R,h===null?TD:function(){return Zw(o),h(g)})}function Xw(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:R},next:null};var h={};return c.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:h},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function Zw(o){var c=Xw(o).next.queue;wc(o,c,{},Qr())}function E1(){return wr(Fc)}function Qw(){return In().memoizedState}function e3(){return In().memoizedState}function MD(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var h=Qr();o=ca(h);var g=da(c,o,h);g!==null&&(ei(g,c,h),mc(g,c,h)),c={cache:i1()},o.payload=c;return}c=c.return}}function OD(o,c,h){var g=Qr();h={lane:g,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},oh(o)?n3(c,h):(h=Y0(o,c,h,g),h!==null&&(ei(h,o,g),r3(h,c,g)))}function t3(o,c,h){var g=Qr();wc(o,c,h,g)}function wc(o,c,h,g){var w={lane:g,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(oh(o))n3(c,w);else{var S=o.alternate;if(o.lanes===0&&(S===null||S.lanes===0)&&(S=c.lastRenderedReducer,S!==null))try{var O=c.lastRenderedState,B=S(O,h);if(w.hasEagerState=!0,w.eagerState=B,Yr(B,O))return qf(o,c,w,0),dn===null&&Vf(),!1}catch{}finally{}if(h=Y0(o,c,w,g),h!==null)return ei(h,o,g),r3(h,c,g),!0}return!1}function A1(o,c,h,g){if(g={lane:2,revertLane:lg(),action:g,hasEagerState:!1,eagerState:null,next:null},oh(o)){if(c)throw Error(r(479))}else c=Y0(o,h,g,2),c!==null&&ei(c,o,2)}function oh(o){var c=o.alternate;return o===It||c!==null&&c===It}function n3(o,c){Do=nh=!0;var h=o.pending;h===null?c.next=c:(c.next=h.next,h.next=c),o.pending=c}function r3(o,c,h){if((h&4194048)!==0){var g=c.lanes;g&=o.pendingLanes,h|=g,c.lanes=h,pn(o,h)}}var uh={readContext:wr,use:ih,useCallback:Mn,useContext:Mn,useEffect:Mn,useImperativeHandle:Mn,useLayoutEffect:Mn,useInsertionEffect:Mn,useMemo:Mn,useReducer:Mn,useRef:Mn,useState:Mn,useDebugValue:Mn,useDeferredValue:Mn,useTransition:Mn,useSyncExternalStore:Mn,useId:Mn,useHostTransitionStatus:Mn,useFormState:Mn,useActionState:Mn,useOptimistic:Mn,useMemoCache:Mn,useCacheRefresh:Mn},i3={readContext:wr,use:ih,useCallback:function(o,c){return $r().memoizedState=[o,c===void 0?null:c],o},useContext:wr,useEffect:$w,useImperativeHandle:function(o,c,h){h=h!=null?h.concat([o]):null,lh(4194308,4,qw.bind(null,c,o),h)},useLayoutEffect:function(o,c){return lh(4194308,4,o,c)},useInsertionEffect:function(o,c){lh(4,2,o,c)},useMemo:function(o,c){var h=$r();c=c===void 0?null:c;var g=o();if(El){Fe(!0);try{o()}finally{Fe(!1)}}return h.memoizedState=[g,c],g},useReducer:function(o,c,h){var g=$r();if(h!==void 0){var w=h(c);if(El){Fe(!0);try{h(c)}finally{Fe(!1)}}}else w=c;return g.memoizedState=g.baseState=w,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:w},g.queue=o,o=o.dispatch=OD.bind(null,It,o),[g.memoizedState,o]},useRef:function(o){var c=$r();return o={current:o},c.memoizedState=o},useState:function(o){o=S1(o);var c=o.queue,h=t3.bind(null,It,c);return c.dispatch=h,[o.memoizedState,h]},useDebugValue:j1,useDeferredValue:function(o,c){var h=$r();return _1(h,o,c)},useTransition:function(){var o=S1(!1);return o=Jw.bind(null,It,o.queue,!0,!1),$r().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,h){var g=It,w=$r();if(en){if(h===void 0)throw Error(r(407));h=h()}else{if(h=c(),dn===null)throw Error(r(349));(Gt&124)!==0||jw(g,c,h)}w.memoizedState=h;var S={value:h,getSnapshot:c};return w.queue=S,$w(Nw.bind(null,g,S,o),[o]),g.flags|=2048,Mo(9,ah(),_w.bind(null,g,S,h,c),null),h},useId:function(){var o=$r(),c=dn.identifierPrefix;if(en){var h=Ms,g=Ts;h=(g&~(1<<32-Ue(g)-1)).toString(32)+h,c=""+c+"R"+h,h=rh++,0<h&&(c+="H"+h.toString(32)),c+=""}else h=ND++,c=""+c+"r"+h.toString(32)+"";return o.memoizedState=c},useHostTransitionStatus:E1,useFormState:Pw,useActionState:Pw,useOptimistic:function(o){var c=$r();c.memoizedState=c.baseState=o;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=h,c=A1.bind(null,It,!0,h),h.dispatch=c,[o,c]},useMemoCache:v1,useCacheRefresh:function(){return $r().memoizedState=MD.bind(null,It)}},s3={readContext:wr,use:ih,useCallback:Ww,useContext:wr,useEffect:Hw,useImperativeHandle:Gw,useInsertionEffect:Uw,useLayoutEffect:Vw,useMemo:Yw,useReducer:sh,useRef:Bw,useState:function(){return sh(Ls)},useDebugValue:j1,useDeferredValue:function(o,c){var h=In();return Kw(h,an.memoizedState,o,c)},useTransition:function(){var o=sh(Ls)[0],c=In().memoizedState;return[typeof o=="boolean"?o:bc(o),c]},useSyncExternalStore:Cw,useId:Qw,useHostTransitionStatus:E1,useFormState:zw,useActionState:zw,useOptimistic:function(o,c){var h=In();return Dw(h,an,o,c)},useMemoCache:v1,useCacheRefresh:e3},RD={readContext:wr,use:ih,useCallback:Ww,useContext:wr,useEffect:Hw,useImperativeHandle:Gw,useInsertionEffect:Uw,useLayoutEffect:Vw,useMemo:Yw,useReducer:k1,useRef:Bw,useState:function(){return k1(Ls)},useDebugValue:j1,useDeferredValue:function(o,c){var h=In();return an===null?_1(h,o,c):Kw(h,an.memoizedState,o,c)},useTransition:function(){var o=k1(Ls)[0],c=In().memoizedState;return[typeof o=="boolean"?o:bc(o),c]},useSyncExternalStore:Cw,useId:Qw,useHostTransitionStatus:E1,useFormState:Fw,useActionState:Fw,useOptimistic:function(o,c){var h=In();return an!==null?Dw(h,an,o,c):(h.baseState=o,[o,h.queue.dispatch])},useMemoCache:v1,useCacheRefresh:e3},Oo=null,kc=0;function ch(o){var c=kc;return kc+=1,Oo===null&&(Oo=[]),gw(Oo,o,c)}function Sc(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function dh(o,c){throw c.$$typeof===m?Error(r(525)):(o=Object.prototype.toString.call(c),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function a3(o){var c=o._init;return c(o._payload)}function l3(o){function c(oe,re){if(o){var de=oe.deletions;de===null?(oe.deletions=[re],oe.flags|=16):de.push(re)}}function h(oe,re){if(!o)return null;for(;re!==null;)c(oe,re),re=re.sibling;return null}function g(oe){for(var re=new Map;oe!==null;)oe.key!==null?re.set(oe.key,oe):re.set(oe.index,oe),oe=oe.sibling;return re}function w(oe,re){return oe=Ds(oe,re),oe.index=0,oe.sibling=null,oe}function S(oe,re,de){return oe.index=de,o?(de=oe.alternate,de!==null?(de=de.index,de<re?(oe.flags|=67108866,re):de):(oe.flags|=67108866,re)):(oe.flags|=1048576,re)}function O(oe){return o&&oe.alternate===null&&(oe.flags|=67108866),oe}function B(oe,re,de,je){return re===null||re.tag!==6?(re=J0(de,oe.mode,je),re.return=oe,re):(re=w(re,de),re.return=oe,re)}function ee(oe,re,de,je){var Qe=de.type;return Qe===v?Se(oe,re,de.props.children,je,de.key):re!==null&&(re.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===M&&a3(Qe)===re.type)?(re=w(re,de.props),Sc(re,de),re.return=oe,re):(re=Wf(de.type,de.key,de.props,null,oe.mode,je),Sc(re,de),re.return=oe,re)}function fe(oe,re,de,je){return re===null||re.tag!==4||re.stateNode.containerInfo!==de.containerInfo||re.stateNode.implementation!==de.implementation?(re=X0(de,oe.mode,je),re.return=oe,re):(re=w(re,de.children||[]),re.return=oe,re)}function Se(oe,re,de,je,Qe){return re===null||re.tag!==7?(re=vl(de,oe.mode,je,Qe),re.return=oe,re):(re=w(re,de),re.return=oe,re)}function _e(oe,re,de){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return re=J0(""+re,oe.mode,de),re.return=oe,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case x:return de=Wf(re.type,re.key,re.props,null,oe.mode,de),Sc(de,re),de.return=oe,de;case y:return re=X0(re,oe.mode,de),re.return=oe,re;case M:var je=re._init;return re=je(re._payload),_e(oe,re,de)}if(q(re)||K(re))return re=vl(re,oe.mode,de,null),re.return=oe,re;if(typeof re.then=="function")return _e(oe,ch(re),de);if(re.$$typeof===A)return _e(oe,Xf(oe,re),de);dh(oe,re)}return null}function he(oe,re,de,je){var Qe=re!==null?re.key:null;if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return Qe!==null?null:B(oe,re,""+de,je);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case x:return de.key===Qe?ee(oe,re,de,je):null;case y:return de.key===Qe?fe(oe,re,de,je):null;case M:return Qe=de._init,de=Qe(de._payload),he(oe,re,de,je)}if(q(de)||K(de))return Qe!==null?null:Se(oe,re,de,je,null);if(typeof de.then=="function")return he(oe,re,ch(de),je);if(de.$$typeof===A)return he(oe,re,Xf(oe,de),je);dh(oe,de)}return null}function ge(oe,re,de,je,Qe){if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return oe=oe.get(de)||null,B(re,oe,""+je,Qe);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case x:return oe=oe.get(je.key===null?de:je.key)||null,ee(re,oe,je,Qe);case y:return oe=oe.get(je.key===null?de:je.key)||null,fe(re,oe,je,Qe);case M:var Bt=je._init;return je=Bt(je._payload),ge(oe,re,de,je,Qe)}if(q(je)||K(je))return oe=oe.get(de)||null,Se(re,oe,je,Qe,null);if(typeof je.then=="function")return ge(oe,re,de,ch(je),Qe);if(je.$$typeof===A)return ge(oe,re,de,Xf(re,je),Qe);dh(re,je)}return null}function Ct(oe,re,de,je){for(var Qe=null,Bt=null,gt=re,kt=re=0,er=null;gt!==null&&kt<de.length;kt++){gt.index>kt?(er=gt,gt=null):er=gt.sibling;var Qt=he(oe,gt,de[kt],je);if(Qt===null){gt===null&&(gt=er);break}o&&gt&&Qt.alternate===null&&c(oe,gt),re=S(Qt,re,kt),Bt===null?Qe=Qt:Bt.sibling=Qt,Bt=Qt,gt=er}if(kt===de.length)return h(oe,gt),en&&kl(oe,kt),Qe;if(gt===null){for(;kt<de.length;kt++)gt=_e(oe,de[kt],je),gt!==null&&(re=S(gt,re,kt),Bt===null?Qe=gt:Bt.sibling=gt,Bt=gt);return en&&kl(oe,kt),Qe}for(gt=g(gt);kt<de.length;kt++)er=ge(gt,oe,kt,de[kt],je),er!==null&&(o&&er.alternate!==null&&gt.delete(er.key===null?kt:er.key),re=S(er,re,kt),Bt===null?Qe=er:Bt.sibling=er,Bt=er);return o&&gt.forEach(function(Ea){return c(oe,Ea)}),en&&kl(oe,kt),Qe}function bt(oe,re,de,je){if(de==null)throw Error(r(151));for(var Qe=null,Bt=null,gt=re,kt=re=0,er=null,Qt=de.next();gt!==null&&!Qt.done;kt++,Qt=de.next()){gt.index>kt?(er=gt,gt=null):er=gt.sibling;var Ea=he(oe,gt,Qt.value,je);if(Ea===null){gt===null&&(gt=er);break}o&&gt&&Ea.alternate===null&&c(oe,gt),re=S(Ea,re,kt),Bt===null?Qe=Ea:Bt.sibling=Ea,Bt=Ea,gt=er}if(Qt.done)return h(oe,gt),en&&kl(oe,kt),Qe;if(gt===null){for(;!Qt.done;kt++,Qt=de.next())Qt=_e(oe,Qt.value,je),Qt!==null&&(re=S(Qt,re,kt),Bt===null?Qe=Qt:Bt.sibling=Qt,Bt=Qt);return en&&kl(oe,kt),Qe}for(gt=g(gt);!Qt.done;kt++,Qt=de.next())Qt=ge(gt,oe,kt,Qt.value,je),Qt!==null&&(o&&Qt.alternate!==null&&gt.delete(Qt.key===null?kt:Qt.key),re=S(Qt,re,kt),Bt===null?Qe=Qt:Bt.sibling=Qt,Bt=Qt);return o&&gt.forEach(function(LT){return c(oe,LT)}),en&&kl(oe,kt),Qe}function on(oe,re,de,je){if(typeof de=="object"&&de!==null&&de.type===v&&de.key===null&&(de=de.props.children),typeof de=="object"&&de!==null){switch(de.$$typeof){case x:e:{for(var Qe=de.key;re!==null;){if(re.key===Qe){if(Qe=de.type,Qe===v){if(re.tag===7){h(oe,re.sibling),je=w(re,de.props.children),je.return=oe,oe=je;break e}}else if(re.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===M&&a3(Qe)===re.type){h(oe,re.sibling),je=w(re,de.props),Sc(je,de),je.return=oe,oe=je;break e}h(oe,re);break}else c(oe,re);re=re.sibling}de.type===v?(je=vl(de.props.children,oe.mode,je,de.key),je.return=oe,oe=je):(je=Wf(de.type,de.key,de.props,null,oe.mode,je),Sc(je,de),je.return=oe,oe=je)}return O(oe);case y:e:{for(Qe=de.key;re!==null;){if(re.key===Qe)if(re.tag===4&&re.stateNode.containerInfo===de.containerInfo&&re.stateNode.implementation===de.implementation){h(oe,re.sibling),je=w(re,de.children||[]),je.return=oe,oe=je;break e}else{h(oe,re);break}else c(oe,re);re=re.sibling}je=X0(de,oe.mode,je),je.return=oe,oe=je}return O(oe);case M:return Qe=de._init,de=Qe(de._payload),on(oe,re,de,je)}if(q(de))return Ct(oe,re,de,je);if(K(de)){if(Qe=K(de),typeof Qe!="function")throw Error(r(150));return de=Qe.call(de),bt(oe,re,de,je)}if(typeof de.then=="function")return on(oe,re,ch(de),je);if(de.$$typeof===A)return on(oe,re,Xf(oe,de),je);dh(oe,de)}return typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint"?(de=""+de,re!==null&&re.tag===6?(h(oe,re.sibling),je=w(re,de),je.return=oe,oe=je):(h(oe,re),je=J0(de,oe.mode,je),je.return=oe,oe=je),O(oe)):h(oe,re)}return function(oe,re,de,je){try{kc=0;var Qe=on(oe,re,de,je);return Oo=null,Qe}catch(gt){if(gt===hc||gt===Qf)throw gt;var Bt=Kr(29,gt,null,oe.mode);return Bt.lanes=je,Bt.return=oe,Bt}finally{}}}var Ro=l3(!0),o3=l3(!1),yi=Q(null),Zi=null;function ha(o){var c=o.alternate;P(Vn,Vn.current&1),P(yi,o),Zi===null&&(c===null||Ao.current!==null||c.memoizedState!==null)&&(Zi=o)}function u3(o){if(o.tag===22){if(P(Vn,Vn.current),P(yi,o),Zi===null){var c=o.alternate;c!==null&&c.memoizedState!==null&&(Zi=o)}}else pa()}function pa(){P(Vn,Vn.current),P(yi,yi.current)}function Ps(o){G(yi),Zi===o&&(Zi=null),G(Vn)}var Vn=Q(0);function fh(o){for(var c=o;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||bg(h)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function D1(o,c,h,g){c=o.memoizedState,h=h(g,c),h=h==null?c:p({},c,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var T1={enqueueSetState:function(o,c,h){o=o._reactInternals;var g=Qr(),w=ca(g);w.payload=c,h!=null&&(w.callback=h),c=da(o,w,g),c!==null&&(ei(c,o,g),mc(c,o,g))},enqueueReplaceState:function(o,c,h){o=o._reactInternals;var g=Qr(),w=ca(g);w.tag=1,w.payload=c,h!=null&&(w.callback=h),c=da(o,w,g),c!==null&&(ei(c,o,g),mc(c,o,g))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var h=Qr(),g=ca(h);g.tag=2,c!=null&&(g.callback=c),c=da(o,g,h),c!==null&&(ei(c,o,h),mc(c,o,h))}};function c3(o,c,h,g,w,S,O){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,S,O):c.prototype&&c.prototype.isPureReactComponent?!sc(h,g)||!sc(w,S):!0}function d3(o,c,h,g){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,g),c.state!==o&&T1.enqueueReplaceState(c,c.state,null)}function Al(o,c){var h=c;if("ref"in c){h={};for(var g in c)g!=="ref"&&(h[g]=c[g])}if(o=o.defaultProps){h===c&&(h=p({},h));for(var w in o)h[w]===void 0&&(h[w]=o[w])}return h}var hh=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function f3(o){hh(o)}function h3(o){console.error(o)}function p3(o){hh(o)}function ph(o,c){try{var h=o.onUncaughtError;h(c.value,{componentStack:c.stack})}catch(g){setTimeout(function(){throw g})}}function m3(o,c,h){try{var g=o.onCaughtError;g(h.value,{componentStack:h.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function M1(o,c,h){return h=ca(h),h.tag=3,h.payload={element:null},h.callback=function(){ph(o,c)},h}function g3(o){return o=ca(o),o.tag=3,o}function x3(o,c,h,g){var w=h.type.getDerivedStateFromError;if(typeof w=="function"){var S=g.value;o.payload=function(){return w(S)},o.callback=function(){m3(c,h,g)}}var O=h.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(o.callback=function(){m3(c,h,g),typeof w!="function"&&(va===null?va=new Set([this]):va.add(this));var B=g.stack;this.componentDidCatch(g.value,{componentStack:B!==null?B:""})})}function LD(o,c,h,g,w){if(h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(c=h.alternate,c!==null&&cc(c,h,w,!0),h=yi.current,h!==null){switch(h.tag){case 13:return Zi===null?ng():h.alternate===null&&jn===0&&(jn=3),h.flags&=-257,h.flags|=65536,h.lanes=w,g===l1?h.flags|=16384:(c=h.updateQueue,c===null?h.updateQueue=new Set([g]):c.add(g),ig(o,g,w)),!1;case 22:return h.flags|=65536,g===l1?h.flags|=16384:(c=h.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([g])},h.updateQueue=c):(h=c.retryQueue,h===null?c.retryQueue=new Set([g]):h.add(g)),ig(o,g,w)),!1}throw Error(r(435,h.tag))}return ig(o,g,w),ng(),!1}if(en)return c=yi.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=w,g!==e1&&(o=Error(r(422),{cause:g}),uc(pi(o,h)))):(g!==e1&&(c=Error(r(423),{cause:g}),uc(pi(c,h))),o=o.current.alternate,o.flags|=65536,w&=-w,o.lanes|=w,g=pi(g,h),w=M1(o.stateNode,g,w),c1(o,w),jn!==4&&(jn=2)),!1;var S=Error(r(520),{cause:g});if(S=pi(S,h),Dc===null?Dc=[S]:Dc.push(S),jn!==4&&(jn=2),c===null)return!0;g=pi(g,h),h=c;do{switch(h.tag){case 3:return h.flags|=65536,o=w&-w,h.lanes|=o,o=M1(h.stateNode,g,o),c1(h,o),!1;case 1:if(c=h.type,S=h.stateNode,(h.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(va===null||!va.has(S))))return h.flags|=65536,w&=-w,h.lanes|=w,w=g3(w),x3(w,o,h,g),c1(h,w),!1}h=h.return}while(h!==null);return!1}var y3=Error(r(461)),Zn=!1;function cr(o,c,h,g){c.child=o===null?o3(c,null,h,g):Ro(c,o.child,h,g)}function b3(o,c,h,g,w){h=h.render;var S=c.ref;if("ref"in g){var O={};for(var B in g)B!=="ref"&&(O[B]=g[B])}else O=g;return _l(c),g=m1(o,c,h,O,S,w),B=g1(),o!==null&&!Zn?(x1(o,c,w),zs(o,c,w)):(en&&B&&Z0(c),c.flags|=1,cr(o,c,g,w),c.child)}function v3(o,c,h,g,w){if(o===null){var S=h.type;return typeof S=="function"&&!K0(S)&&S.defaultProps===void 0&&h.compare===null?(c.tag=15,c.type=S,w3(o,c,S,g,w)):(o=Wf(h.type,null,g,c,c.mode,w),o.ref=c.ref,o.return=c,c.child=o)}if(S=o.child,!B1(o,w)){var O=S.memoizedProps;if(h=h.compare,h=h!==null?h:sc,h(O,g)&&o.ref===c.ref)return zs(o,c,w)}return c.flags|=1,o=Ds(S,g),o.ref=c.ref,o.return=c,c.child=o}function w3(o,c,h,g,w){if(o!==null){var S=o.memoizedProps;if(sc(S,g)&&o.ref===c.ref)if(Zn=!1,c.pendingProps=g=S,B1(o,w))(o.flags&131072)!==0&&(Zn=!0);else return c.lanes=o.lanes,zs(o,c,w)}return O1(o,c,h,g,w)}function k3(o,c,h){var g=c.pendingProps,w=g.children,S=o!==null?o.memoizedState:null;if(g.mode==="hidden"){if((c.flags&128)!==0){if(g=S!==null?S.baseLanes|h:h,o!==null){for(w=c.child=o.child,S=0;w!==null;)S=S|w.lanes|w.childLanes,w=w.sibling;c.childLanes=S&~g}else c.childLanes=0,c.child=null;return S3(o,c,g,h)}if((h&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&Zf(c,S!==null?S.cachePool:null),S!==null?ww(c,S):f1(),u3(c);else return c.lanes=c.childLanes=536870912,S3(o,c,S!==null?S.baseLanes|h:h,h)}else S!==null?(Zf(c,S.cachePool),ww(c,S),pa(),c.memoizedState=null):(o!==null&&Zf(c,null),f1(),pa());return cr(o,c,w,h),c.child}function S3(o,c,h,g){var w=a1();return w=w===null?null:{parent:Un._currentValue,pool:w},c.memoizedState={baseLanes:h,cachePool:w},o!==null&&Zf(c,null),f1(),u3(c),o!==null&&cc(o,c,g,!0),null}function mh(o,c){var h=c.ref;if(h===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(o===null||o.ref!==h)&&(c.flags|=4194816)}}function O1(o,c,h,g,w){return _l(c),h=m1(o,c,h,g,void 0,w),g=g1(),o!==null&&!Zn?(x1(o,c,w),zs(o,c,w)):(en&&g&&Z0(c),c.flags|=1,cr(o,c,h,w),c.child)}function C3(o,c,h,g,w,S){return _l(c),c.updateQueue=null,h=Sw(c,g,h,w),kw(o),g=g1(),o!==null&&!Zn?(x1(o,c,S),zs(o,c,S)):(en&&g&&Z0(c),c.flags|=1,cr(o,c,h,S),c.child)}function j3(o,c,h,g,w){if(_l(c),c.stateNode===null){var S=Co,O=h.contextType;typeof O=="object"&&O!==null&&(S=wr(O)),S=new h(g,S),c.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=T1,c.stateNode=S,S._reactInternals=c,S=c.stateNode,S.props=g,S.state=c.memoizedState,S.refs={},o1(c),O=h.contextType,S.context=typeof O=="object"&&O!==null?wr(O):Co,S.state=c.memoizedState,O=h.getDerivedStateFromProps,typeof O=="function"&&(D1(c,h,O,g),S.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(O=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),O!==S.state&&T1.enqueueReplaceState(S,S.state,null),xc(c,g,S,w),gc(),S.state=c.memoizedState),typeof S.componentDidMount=="function"&&(c.flags|=4194308),g=!0}else if(o===null){S=c.stateNode;var B=c.memoizedProps,ee=Al(h,B);S.props=ee;var fe=S.context,Se=h.contextType;O=Co,typeof Se=="object"&&Se!==null&&(O=wr(Se));var _e=h.getDerivedStateFromProps;Se=typeof _e=="function"||typeof S.getSnapshotBeforeUpdate=="function",B=c.pendingProps!==B,Se||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(B||fe!==O)&&d3(c,S,g,O),ua=!1;var he=c.memoizedState;S.state=he,xc(c,g,S,w),gc(),fe=c.memoizedState,B||he!==fe||ua?(typeof _e=="function"&&(D1(c,h,_e,g),fe=c.memoizedState),(ee=ua||c3(c,h,ee,g,he,fe,O))?(Se||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(c.flags|=4194308)):(typeof S.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=fe),S.props=g,S.state=fe,S.context=O,g=ee):(typeof S.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{S=c.stateNode,u1(o,c),O=c.memoizedProps,Se=Al(h,O),S.props=Se,_e=c.pendingProps,he=S.context,fe=h.contextType,ee=Co,typeof fe=="object"&&fe!==null&&(ee=wr(fe)),B=h.getDerivedStateFromProps,(fe=typeof B=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(O!==_e||he!==ee)&&d3(c,S,g,ee),ua=!1,he=c.memoizedState,S.state=he,xc(c,g,S,w),gc();var ge=c.memoizedState;O!==_e||he!==ge||ua||o!==null&&o.dependencies!==null&&Jf(o.dependencies)?(typeof B=="function"&&(D1(c,h,B,g),ge=c.memoizedState),(Se=ua||c3(c,h,Se,g,he,ge,ee)||o!==null&&o.dependencies!==null&&Jf(o.dependencies))?(fe||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(g,ge,ee),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(g,ge,ee)),typeof S.componentDidUpdate=="function"&&(c.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof S.componentDidUpdate!="function"||O===o.memoizedProps&&he===o.memoizedState||(c.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||O===o.memoizedProps&&he===o.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=ge),S.props=g,S.state=ge,S.context=ee,g=Se):(typeof S.componentDidUpdate!="function"||O===o.memoizedProps&&he===o.memoizedState||(c.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||O===o.memoizedProps&&he===o.memoizedState||(c.flags|=1024),g=!1)}return S=g,mh(o,c),g=(c.flags&128)!==0,S||g?(S=c.stateNode,h=g&&typeof h.getDerivedStateFromError!="function"?null:S.render(),c.flags|=1,o!==null&&g?(c.child=Ro(c,o.child,null,w),c.child=Ro(c,null,h,w)):cr(o,c,h,w),c.memoizedState=S.state,o=c.child):o=zs(o,c,w),o}function _3(o,c,h,g){return oc(),c.flags|=256,cr(o,c,h,g),c.child}var R1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function L1(o){return{baseLanes:o,cachePool:hw()}}function P1(o,c,h){return o=o!==null?o.childLanes&~h:0,c&&(o|=bi),o}function N3(o,c,h){var g=c.pendingProps,w=!1,S=(c.flags&128)!==0,O;if((O=S)||(O=o!==null&&o.memoizedState===null?!1:(Vn.current&2)!==0),O&&(w=!0,c.flags&=-129),O=(c.flags&32)!==0,c.flags&=-33,o===null){if(en){if(w?ha(c):pa(),en){var B=Cn,ee;if(ee=B){e:{for(ee=B,B=Xi;ee.nodeType!==8;){if(!B){B=null;break e}if(ee=Pi(ee.nextSibling),ee===null){B=null;break e}}B=ee}B!==null?(c.memoizedState={dehydrated:B,treeContext:wl!==null?{id:Ts,overflow:Ms}:null,retryLane:536870912,hydrationErrors:null},ee=Kr(18,null,null,0),ee.stateNode=B,ee.return=c,c.child=ee,Tr=c,Cn=null,ee=!0):ee=!1}ee||Cl(c)}if(B=c.memoizedState,B!==null&&(B=B.dehydrated,B!==null))return bg(B)?c.lanes=32:c.lanes=536870912,null;Ps(c)}return B=g.children,g=g.fallback,w?(pa(),w=c.mode,B=gh({mode:"hidden",children:B},w),g=vl(g,w,h,null),B.return=c,g.return=c,B.sibling=g,c.child=B,w=c.child,w.memoizedState=L1(h),w.childLanes=P1(o,O,h),c.memoizedState=R1,g):(ha(c),z1(c,B))}if(ee=o.memoizedState,ee!==null&&(B=ee.dehydrated,B!==null)){if(S)c.flags&256?(ha(c),c.flags&=-257,c=I1(o,c,h)):c.memoizedState!==null?(pa(),c.child=o.child,c.flags|=128,c=null):(pa(),w=g.fallback,B=c.mode,g=gh({mode:"visible",children:g.children},B),w=vl(w,B,h,null),w.flags|=2,g.return=c,w.return=c,g.sibling=w,c.child=g,Ro(c,o.child,null,h),g=c.child,g.memoizedState=L1(h),g.childLanes=P1(o,O,h),c.memoizedState=R1,c=w);else if(ha(c),bg(B)){if(O=B.nextSibling&&B.nextSibling.dataset,O)var fe=O.dgst;O=fe,g=Error(r(419)),g.stack="",g.digest=O,uc({value:g,source:null,stack:null}),c=I1(o,c,h)}else if(Zn||cc(o,c,h,!1),O=(h&o.childLanes)!==0,Zn||O){if(O=dn,O!==null&&(g=h&-h,g=(g&42)!==0?1:xn(g),g=(g&(O.suspendedLanes|h))!==0?0:g,g!==0&&g!==ee.retryLane))throw ee.retryLane=g,So(o,g),ei(O,o,g),y3;B.data==="$?"||ng(),c=I1(o,c,h)}else B.data==="$?"?(c.flags|=192,c.child=o.child,c=null):(o=ee.treeContext,Cn=Pi(B.nextSibling),Tr=c,en=!0,Sl=null,Xi=!1,o!==null&&(gi[xi++]=Ts,gi[xi++]=Ms,gi[xi++]=wl,Ts=o.id,Ms=o.overflow,wl=c),c=z1(c,g.children),c.flags|=4096);return c}return w?(pa(),w=g.fallback,B=c.mode,ee=o.child,fe=ee.sibling,g=Ds(ee,{mode:"hidden",children:g.children}),g.subtreeFlags=ee.subtreeFlags&65011712,fe!==null?w=Ds(fe,w):(w=vl(w,B,h,null),w.flags|=2),w.return=c,g.return=c,g.sibling=w,c.child=g,g=w,w=c.child,B=o.child.memoizedState,B===null?B=L1(h):(ee=B.cachePool,ee!==null?(fe=Un._currentValue,ee=ee.parent!==fe?{parent:fe,pool:fe}:ee):ee=hw(),B={baseLanes:B.baseLanes|h,cachePool:ee}),w.memoizedState=B,w.childLanes=P1(o,O,h),c.memoizedState=R1,g):(ha(c),h=o.child,o=h.sibling,h=Ds(h,{mode:"visible",children:g.children}),h.return=c,h.sibling=null,o!==null&&(O=c.deletions,O===null?(c.deletions=[o],c.flags|=16):O.push(o)),c.child=h,c.memoizedState=null,h)}function z1(o,c){return c=gh({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function gh(o,c){return o=Kr(22,o,null,c),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function I1(o,c,h){return Ro(c,o.child,null,h),o=z1(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function E3(o,c,h){o.lanes|=c;var g=o.alternate;g!==null&&(g.lanes|=c),n1(o.return,c,h)}function F1(o,c,h,g,w){var S=o.memoizedState;S===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:w}:(S.isBackwards=c,S.rendering=null,S.renderingStartTime=0,S.last=g,S.tail=h,S.tailMode=w)}function A3(o,c,h){var g=c.pendingProps,w=g.revealOrder,S=g.tail;if(cr(o,c,g.children,h),g=Vn.current,(g&2)!==0)g=g&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&E3(o,h,c);else if(o.tag===19)E3(o,h,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}g&=1}switch(P(Vn,g),w){case"forwards":for(h=c.child,w=null;h!==null;)o=h.alternate,o!==null&&fh(o)===null&&(w=h),h=h.sibling;h=w,h===null?(w=c.child,c.child=null):(w=h.sibling,h.sibling=null),F1(c,!1,w,h,S);break;case"backwards":for(h=null,w=c.child,c.child=null;w!==null;){if(o=w.alternate,o!==null&&fh(o)===null){c.child=w;break}o=w.sibling,w.sibling=h,h=w,w=o}F1(c,!0,h,null,S);break;case"together":F1(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function zs(o,c,h){if(o!==null&&(c.dependencies=o.dependencies),ba|=c.lanes,(h&c.childLanes)===0)if(o!==null){if(cc(o,c,h,!1),(h&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(r(153));if(c.child!==null){for(o=c.child,h=Ds(o,o.pendingProps),c.child=h,h.return=c;o.sibling!==null;)o=o.sibling,h=h.sibling=Ds(o,o.pendingProps),h.return=c;h.sibling=null}return c.child}function B1(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&Jf(o)))}function PD(o,c,h){switch(c.tag){case 3:ke(c,c.stateNode.containerInfo),oa(c,Un,o.memoizedState.cache),oc();break;case 27:case 5:He(c);break;case 4:ke(c,c.stateNode.containerInfo);break;case 10:oa(c,c.type,c.memoizedProps.value);break;case 13:var g=c.memoizedState;if(g!==null)return g.dehydrated!==null?(ha(c),c.flags|=128,null):(h&c.child.childLanes)!==0?N3(o,c,h):(ha(c),o=zs(o,c,h),o!==null?o.sibling:null);ha(c);break;case 19:var w=(o.flags&128)!==0;if(g=(h&c.childLanes)!==0,g||(cc(o,c,h,!1),g=(h&c.childLanes)!==0),w){if(g)return A3(o,c,h);c.flags|=128}if(w=c.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),P(Vn,Vn.current),g)break;return null;case 22:case 23:return c.lanes=0,k3(o,c,h);case 24:oa(c,Un,o.memoizedState.cache)}return zs(o,c,h)}function D3(o,c,h){if(o!==null)if(o.memoizedProps!==c.pendingProps)Zn=!0;else{if(!B1(o,h)&&(c.flags&128)===0)return Zn=!1,PD(o,c,h);Zn=(o.flags&131072)!==0}else Zn=!1,en&&(c.flags&1048576)!==0&&aw(c,Kf,c.index);switch(c.lanes=0,c.tag){case 16:e:{o=c.pendingProps;var g=c.elementType,w=g._init;if(g=w(g._payload),c.type=g,typeof g=="function")K0(g)?(o=Al(g,o),c.tag=1,c=j3(null,c,g,o,h)):(c.tag=0,c=O1(null,c,g,o,h));else{if(g!=null){if(w=g.$$typeof,w===z){c.tag=11,c=b3(null,c,g,o,h);break e}else if(w===E){c.tag=14,c=v3(null,c,g,o,h);break e}}throw c=Z(g)||g,Error(r(306,c,""))}}return c;case 0:return O1(o,c,c.type,c.pendingProps,h);case 1:return g=c.type,w=Al(g,c.pendingProps),j3(o,c,g,w,h);case 3:e:{if(ke(c,c.stateNode.containerInfo),o===null)throw Error(r(387));g=c.pendingProps;var S=c.memoizedState;w=S.element,u1(o,c),xc(c,g,null,h);var O=c.memoizedState;if(g=O.cache,oa(c,Un,g),g!==S.cache&&r1(c,[Un],h,!0),gc(),g=O.element,S.isDehydrated)if(S={element:g,isDehydrated:!1,cache:O.cache},c.updateQueue.baseState=S,c.memoizedState=S,c.flags&256){c=_3(o,c,g,h);break e}else if(g!==w){w=pi(Error(r(424)),c),uc(w),c=_3(o,c,g,h);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Cn=Pi(o.firstChild),Tr=c,en=!0,Sl=null,Xi=!0,h=o3(c,null,g,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(oc(),g===w){c=zs(o,c,h);break e}cr(o,c,g,h)}c=c.child}return c;case 26:return mh(o,c),o===null?(h=R4(c.type,null,c.pendingProps,null))?c.memoizedState=h:en||(h=c.type,o=c.pendingProps,g=Dh(te.current).createElement(h),g[X]=c,g[se]=o,fr(g,h,o),Nt(g),c.stateNode=g):c.memoizedState=R4(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return He(c),o===null&&en&&(g=c.stateNode=T4(c.type,c.pendingProps,te.current),Tr=c,Xi=!0,w=Cn,Sa(c.type)?(vg=w,Cn=Pi(g.firstChild)):Cn=w),cr(o,c,c.pendingProps.children,h),mh(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&en&&((w=g=Cn)&&(g=cT(g,c.type,c.pendingProps,Xi),g!==null?(c.stateNode=g,Tr=c,Cn=Pi(g.firstChild),Xi=!1,w=!0):w=!1),w||Cl(c)),He(c),w=c.type,S=c.pendingProps,O=o!==null?o.memoizedProps:null,g=S.children,gg(w,S)?g=null:O!==null&&gg(w,O)&&(c.flags|=32),c.memoizedState!==null&&(w=m1(o,c,ED,null,null,h),Fc._currentValue=w),mh(o,c),cr(o,c,g,h),c.child;case 6:return o===null&&en&&((o=h=Cn)&&(h=dT(h,c.pendingProps,Xi),h!==null?(c.stateNode=h,Tr=c,Cn=null,o=!0):o=!1),o||Cl(c)),null;case 13:return N3(o,c,h);case 4:return ke(c,c.stateNode.containerInfo),g=c.pendingProps,o===null?c.child=Ro(c,null,g,h):cr(o,c,g,h),c.child;case 11:return b3(o,c,c.type,c.pendingProps,h);case 7:return cr(o,c,c.pendingProps,h),c.child;case 8:return cr(o,c,c.pendingProps.children,h),c.child;case 12:return cr(o,c,c.pendingProps.children,h),c.child;case 10:return g=c.pendingProps,oa(c,c.type,g.value),cr(o,c,g.children,h),c.child;case 9:return w=c.type._context,g=c.pendingProps.children,_l(c),w=wr(w),g=g(w),c.flags|=1,cr(o,c,g,h),c.child;case 14:return v3(o,c,c.type,c.pendingProps,h);case 15:return w3(o,c,c.type,c.pendingProps,h);case 19:return A3(o,c,h);case 31:return g=c.pendingProps,h=c.mode,g={mode:g.mode,children:g.children},o===null?(h=gh(g,h),h.ref=c.ref,c.child=h,h.return=c,c=h):(h=Ds(o.child,g),h.ref=c.ref,c.child=h,h.return=c,c=h),c;case 22:return k3(o,c,h);case 24:return _l(c),g=wr(Un),o===null?(w=a1(),w===null&&(w=dn,S=i1(),w.pooledCache=S,S.refCount++,S!==null&&(w.pooledCacheLanes|=h),w=S),c.memoizedState={parent:g,cache:w},o1(c),oa(c,Un,w)):((o.lanes&h)!==0&&(u1(o,c),xc(c,null,null,h),gc()),w=o.memoizedState,S=c.memoizedState,w.parent!==g?(w={parent:g,cache:g},c.memoizedState=w,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=w),oa(c,Un,g)):(g=S.cache,oa(c,Un,g),g!==w.cache&&r1(c,[Un],h,!0))),cr(o,c,c.pendingProps.children,h),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function Is(o){o.flags|=4}function T3(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!F4(c)){if(c=yi.current,c!==null&&((Gt&4194048)===Gt?Zi!==null:(Gt&62914560)!==Gt&&(Gt&536870912)===0||c!==Zi))throw pc=l1,pw;o.flags|=8192}}function xh(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?pt():536870912,o.lanes|=c,Io|=c)}function Cc(o,c){if(!en)switch(o.tailMode){case"hidden":c=o.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function vn(o){var c=o.alternate!==null&&o.alternate.child===o.child,h=0,g=0;if(c)for(var w=o.child;w!==null;)h|=w.lanes|w.childLanes,g|=w.subtreeFlags&65011712,g|=w.flags&65011712,w.return=o,w=w.sibling;else for(w=o.child;w!==null;)h|=w.lanes|w.childLanes,g|=w.subtreeFlags,g|=w.flags,w.return=o,w=w.sibling;return o.subtreeFlags|=g,o.childLanes=h,c}function zD(o,c,h){var g=c.pendingProps;switch(Q0(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vn(c),null;case 1:return vn(c),null;case 3:return h=c.stateNode,g=null,o!==null&&(g=o.memoizedState.cache),c.memoizedState.cache!==g&&(c.flags|=2048),Rs(Un),Ge(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(o===null||o.child===null)&&(lc(c)?Is(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,uw())),vn(c),null;case 26:return h=c.memoizedState,o===null?(Is(c),h!==null?(vn(c),T3(c,h)):(vn(c),c.flags&=-16777217)):h?h!==o.memoizedState?(Is(c),vn(c),T3(c,h)):(vn(c),c.flags&=-16777217):(o.memoizedProps!==g&&Is(c),vn(c),c.flags&=-16777217),null;case 27:Me(c),h=te.current;var w=c.type;if(o!==null&&c.stateNode!=null)o.memoizedProps!==g&&Is(c);else{if(!g){if(c.stateNode===null)throw Error(r(166));return vn(c),null}o=ie.current,lc(c)?lw(c):(o=T4(w,g,h),c.stateNode=o,Is(c))}return vn(c),null;case 5:if(Me(c),h=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==g&&Is(c);else{if(!g){if(c.stateNode===null)throw Error(r(166));return vn(c),null}if(o=ie.current,lc(c))lw(c);else{switch(w=Dh(te.current),o){case 1:o=w.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:o=w.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":o=w.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":o=w.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":o=w.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof g.is=="string"?w.createElement("select",{is:g.is}):w.createElement("select"),g.multiple?o.multiple=!0:g.size&&(o.size=g.size);break;default:o=typeof g.is=="string"?w.createElement(h,{is:g.is}):w.createElement(h)}}o[X]=c,o[se]=g;e:for(w=c.child;w!==null;){if(w.tag===5||w.tag===6)o.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===c)break e;for(;w.sibling===null;){if(w.return===null||w.return===c)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}c.stateNode=o;e:switch(fr(o,h,g),h){case"button":case"input":case"select":case"textarea":o=!!g.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Is(c)}}return vn(c),c.flags&=-16777217,null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==g&&Is(c);else{if(typeof g!="string"&&c.stateNode===null)throw Error(r(166));if(o=te.current,lc(c)){if(o=c.stateNode,h=c.memoizedProps,g=null,w=Tr,w!==null)switch(w.tag){case 27:case 5:g=w.memoizedProps}o[X]=c,o=!!(o.nodeValue===h||g!==null&&g.suppressHydrationWarning===!0||C4(o.nodeValue,h)),o||Cl(c)}else o=Dh(o).createTextNode(g),o[X]=c,c.stateNode=o}return vn(c),null;case 13:if(g=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(w=lc(c),g!==null&&g.dehydrated!==null){if(o===null){if(!w)throw Error(r(318));if(w=c.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[X]=c}else oc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;vn(c),w=!1}else w=uw(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=w),w=!0;if(!w)return c.flags&256?(Ps(c),c):(Ps(c),null)}if(Ps(c),(c.flags&128)!==0)return c.lanes=h,c;if(h=g!==null,o=o!==null&&o.memoizedState!==null,h){g=c.child,w=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(w=g.alternate.memoizedState.cachePool.pool);var S=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(S=g.memoizedState.cachePool.pool),S!==w&&(g.flags|=2048)}return h!==o&&h&&(c.child.flags|=8192),xh(c,c.updateQueue),vn(c),null;case 4:return Ge(),o===null&&dg(c.stateNode.containerInfo),vn(c),null;case 10:return Rs(c.type),vn(c),null;case 19:if(G(Vn),w=c.memoizedState,w===null)return vn(c),null;if(g=(c.flags&128)!==0,S=w.rendering,S===null)if(g)Cc(w,!1);else{if(jn!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(S=fh(o),S!==null){for(c.flags|=128,Cc(w,!1),o=S.updateQueue,c.updateQueue=o,xh(c,o),c.subtreeFlags=0,o=h,h=c.child;h!==null;)sw(h,o),h=h.sibling;return P(Vn,Vn.current&1|2),c.child}o=o.sibling}w.tail!==null&&Y()>vh&&(c.flags|=128,g=!0,Cc(w,!1),c.lanes=4194304)}else{if(!g)if(o=fh(S),o!==null){if(c.flags|=128,g=!0,o=o.updateQueue,c.updateQueue=o,xh(c,o),Cc(w,!0),w.tail===null&&w.tailMode==="hidden"&&!S.alternate&&!en)return vn(c),null}else 2*Y()-w.renderingStartTime>vh&&h!==536870912&&(c.flags|=128,g=!0,Cc(w,!1),c.lanes=4194304);w.isBackwards?(S.sibling=c.child,c.child=S):(o=w.last,o!==null?o.sibling=S:c.child=S,w.last=S)}return w.tail!==null?(c=w.tail,w.rendering=c,w.tail=c.sibling,w.renderingStartTime=Y(),c.sibling=null,o=Vn.current,P(Vn,g?o&1|2:o&1),c):(vn(c),null);case 22:case 23:return Ps(c),h1(),g=c.memoizedState!==null,o!==null?o.memoizedState!==null!==g&&(c.flags|=8192):g&&(c.flags|=8192),g?(h&536870912)!==0&&(c.flags&128)===0&&(vn(c),c.subtreeFlags&6&&(c.flags|=8192)):vn(c),h=c.updateQueue,h!==null&&xh(c,h.retryQueue),h=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==h&&(c.flags|=2048),o!==null&&G(Nl),null;case 24:return h=null,o!==null&&(h=o.memoizedState.cache),c.memoizedState.cache!==h&&(c.flags|=2048),Rs(Un),vn(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function ID(o,c){switch(Q0(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return Rs(Un),Ge(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return Me(c),null;case 13:if(Ps(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(r(340));oc()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return G(Vn),null;case 4:return Ge(),null;case 10:return Rs(c.type),null;case 22:case 23:return Ps(c),h1(),o!==null&&G(Nl),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return Rs(Un),null;case 25:return null;default:return null}}function M3(o,c){switch(Q0(c),c.tag){case 3:Rs(Un),Ge();break;case 26:case 27:case 5:Me(c);break;case 4:Ge();break;case 13:Ps(c);break;case 19:G(Vn);break;case 10:Rs(c.type);break;case 22:case 23:Ps(c),h1(),o!==null&&G(Nl);break;case 24:Rs(Un)}}function jc(o,c){try{var h=c.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var w=g.next;h=w;do{if((h.tag&o)===o){g=void 0;var S=h.create,O=h.inst;g=S(),O.destroy=g}h=h.next}while(h!==w)}}catch(B){un(c,c.return,B)}}function ma(o,c,h){try{var g=c.updateQueue,w=g!==null?g.lastEffect:null;if(w!==null){var S=w.next;g=S;do{if((g.tag&o)===o){var O=g.inst,B=O.destroy;if(B!==void 0){O.destroy=void 0,w=c;var ee=h,fe=B;try{fe()}catch(Se){un(w,ee,Se)}}}g=g.next}while(g!==S)}}catch(Se){un(c,c.return,Se)}}function O3(o){var c=o.updateQueue;if(c!==null){var h=o.stateNode;try{vw(c,h)}catch(g){un(o,o.return,g)}}}function R3(o,c,h){h.props=Al(o.type,o.memoizedProps),h.state=o.memoizedState;try{h.componentWillUnmount()}catch(g){un(o,c,g)}}function _c(o,c){try{var h=o.ref;if(h!==null){switch(o.tag){case 26:case 27:case 5:var g=o.stateNode;break;case 30:g=o.stateNode;break;default:g=o.stateNode}typeof h=="function"?o.refCleanup=h(g):h.current=g}}catch(w){un(o,c,w)}}function Qi(o,c){var h=o.ref,g=o.refCleanup;if(h!==null)if(typeof g=="function")try{g()}catch(w){un(o,c,w)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(w){un(o,c,w)}else h.current=null}function L3(o){var c=o.type,h=o.memoizedProps,g=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":h.autoFocus&&g.focus();break e;case"img":h.src?g.src=h.src:h.srcSet&&(g.srcset=h.srcSet)}}catch(w){un(o,o.return,w)}}function $1(o,c,h){try{var g=o.stateNode;sT(g,o.type,h,c),g[se]=c}catch(w){un(o,o.return,w)}}function P3(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Sa(o.type)||o.tag===4}function H1(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||P3(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Sa(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function U1(o,c,h){var g=o.tag;if(g===5||g===6)o=o.stateNode,c?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(o,c):(c=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,c.appendChild(o),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=Ah));else if(g!==4&&(g===27&&Sa(o.type)&&(h=o.stateNode,c=null),o=o.child,o!==null))for(U1(o,c,h),o=o.sibling;o!==null;)U1(o,c,h),o=o.sibling}function yh(o,c,h){var g=o.tag;if(g===5||g===6)o=o.stateNode,c?h.insertBefore(o,c):h.appendChild(o);else if(g!==4&&(g===27&&Sa(o.type)&&(h=o.stateNode),o=o.child,o!==null))for(yh(o,c,h),o=o.sibling;o!==null;)yh(o,c,h),o=o.sibling}function z3(o){var c=o.stateNode,h=o.memoizedProps;try{for(var g=o.type,w=c.attributes;w.length;)c.removeAttributeNode(w[0]);fr(c,g,h),c[X]=o,c[se]=h}catch(S){un(o,o.return,S)}}var Fs=!1,On=!1,V1=!1,I3=typeof WeakSet=="function"?WeakSet:Set,Qn=null;function FD(o,c){if(o=o.containerInfo,pg=Ph,o=Kv(o),H0(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var w=g.anchorOffset,S=g.focusNode;g=g.focusOffset;try{h.nodeType,S.nodeType}catch{h=null;break e}var O=0,B=-1,ee=-1,fe=0,Se=0,_e=o,he=null;t:for(;;){for(var ge;_e!==h||w!==0&&_e.nodeType!==3||(B=O+w),_e!==S||g!==0&&_e.nodeType!==3||(ee=O+g),_e.nodeType===3&&(O+=_e.nodeValue.length),(ge=_e.firstChild)!==null;)he=_e,_e=ge;for(;;){if(_e===o)break t;if(he===h&&++fe===w&&(B=O),he===S&&++Se===g&&(ee=O),(ge=_e.nextSibling)!==null)break;_e=he,he=_e.parentNode}_e=ge}h=B===-1||ee===-1?null:{start:B,end:ee}}else h=null}h=h||{start:0,end:0}}else h=null;for(mg={focusedElem:o,selectionRange:h},Ph=!1,Qn=c;Qn!==null;)if(c=Qn,o=c.child,(c.subtreeFlags&1024)!==0&&o!==null)o.return=c,Qn=o;else for(;Qn!==null;){switch(c=Qn,S=c.alternate,o=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&S!==null){o=void 0,h=c,w=S.memoizedProps,S=S.memoizedState,g=h.stateNode;try{var Ct=Al(h.type,w,h.elementType===h.type);o=g.getSnapshotBeforeUpdate(Ct,S),g.__reactInternalSnapshotBeforeUpdate=o}catch(bt){un(h,h.return,bt)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,h=o.nodeType,h===9)yg(o);else if(h===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":yg(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=c.sibling,o!==null){o.return=c.return,Qn=o;break}Qn=c.return}}function F3(o,c,h){var g=h.flags;switch(h.tag){case 0:case 11:case 15:ga(o,h),g&4&&jc(5,h);break;case 1:if(ga(o,h),g&4)if(o=h.stateNode,c===null)try{o.componentDidMount()}catch(O){un(h,h.return,O)}else{var w=Al(h.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(w,c,o.__reactInternalSnapshotBeforeUpdate)}catch(O){un(h,h.return,O)}}g&64&&O3(h),g&512&&_c(h,h.return);break;case 3:if(ga(o,h),g&64&&(o=h.updateQueue,o!==null)){if(c=null,h.child!==null)switch(h.child.tag){case 27:case 5:c=h.child.stateNode;break;case 1:c=h.child.stateNode}try{vw(o,c)}catch(O){un(h,h.return,O)}}break;case 27:c===null&&g&4&&z3(h);case 26:case 5:ga(o,h),c===null&&g&4&&L3(h),g&512&&_c(h,h.return);break;case 12:ga(o,h);break;case 13:ga(o,h),g&4&&H3(o,h),g&64&&(o=h.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(h=YD.bind(null,h),fT(o,h))));break;case 22:if(g=h.memoizedState!==null||Fs,!g){c=c!==null&&c.memoizedState!==null||On,w=Fs;var S=On;Fs=g,(On=c)&&!S?xa(o,h,(h.subtreeFlags&8772)!==0):ga(o,h),Fs=w,On=S}break;case 30:break;default:ga(o,h)}}function B3(o){var c=o.alternate;c!==null&&(o.alternate=null,B3(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&ut(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var bn=null,Hr=!1;function Bs(o,c,h){for(h=h.child;h!==null;)$3(o,c,h),h=h.sibling}function $3(o,c,h){if(Ce&&typeof Ce.onCommitFiberUnmount=="function")try{Ce.onCommitFiberUnmount(pe,h)}catch{}switch(h.tag){case 26:On||Qi(h,c),Bs(o,c,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:On||Qi(h,c);var g=bn,w=Hr;Sa(h.type)&&(bn=h.stateNode,Hr=!1),Bs(o,c,h),Lc(h.stateNode),bn=g,Hr=w;break;case 5:On||Qi(h,c);case 6:if(g=bn,w=Hr,bn=null,Bs(o,c,h),bn=g,Hr=w,bn!==null)if(Hr)try{(bn.nodeType===9?bn.body:bn.nodeName==="HTML"?bn.ownerDocument.body:bn).removeChild(h.stateNode)}catch(S){un(h,c,S)}else try{bn.removeChild(h.stateNode)}catch(S){un(h,c,S)}break;case 18:bn!==null&&(Hr?(o=bn,A4(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,h.stateNode),Uc(o)):A4(bn,h.stateNode));break;case 4:g=bn,w=Hr,bn=h.stateNode.containerInfo,Hr=!0,Bs(o,c,h),bn=g,Hr=w;break;case 0:case 11:case 14:case 15:On||ma(2,h,c),On||ma(4,h,c),Bs(o,c,h);break;case 1:On||(Qi(h,c),g=h.stateNode,typeof g.componentWillUnmount=="function"&&R3(h,c,g)),Bs(o,c,h);break;case 21:Bs(o,c,h);break;case 22:On=(g=On)||h.memoizedState!==null,Bs(o,c,h),On=g;break;default:Bs(o,c,h)}}function H3(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Uc(o)}catch(h){un(c,c.return,h)}}function BD(o){switch(o.tag){case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new I3),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new I3),c;default:throw Error(r(435,o.tag))}}function q1(o,c){var h=BD(o);c.forEach(function(g){var w=KD.bind(null,o,g);h.has(g)||(h.add(g),g.then(w,w))})}function Jr(o,c){var h=c.deletions;if(h!==null)for(var g=0;g<h.length;g++){var w=h[g],S=o,O=c,B=O;e:for(;B!==null;){switch(B.tag){case 27:if(Sa(B.type)){bn=B.stateNode,Hr=!1;break e}break;case 5:bn=B.stateNode,Hr=!1;break e;case 3:case 4:bn=B.stateNode.containerInfo,Hr=!0;break e}B=B.return}if(bn===null)throw Error(r(160));$3(S,O,w),bn=null,Hr=!1,S=w.alternate,S!==null&&(S.return=null),w.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)U3(c,o),c=c.sibling}var Li=null;function U3(o,c){var h=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Jr(c,o),Xr(o),g&4&&(ma(3,o,o.return),jc(3,o),ma(5,o,o.return));break;case 1:Jr(c,o),Xr(o),g&512&&(On||h===null||Qi(h,h.return)),g&64&&Fs&&(o=o.updateQueue,o!==null&&(g=o.callbacks,g!==null&&(h=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=h===null?g:h.concat(g))));break;case 26:var w=Li;if(Jr(c,o),Xr(o),g&512&&(On||h===null||Qi(h,h.return)),g&4){var S=h!==null?h.memoizedState:null;if(g=o.memoizedState,h===null)if(g===null)if(o.stateNode===null){e:{g=o.type,h=o.memoizedProps,w=w.ownerDocument||w;t:switch(g){case"title":S=w.getElementsByTagName("title")[0],(!S||S[Je]||S[X]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=w.createElement(g),w.head.insertBefore(S,w.querySelector("head > title"))),fr(S,g,h),S[X]=o,Nt(S),g=S;break e;case"link":var O=z4("link","href",w).get(g+(h.href||""));if(O){for(var B=0;B<O.length;B++)if(S=O[B],S.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&S.getAttribute("rel")===(h.rel==null?null:h.rel)&&S.getAttribute("title")===(h.title==null?null:h.title)&&S.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){O.splice(B,1);break t}}S=w.createElement(g),fr(S,g,h),w.head.appendChild(S);break;case"meta":if(O=z4("meta","content",w).get(g+(h.content||""))){for(B=0;B<O.length;B++)if(S=O[B],S.getAttribute("content")===(h.content==null?null:""+h.content)&&S.getAttribute("name")===(h.name==null?null:h.name)&&S.getAttribute("property")===(h.property==null?null:h.property)&&S.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&S.getAttribute("charset")===(h.charSet==null?null:h.charSet)){O.splice(B,1);break t}}S=w.createElement(g),fr(S,g,h),w.head.appendChild(S);break;default:throw Error(r(468,g))}S[X]=o,Nt(S),g=S}o.stateNode=g}else I4(w,o.type,o.stateNode);else o.stateNode=P4(w,g,o.memoizedProps);else S!==g?(S===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):S.count--,g===null?I4(w,o.type,o.stateNode):P4(w,g,o.memoizedProps)):g===null&&o.stateNode!==null&&$1(o,o.memoizedProps,h.memoizedProps)}break;case 27:Jr(c,o),Xr(o),g&512&&(On||h===null||Qi(h,h.return)),h!==null&&g&4&&$1(o,o.memoizedProps,h.memoizedProps);break;case 5:if(Jr(c,o),Xr(o),g&512&&(On||h===null||Qi(h,h.return)),o.flags&32){w=o.stateNode;try{go(w,"")}catch(ge){un(o,o.return,ge)}}g&4&&o.stateNode!=null&&(w=o.memoizedProps,$1(o,w,h!==null?h.memoizedProps:w)),g&1024&&(V1=!0);break;case 6:if(Jr(c,o),Xr(o),g&4){if(o.stateNode===null)throw Error(r(162));g=o.memoizedProps,h=o.stateNode;try{h.nodeValue=g}catch(ge){un(o,o.return,ge)}}break;case 3:if(Oh=null,w=Li,Li=Th(c.containerInfo),Jr(c,o),Li=w,Xr(o),g&4&&h!==null&&h.memoizedState.isDehydrated)try{Uc(c.containerInfo)}catch(ge){un(o,o.return,ge)}V1&&(V1=!1,V3(o));break;case 4:g=Li,Li=Th(o.stateNode.containerInfo),Jr(c,o),Xr(o),Li=g;break;case 12:Jr(c,o),Xr(o);break;case 13:Jr(c,o),Xr(o),o.child.flags&8192&&o.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(X1=Y()),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,q1(o,g)));break;case 22:w=o.memoizedState!==null;var ee=h!==null&&h.memoizedState!==null,fe=Fs,Se=On;if(Fs=fe||w,On=Se||ee,Jr(c,o),On=Se,Fs=fe,Xr(o),g&8192)e:for(c=o.stateNode,c._visibility=w?c._visibility&-2:c._visibility|1,w&&(h===null||ee||Fs||On||Dl(o)),h=null,c=o;;){if(c.tag===5||c.tag===26){if(h===null){ee=h=c;try{if(S=ee.stateNode,w)O=S.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{B=ee.stateNode;var _e=ee.memoizedProps.style,he=_e!=null&&_e.hasOwnProperty("display")?_e.display:null;B.style.display=he==null||typeof he=="boolean"?"":(""+he).trim()}}catch(ge){un(ee,ee.return,ge)}}}else if(c.tag===6){if(h===null){ee=c;try{ee.stateNode.nodeValue=w?"":ee.memoizedProps}catch(ge){un(ee,ee.return,ge)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}g&4&&(g=o.updateQueue,g!==null&&(h=g.retryQueue,h!==null&&(g.retryQueue=null,q1(o,h))));break;case 19:Jr(c,o),Xr(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,q1(o,g)));break;case 30:break;case 21:break;default:Jr(c,o),Xr(o)}}function Xr(o){var c=o.flags;if(c&2){try{for(var h,g=o.return;g!==null;){if(P3(g)){h=g;break}g=g.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var w=h.stateNode,S=H1(o);yh(o,S,w);break;case 5:var O=h.stateNode;h.flags&32&&(go(O,""),h.flags&=-33);var B=H1(o);yh(o,B,O);break;case 3:case 4:var ee=h.stateNode.containerInfo,fe=H1(o);U1(o,fe,ee);break;default:throw Error(r(161))}}catch(Se){un(o,o.return,Se)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function V3(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;V3(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function ga(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)F3(o,c.alternate,c),c=c.sibling}function Dl(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:ma(4,c,c.return),Dl(c);break;case 1:Qi(c,c.return);var h=c.stateNode;typeof h.componentWillUnmount=="function"&&R3(c,c.return,h),Dl(c);break;case 27:Lc(c.stateNode);case 26:case 5:Qi(c,c.return),Dl(c);break;case 22:c.memoizedState===null&&Dl(c);break;case 30:Dl(c);break;default:Dl(c)}o=o.sibling}}function xa(o,c,h){for(h=h&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var g=c.alternate,w=o,S=c,O=S.flags;switch(S.tag){case 0:case 11:case 15:xa(w,S,h),jc(4,S);break;case 1:if(xa(w,S,h),g=S,w=g.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(fe){un(g,g.return,fe)}if(g=S,w=g.updateQueue,w!==null){var B=g.stateNode;try{var ee=w.shared.hiddenCallbacks;if(ee!==null)for(w.shared.hiddenCallbacks=null,w=0;w<ee.length;w++)bw(ee[w],B)}catch(fe){un(g,g.return,fe)}}h&&O&64&&O3(S),_c(S,S.return);break;case 27:z3(S);case 26:case 5:xa(w,S,h),h&&g===null&&O&4&&L3(S),_c(S,S.return);break;case 12:xa(w,S,h);break;case 13:xa(w,S,h),h&&O&4&&H3(w,S);break;case 22:S.memoizedState===null&&xa(w,S,h),_c(S,S.return);break;case 30:break;default:xa(w,S,h)}c=c.sibling}}function G1(o,c){var h=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==h&&(o!=null&&o.refCount++,h!=null&&dc(h))}function W1(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&dc(o))}function es(o,c,h,g){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)q3(o,c,h,g),c=c.sibling}function q3(o,c,h,g){var w=c.flags;switch(c.tag){case 0:case 11:case 15:es(o,c,h,g),w&2048&&jc(9,c);break;case 1:es(o,c,h,g);break;case 3:es(o,c,h,g),w&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&dc(o)));break;case 12:if(w&2048){es(o,c,h,g),o=c.stateNode;try{var S=c.memoizedProps,O=S.id,B=S.onPostCommit;typeof B=="function"&&B(O,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(ee){un(c,c.return,ee)}}else es(o,c,h,g);break;case 13:es(o,c,h,g);break;case 23:break;case 22:S=c.stateNode,O=c.alternate,c.memoizedState!==null?S._visibility&2?es(o,c,h,g):Nc(o,c):S._visibility&2?es(o,c,h,g):(S._visibility|=2,Lo(o,c,h,g,(c.subtreeFlags&10256)!==0)),w&2048&&G1(O,c);break;case 24:es(o,c,h,g),w&2048&&W1(c.alternate,c);break;default:es(o,c,h,g)}}function Lo(o,c,h,g,w){for(w=w&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var S=o,O=c,B=h,ee=g,fe=O.flags;switch(O.tag){case 0:case 11:case 15:Lo(S,O,B,ee,w),jc(8,O);break;case 23:break;case 22:var Se=O.stateNode;O.memoizedState!==null?Se._visibility&2?Lo(S,O,B,ee,w):Nc(S,O):(Se._visibility|=2,Lo(S,O,B,ee,w)),w&&fe&2048&&G1(O.alternate,O);break;case 24:Lo(S,O,B,ee,w),w&&fe&2048&&W1(O.alternate,O);break;default:Lo(S,O,B,ee,w)}c=c.sibling}}function Nc(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var h=o,g=c,w=g.flags;switch(g.tag){case 22:Nc(h,g),w&2048&&G1(g.alternate,g);break;case 24:Nc(h,g),w&2048&&W1(g.alternate,g);break;default:Nc(h,g)}c=c.sibling}}var Ec=8192;function Po(o){if(o.subtreeFlags&Ec)for(o=o.child;o!==null;)G3(o),o=o.sibling}function G3(o){switch(o.tag){case 26:Po(o),o.flags&Ec&&o.memoizedState!==null&&jT(Li,o.memoizedState,o.memoizedProps);break;case 5:Po(o);break;case 3:case 4:var c=Li;Li=Th(o.stateNode.containerInfo),Po(o),Li=c;break;case 22:o.memoizedState===null&&(c=o.alternate,c!==null&&c.memoizedState!==null?(c=Ec,Ec=16777216,Po(o),Ec=c):Po(o));break;default:Po(o)}}function W3(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function Ac(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];Qn=g,K3(g,o)}W3(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Y3(o),o=o.sibling}function Y3(o){switch(o.tag){case 0:case 11:case 15:Ac(o),o.flags&2048&&ma(9,o,o.return);break;case 3:Ac(o);break;case 12:Ac(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,bh(o)):Ac(o);break;default:Ac(o)}}function bh(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];Qn=g,K3(g,o)}W3(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:ma(8,c,c.return),bh(c);break;case 22:h=c.stateNode,h._visibility&2&&(h._visibility&=-3,bh(c));break;default:bh(c)}o=o.sibling}}function K3(o,c){for(;Qn!==null;){var h=Qn;switch(h.tag){case 0:case 11:case 15:ma(8,h,c);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var g=h.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:dc(h.memoizedState.cache)}if(g=h.child,g!==null)g.return=h,Qn=g;else e:for(h=o;Qn!==null;){g=Qn;var w=g.sibling,S=g.return;if(B3(g),g===h){Qn=null;break e}if(w!==null){w.return=S,Qn=w;break e}Qn=S}}}var $D={getCacheForType:function(o){var c=wr(Un),h=c.data.get(o);return h===void 0&&(h=o(),c.data.set(o,h)),h}},HD=typeof WeakMap=="function"?WeakMap:Map,nn=0,dn=null,Ht=null,Gt=0,rn=0,Zr=null,ya=!1,zo=!1,Y1=!1,$s=0,jn=0,ba=0,Tl=0,K1=0,bi=0,Io=0,Dc=null,Ur=null,J1=!1,X1=0,vh=1/0,wh=null,va=null,dr=0,wa=null,Fo=null,Bo=0,Z1=0,Q1=null,J3=null,Tc=0,eg=null;function Qr(){if((nn&2)!==0&&Gt!==0)return Gt&-Gt;if(F.T!==null){var o=No;return o!==0?o:lg()}return Dr()}function X3(){bi===0&&(bi=(Gt&536870912)===0||en?Be():536870912);var o=yi.current;return o!==null&&(o.flags|=32),bi}function ei(o,c,h){(o===dn&&(rn===2||rn===9)||o.cancelPendingCommit!==null)&&($o(o,0),ka(o,Gt,bi,!1)),jt(o,h),((nn&2)===0||o!==dn)&&(o===dn&&((nn&2)===0&&(Tl|=h),jn===4&&ka(o,Gt,bi,!1)),ts(o))}function Z3(o,c,h){if((nn&6)!==0)throw Error(r(327));var g=!h&&(c&124)===0&&(c&o.expiredLanes)===0||Ye(o,c),w=g?qD(o,c):rg(o,c,!0),S=g;do{if(w===0){zo&&!g&&ka(o,c,0,!1);break}else{if(h=o.current.alternate,S&&!UD(h)){w=rg(o,c,!1),S=!1;continue}if(w===2){if(S=c,o.errorRecoveryDisabledLanes&S)var O=0;else O=o.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){c=O;e:{var B=o;w=Dc;var ee=B.current.memoizedState.isDehydrated;if(ee&&($o(B,O).flags|=256),O=rg(B,O,!1),O!==2){if(Y1&&!ee){B.errorRecoveryDisabledLanes|=S,Tl|=S,w=4;break e}S=Ur,Ur=w,S!==null&&(Ur===null?Ur=S:Ur.push.apply(Ur,S))}w=O}if(S=!1,w!==2)continue}}if(w===1){$o(o,0),ka(o,c,0,!0);break}e:{switch(g=o,S=w,S){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:ka(g,c,bi,!ya);break e;case 2:Ur=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(w=X1+300-Y(),10<w)){if(ka(g,c,bi,!ya),We(g,0,!0)!==0)break e;g.timeoutHandle=N4(Q3.bind(null,g,h,Ur,wh,J1,c,bi,Tl,Io,ya,S,2,-0,0),w);break e}Q3(g,h,Ur,wh,J1,c,bi,Tl,Io,ya,S,0,-0,0)}}break}while(!0);ts(o)}function Q3(o,c,h,g,w,S,O,B,ee,fe,Se,_e,he,ge){if(o.timeoutHandle=-1,_e=c.subtreeFlags,(_e&8192||(_e&16785408)===16785408)&&(Ic={stylesheets:null,count:0,unsuspend:CT},G3(c),_e=_T(),_e!==null)){o.cancelPendingCommit=_e(a4.bind(null,o,c,S,h,g,w,O,B,ee,Se,1,he,ge)),ka(o,S,O,!fe);return}a4(o,c,S,h,g,w,O,B,ee)}function UD(o){for(var c=o;;){var h=c.tag;if((h===0||h===11||h===15)&&c.flags&16384&&(h=c.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var g=0;g<h.length;g++){var w=h[g],S=w.getSnapshot;w=w.value;try{if(!Yr(S(),w))return!1}catch{return!1}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function ka(o,c,h,g){c&=~K1,c&=~Tl,o.suspendedLanes|=c,o.pingedLanes&=~c,g&&(o.warmLanes|=c),g=o.expirationTimes;for(var w=c;0<w;){var S=31-Ue(w),O=1<<S;g[S]=-1,w&=~O}h!==0&&gn(o,h,c)}function kh(){return(nn&6)===0?(Mc(0),!1):!0}function tg(){if(Ht!==null){if(rn===0)var o=Ht.return;else o=Ht,Os=jl=null,y1(o),Oo=null,kc=0,o=Ht;for(;o!==null;)M3(o.alternate,o),o=o.return;Ht=null}}function $o(o,c){var h=o.timeoutHandle;h!==-1&&(o.timeoutHandle=-1,lT(h)),h=o.cancelPendingCommit,h!==null&&(o.cancelPendingCommit=null,h()),tg(),dn=o,Ht=h=Ds(o.current,null),Gt=c,rn=0,Zr=null,ya=!1,zo=Ye(o,c),Y1=!1,Io=bi=K1=Tl=ba=jn=0,Ur=Dc=null,J1=!1,(c&8)!==0&&(c|=c&32);var g=o.entangledLanes;if(g!==0)for(o=o.entanglements,g&=c;0<g;){var w=31-Ue(g),S=1<<w;c|=o[w],g&=~S}return $s=c,Vf(),h}function e4(o,c){It=null,F.H=uh,c===hc||c===Qf?(c=xw(),rn=3):c===pw?(c=xw(),rn=4):rn=c===y3?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Zr=c,Ht===null&&(jn=1,ph(o,pi(c,o.current)))}function t4(){var o=F.H;return F.H=uh,o===null?uh:o}function n4(){var o=F.A;return F.A=$D,o}function ng(){jn=4,ya||(Gt&4194048)!==Gt&&yi.current!==null||(zo=!0),(ba&134217727)===0&&(Tl&134217727)===0||dn===null||ka(dn,Gt,bi,!1)}function rg(o,c,h){var g=nn;nn|=2;var w=t4(),S=n4();(dn!==o||Gt!==c)&&(wh=null,$o(o,c)),c=!1;var O=jn;e:do try{if(rn!==0&&Ht!==null){var B=Ht,ee=Zr;switch(rn){case 8:tg(),O=6;break e;case 3:case 2:case 9:case 6:yi.current===null&&(c=!0);var fe=rn;if(rn=0,Zr=null,Ho(o,B,ee,fe),h&&zo){O=0;break e}break;default:fe=rn,rn=0,Zr=null,Ho(o,B,ee,fe)}}VD(),O=jn;break}catch(Se){e4(o,Se)}while(!0);return c&&o.shellSuspendCounter++,Os=jl=null,nn=g,F.H=w,F.A=S,Ht===null&&(dn=null,Gt=0,Vf()),O}function VD(){for(;Ht!==null;)r4(Ht)}function qD(o,c){var h=nn;nn|=2;var g=t4(),w=n4();dn!==o||Gt!==c?(wh=null,vh=Y()+500,$o(o,c)):zo=Ye(o,c);e:do try{if(rn!==0&&Ht!==null){c=Ht;var S=Zr;t:switch(rn){case 1:rn=0,Zr=null,Ho(o,c,S,1);break;case 2:case 9:if(mw(S)){rn=0,Zr=null,i4(c);break}c=function(){rn!==2&&rn!==9||dn!==o||(rn=7),ts(o)},S.then(c,c);break e;case 3:rn=7;break e;case 4:rn=5;break e;case 7:mw(S)?(rn=0,Zr=null,i4(c)):(rn=0,Zr=null,Ho(o,c,S,7));break;case 5:var O=null;switch(Ht.tag){case 26:O=Ht.memoizedState;case 5:case 27:var B=Ht;if(!O||F4(O)){rn=0,Zr=null;var ee=B.sibling;if(ee!==null)Ht=ee;else{var fe=B.return;fe!==null?(Ht=fe,Sh(fe)):Ht=null}break t}}rn=0,Zr=null,Ho(o,c,S,5);break;case 6:rn=0,Zr=null,Ho(o,c,S,6);break;case 8:tg(),jn=6;break e;default:throw Error(r(462))}}GD();break}catch(Se){e4(o,Se)}while(!0);return Os=jl=null,F.H=g,F.A=w,nn=h,Ht!==null?0:(dn=null,Gt=0,Vf(),jn)}function GD(){for(;Ht!==null&&!le();)r4(Ht)}function r4(o){var c=D3(o.alternate,o,$s);o.memoizedProps=o.pendingProps,c===null?Sh(o):Ht=c}function i4(o){var c=o,h=c.alternate;switch(c.tag){case 15:case 0:c=C3(h,c,c.pendingProps,c.type,void 0,Gt);break;case 11:c=C3(h,c,c.pendingProps,c.type.render,c.ref,Gt);break;case 5:y1(c);default:M3(h,c),c=Ht=sw(c,$s),c=D3(h,c,$s)}o.memoizedProps=o.pendingProps,c===null?Sh(o):Ht=c}function Ho(o,c,h,g){Os=jl=null,y1(c),Oo=null,kc=0;var w=c.return;try{if(LD(o,w,c,h,Gt)){jn=1,ph(o,pi(h,o.current)),Ht=null;return}}catch(S){if(w!==null)throw Ht=w,S;jn=1,ph(o,pi(h,o.current)),Ht=null;return}c.flags&32768?(en||g===1?o=!0:zo||(Gt&536870912)!==0?o=!1:(ya=o=!0,(g===2||g===9||g===3||g===6)&&(g=yi.current,g!==null&&g.tag===13&&(g.flags|=16384))),s4(c,o)):Sh(c)}function Sh(o){var c=o;do{if((c.flags&32768)!==0){s4(c,ya);return}o=c.return;var h=zD(c.alternate,c,$s);if(h!==null){Ht=h;return}if(c=c.sibling,c!==null){Ht=c;return}Ht=c=o}while(c!==null);jn===0&&(jn=5)}function s4(o,c){do{var h=ID(o.alternate,o);if(h!==null){h.flags&=32767,Ht=h;return}if(h=o.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!c&&(o=o.sibling,o!==null)){Ht=o;return}Ht=o=h}while(o!==null);jn=6,Ht=null}function a4(o,c,h,g,w,S,O,B,ee){o.cancelPendingCommit=null;do Ch();while(dr!==0);if((nn&6)!==0)throw Error(r(327));if(c!==null){if(c===o.current)throw Error(r(177));if(S=c.lanes|c.childLanes,S|=W0,Xt(o,h,S,O,B,ee),o===dn&&(Ht=dn=null,Gt=0),Fo=c,wa=o,Bo=h,Z1=S,Q1=w,J3=g,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,JD(zt,function(){return d4(),null})):(o.callbackNode=null,o.callbackPriority=0),g=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||g){g=F.T,F.T=null,w=W.p,W.p=2,O=nn,nn|=4;try{FD(o,c,h)}finally{nn=O,W.p=w,F.T=g}}dr=1,l4(),o4(),u4()}}function l4(){if(dr===1){dr=0;var o=wa,c=Fo,h=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||h){h=F.T,F.T=null;var g=W.p;W.p=2;var w=nn;nn|=4;try{U3(c,o);var S=mg,O=Kv(o.containerInfo),B=S.focusedElem,ee=S.selectionRange;if(O!==B&&B&&B.ownerDocument&&Yv(B.ownerDocument.documentElement,B)){if(ee!==null&&H0(B)){var fe=ee.start,Se=ee.end;if(Se===void 0&&(Se=fe),"selectionStart"in B)B.selectionStart=fe,B.selectionEnd=Math.min(Se,B.value.length);else{var _e=B.ownerDocument||document,he=_e&&_e.defaultView||window;if(he.getSelection){var ge=he.getSelection(),Ct=B.textContent.length,bt=Math.min(ee.start,Ct),on=ee.end===void 0?bt:Math.min(ee.end,Ct);!ge.extend&&bt>on&&(O=on,on=bt,bt=O);var oe=Wv(B,bt),re=Wv(B,on);if(oe&&re&&(ge.rangeCount!==1||ge.anchorNode!==oe.node||ge.anchorOffset!==oe.offset||ge.focusNode!==re.node||ge.focusOffset!==re.offset)){var de=_e.createRange();de.setStart(oe.node,oe.offset),ge.removeAllRanges(),bt>on?(ge.addRange(de),ge.extend(re.node,re.offset)):(de.setEnd(re.node,re.offset),ge.addRange(de))}}}}for(_e=[],ge=B;ge=ge.parentNode;)ge.nodeType===1&&_e.push({element:ge,left:ge.scrollLeft,top:ge.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<_e.length;B++){var je=_e[B];je.element.scrollLeft=je.left,je.element.scrollTop=je.top}}Ph=!!pg,mg=pg=null}finally{nn=w,W.p=g,F.T=h}}o.current=c,dr=2}}function o4(){if(dr===2){dr=0;var o=wa,c=Fo,h=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||h){h=F.T,F.T=null;var g=W.p;W.p=2;var w=nn;nn|=4;try{F3(o,c.alternate,c)}finally{nn=w,W.p=g,F.T=h}}dr=3}}function u4(){if(dr===4||dr===3){dr=0,Ke();var o=wa,c=Fo,h=Bo,g=J3;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?dr=5:(dr=0,Fo=wa=null,c4(o,o.pendingLanes));var w=o.pendingLanes;if(w===0&&(va=null),yn(h),c=c.stateNode,Ce&&typeof Ce.onCommitFiberRoot=="function")try{Ce.onCommitFiberRoot(pe,c,void 0,(c.current.flags&128)===128)}catch{}if(g!==null){c=F.T,w=W.p,W.p=2,F.T=null;try{for(var S=o.onRecoverableError,O=0;O<g.length;O++){var B=g[O];S(B.value,{componentStack:B.stack})}}finally{F.T=c,W.p=w}}(Bo&3)!==0&&Ch(),ts(o),w=o.pendingLanes,(h&4194090)!==0&&(w&42)!==0?o===eg?Tc++:(Tc=0,eg=o):Tc=0,Mc(0)}}function c4(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,dc(c)))}function Ch(o){return l4(),o4(),u4(),d4()}function d4(){if(dr!==5)return!1;var o=wa,c=Z1;Z1=0;var h=yn(Bo),g=F.T,w=W.p;try{W.p=32>h?32:h,F.T=null,h=Q1,Q1=null;var S=wa,O=Bo;if(dr=0,Fo=wa=null,Bo=0,(nn&6)!==0)throw Error(r(331));var B=nn;if(nn|=4,Y3(S.current),q3(S,S.current,O,h),nn=B,Mc(0,!1),Ce&&typeof Ce.onPostCommitFiberRoot=="function")try{Ce.onPostCommitFiberRoot(pe,S)}catch{}return!0}finally{W.p=w,F.T=g,c4(o,c)}}function f4(o,c,h){c=pi(h,c),c=M1(o.stateNode,c,2),o=da(o,c,2),o!==null&&(jt(o,2),ts(o))}function un(o,c,h){if(o.tag===3)f4(o,o,h);else for(;c!==null;){if(c.tag===3){f4(c,o,h);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(va===null||!va.has(g))){o=pi(h,o),h=g3(2),g=da(c,h,2),g!==null&&(x3(h,g,c,o),jt(g,2),ts(g));break}}c=c.return}}function ig(o,c,h){var g=o.pingCache;if(g===null){g=o.pingCache=new HD;var w=new Set;g.set(c,w)}else w=g.get(c),w===void 0&&(w=new Set,g.set(c,w));w.has(h)||(Y1=!0,w.add(h),o=WD.bind(null,o,c,h),c.then(o,o))}function WD(o,c,h){var g=o.pingCache;g!==null&&g.delete(c),o.pingedLanes|=o.suspendedLanes&h,o.warmLanes&=~h,dn===o&&(Gt&h)===h&&(jn===4||jn===3&&(Gt&62914560)===Gt&&300>Y()-X1?(nn&2)===0&&$o(o,0):K1|=h,Io===Gt&&(Io=0)),ts(o)}function h4(o,c){c===0&&(c=pt()),o=So(o,c),o!==null&&(jt(o,c),ts(o))}function YD(o){var c=o.memoizedState,h=0;c!==null&&(h=c.retryLane),h4(o,h)}function KD(o,c){var h=0;switch(o.tag){case 13:var g=o.stateNode,w=o.memoizedState;w!==null&&(h=w.retryLane);break;case 19:g=o.stateNode;break;case 22:g=o.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(c),h4(o,h)}function JD(o,c){return ft(o,c)}var jh=null,Uo=null,sg=!1,_h=!1,ag=!1,Ml=0;function ts(o){o!==Uo&&o.next===null&&(Uo===null?jh=Uo=o:Uo=Uo.next=o),_h=!0,sg||(sg=!0,ZD())}function Mc(o,c){if(!ag&&_h){ag=!0;do for(var h=!1,g=jh;g!==null;){if(o!==0){var w=g.pendingLanes;if(w===0)var S=0;else{var O=g.suspendedLanes,B=g.pingedLanes;S=(1<<31-Ue(42|o)+1)-1,S&=w&~(O&~B),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(h=!0,x4(g,S))}else S=Gt,S=We(g,g===dn?S:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(S&3)===0||Ye(g,S)||(h=!0,x4(g,S));g=g.next}while(h);ag=!1}}function XD(){p4()}function p4(){_h=sg=!1;var o=0;Ml!==0&&(aT()&&(o=Ml),Ml=0);for(var c=Y(),h=null,g=jh;g!==null;){var w=g.next,S=m4(g,c);S===0?(g.next=null,h===null?jh=w:h.next=w,w===null&&(Uo=h)):(h=g,(o!==0||(S&3)!==0)&&(_h=!0)),g=w}Mc(o)}function m4(o,c){for(var h=o.suspendedLanes,g=o.pingedLanes,w=o.expirationTimes,S=o.pendingLanes&-62914561;0<S;){var O=31-Ue(S),B=1<<O,ee=w[O];ee===-1?((B&h)===0||(B&g)!==0)&&(w[O]=wt(B,c)):ee<=c&&(o.expiredLanes|=B),S&=~B}if(c=dn,h=Gt,h=We(o,o===c?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g=o.callbackNode,h===0||o===c&&(rn===2||rn===9)||o.cancelPendingCommit!==null)return g!==null&&g!==null&&we(g),o.callbackNode=null,o.callbackPriority=0;if((h&3)===0||Ye(o,h)){if(c=h&-h,c===o.callbackPriority)return c;switch(g!==null&&we(g),yn(h)){case 2:case 8:h=Xe;break;case 32:h=zt;break;case 268435456:h=Ot;break;default:h=zt}return g=g4.bind(null,o),h=ft(h,g),o.callbackPriority=c,o.callbackNode=h,c}return g!==null&&g!==null&&we(g),o.callbackPriority=2,o.callbackNode=null,2}function g4(o,c){if(dr!==0&&dr!==5)return o.callbackNode=null,o.callbackPriority=0,null;var h=o.callbackNode;if(Ch()&&o.callbackNode!==h)return null;var g=Gt;return g=We(o,o===dn?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g===0?null:(Z3(o,g,c),m4(o,Y()),o.callbackNode!=null&&o.callbackNode===h?g4.bind(null,o):null)}function x4(o,c){if(Ch())return null;Z3(o,c,!0)}function ZD(){oT(function(){(nn&6)!==0?ft(Le,XD):p4()})}function lg(){return Ml===0&&(Ml=Be()),Ml}function y4(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:zf(""+o)}function b4(o,c){var h=c.ownerDocument.createElement("input");return h.name=c.name,h.value=c.value,o.id&&h.setAttribute("form",o.id),c.parentNode.insertBefore(h,c),o=new FormData(o),h.parentNode.removeChild(h),o}function QD(o,c,h,g,w){if(c==="submit"&&h&&h.stateNode===w){var S=y4((w[se]||null).action),O=g.submitter;O&&(c=(c=O[se]||null)?y4(c.formAction):O.getAttribute("formAction"),c!==null&&(S=c,O=null));var B=new $f("action","action",null,g,w);o.push({event:B,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Ml!==0){var ee=O?b4(w,O):new FormData(w);N1(h,{pending:!0,data:ee,method:w.method,action:S},null,ee)}}else typeof S=="function"&&(B.preventDefault(),ee=O?b4(w,O):new FormData(w),N1(h,{pending:!0,data:ee,method:w.method,action:S},S,ee))},currentTarget:w}]})}}for(var og=0;og<G0.length;og++){var ug=G0[og],eT=ug.toLowerCase(),tT=ug[0].toUpperCase()+ug.slice(1);Ri(eT,"on"+tT)}Ri(Zv,"onAnimationEnd"),Ri(Qv,"onAnimationIteration"),Ri(ew,"onAnimationStart"),Ri("dblclick","onDoubleClick"),Ri("focusin","onFocus"),Ri("focusout","onBlur"),Ri(yD,"onTransitionRun"),Ri(bD,"onTransitionStart"),Ri(vD,"onTransitionCancel"),Ri(tw,"onTransitionEnd"),Zt("onMouseEnter",["mouseout","mouseover"]),Zt("onMouseLeave",["mouseout","mouseover"]),Zt("onPointerEnter",["pointerout","pointerover"]),Zt("onPointerLeave",["pointerout","pointerover"]),Kt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Oc));function v4(o,c){c=(c&4)!==0;for(var h=0;h<o.length;h++){var g=o[h],w=g.event;g=g.listeners;e:{var S=void 0;if(c)for(var O=g.length-1;0<=O;O--){var B=g[O],ee=B.instance,fe=B.currentTarget;if(B=B.listener,ee!==S&&w.isPropagationStopped())break e;S=B,w.currentTarget=fe;try{S(w)}catch(Se){hh(Se)}w.currentTarget=null,S=ee}else for(O=0;O<g.length;O++){if(B=g[O],ee=B.instance,fe=B.currentTarget,B=B.listener,ee!==S&&w.isPropagationStopped())break e;S=B,w.currentTarget=fe;try{S(w)}catch(Se){hh(Se)}w.currentTarget=null,S=ee}}}}function Ut(o,c){var h=c[De];h===void 0&&(h=c[De]=new Set);var g=o+"__bubble";h.has(g)||(w4(c,o,2,!1),h.add(g))}function cg(o,c,h){var g=0;c&&(g|=4),w4(h,o,g,c)}var Nh="_reactListening"+Math.random().toString(36).slice(2);function dg(o){if(!o[Nh]){o[Nh]=!0,Sn.forEach(function(h){h!=="selectionchange"&&(nT.has(h)||cg(h,!1,o),cg(h,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[Nh]||(c[Nh]=!0,cg("selectionchange",!1,c))}}function w4(o,c,h,g){switch(q4(c)){case 2:var w=AT;break;case 8:w=DT;break;default:w=jg}h=w.bind(null,c,h,o),w=void 0,!O0||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(w=!0),g?w!==void 0?o.addEventListener(c,h,{capture:!0,passive:w}):o.addEventListener(c,h,!0):w!==void 0?o.addEventListener(c,h,{passive:w}):o.addEventListener(c,h,!1)}function fg(o,c,h,g,w){var S=g;if((c&1)===0&&(c&2)===0&&g!==null)e:for(;;){if(g===null)return;var O=g.tag;if(O===3||O===4){var B=g.stateNode.containerInfo;if(B===w)break;if(O===4)for(O=g.return;O!==null;){var ee=O.tag;if((ee===3||ee===4)&&O.stateNode.containerInfo===w)return;O=O.return}for(;B!==null;){if(O=ct(B),O===null)return;if(ee=O.tag,ee===5||ee===6||ee===26||ee===27){g=S=O;continue e}B=B.parentNode}}g=g.return}Ev(function(){var fe=S,Se=T0(h),_e=[];e:{var he=nw.get(o);if(he!==void 0){var ge=$f,Ct=o;switch(o){case"keypress":if(Ff(h)===0)break e;case"keydown":case"keyup":ge=JA;break;case"focusin":Ct="focus",ge=z0;break;case"focusout":Ct="blur",ge=z0;break;case"beforeblur":case"afterblur":ge=z0;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=Tv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=IA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=QA;break;case Zv:case Qv:case ew:ge=$A;break;case tw:ge=tD;break;case"scroll":case"scrollend":ge=PA;break;case"wheel":ge=rD;break;case"copy":case"cut":case"paste":ge=UA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=Ov;break;case"toggle":case"beforetoggle":ge=sD}var bt=(c&4)!==0,on=!bt&&(o==="scroll"||o==="scrollend"),oe=bt?he!==null?he+"Capture":null:he;bt=[];for(var re=fe,de;re!==null;){var je=re;if(de=je.stateNode,je=je.tag,je!==5&&je!==26&&je!==27||de===null||oe===null||(je=Zu(re,oe),je!=null&&bt.push(Rc(re,je,de))),on)break;re=re.return}0<bt.length&&(he=new ge(he,Ct,null,h,Se),_e.push({event:he,listeners:bt}))}}if((c&7)===0){e:{if(he=o==="mouseover"||o==="pointerover",ge=o==="mouseout"||o==="pointerout",he&&h!==D0&&(Ct=h.relatedTarget||h.fromElement)&&(ct(Ct)||Ct[me]))break e;if((ge||he)&&(he=Se.window===Se?Se:(he=Se.ownerDocument)?he.defaultView||he.parentWindow:window,ge?(Ct=h.relatedTarget||h.toElement,ge=fe,Ct=Ct?ct(Ct):null,Ct!==null&&(on=s(Ct),bt=Ct.tag,Ct!==on||bt!==5&&bt!==27&&bt!==6)&&(Ct=null)):(ge=null,Ct=fe),ge!==Ct)){if(bt=Tv,je="onMouseLeave",oe="onMouseEnter",re="mouse",(o==="pointerout"||o==="pointerover")&&(bt=Ov,je="onPointerLeave",oe="onPointerEnter",re="pointer"),on=ge==null?he:dt(ge),de=Ct==null?he:dt(Ct),he=new bt(je,re+"leave",ge,h,Se),he.target=on,he.relatedTarget=de,je=null,ct(Se)===fe&&(bt=new bt(oe,re+"enter",Ct,h,Se),bt.target=de,bt.relatedTarget=on,je=bt),on=je,ge&&Ct)t:{for(bt=ge,oe=Ct,re=0,de=bt;de;de=Vo(de))re++;for(de=0,je=oe;je;je=Vo(je))de++;for(;0<re-de;)bt=Vo(bt),re--;for(;0<de-re;)oe=Vo(oe),de--;for(;re--;){if(bt===oe||oe!==null&&bt===oe.alternate)break t;bt=Vo(bt),oe=Vo(oe)}bt=null}else bt=null;ge!==null&&k4(_e,he,ge,bt,!1),Ct!==null&&on!==null&&k4(_e,on,Ct,bt,!0)}}e:{if(he=fe?dt(fe):window,ge=he.nodeName&&he.nodeName.toLowerCase(),ge==="select"||ge==="input"&&he.type==="file")var Qe=$v;else if(Fv(he))if(Hv)Qe=mD;else{Qe=hD;var Bt=fD}else ge=he.nodeName,!ge||ge.toLowerCase()!=="input"||he.type!=="checkbox"&&he.type!=="radio"?fe&&A0(fe.elementType)&&(Qe=$v):Qe=pD;if(Qe&&(Qe=Qe(o,fe))){Bv(_e,Qe,h,Se);break e}Bt&&Bt(o,he,fe),o==="focusout"&&fe&&he.type==="number"&&fe.memoizedProps.value!=null&&E0(he,"number",he.value)}switch(Bt=fe?dt(fe):window,o){case"focusin":(Fv(Bt)||Bt.contentEditable==="true")&&(vo=Bt,U0=fe,ac=null);break;case"focusout":ac=U0=vo=null;break;case"mousedown":V0=!0;break;case"contextmenu":case"mouseup":case"dragend":V0=!1,Jv(_e,h,Se);break;case"selectionchange":if(xD)break;case"keydown":case"keyup":Jv(_e,h,Se)}var gt;if(F0)e:{switch(o){case"compositionstart":var kt="onCompositionStart";break e;case"compositionend":kt="onCompositionEnd";break e;case"compositionupdate":kt="onCompositionUpdate";break e}kt=void 0}else bo?zv(o,h)&&(kt="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(kt="onCompositionStart");kt&&(Rv&&h.locale!=="ko"&&(bo||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&bo&&(gt=Av()):(la=Se,R0="value"in la?la.value:la.textContent,bo=!0)),Bt=Eh(fe,kt),0<Bt.length&&(kt=new Mv(kt,o,null,h,Se),_e.push({event:kt,listeners:Bt}),gt?kt.data=gt:(gt=Iv(h),gt!==null&&(kt.data=gt)))),(gt=lD?oD(o,h):uD(o,h))&&(kt=Eh(fe,"onBeforeInput"),0<kt.length&&(Bt=new Mv("onBeforeInput","beforeinput",null,h,Se),_e.push({event:Bt,listeners:kt}),Bt.data=gt)),QD(_e,o,fe,h,Se)}v4(_e,c)})}function Rc(o,c,h){return{instance:o,listener:c,currentTarget:h}}function Eh(o,c){for(var h=c+"Capture",g=[];o!==null;){var w=o,S=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||S===null||(w=Zu(o,h),w!=null&&g.unshift(Rc(o,w,S)),w=Zu(o,c),w!=null&&g.push(Rc(o,w,S))),o.tag===3)return g;o=o.return}return[]}function Vo(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function k4(o,c,h,g,w){for(var S=c._reactName,O=[];h!==null&&h!==g;){var B=h,ee=B.alternate,fe=B.stateNode;if(B=B.tag,ee!==null&&ee===g)break;B!==5&&B!==26&&B!==27||fe===null||(ee=fe,w?(fe=Zu(h,S),fe!=null&&O.unshift(Rc(h,fe,ee))):w||(fe=Zu(h,S),fe!=null&&O.push(Rc(h,fe,ee)))),h=h.return}O.length!==0&&o.push({event:c,listeners:O})}var rT=/\r\n?/g,iT=/\u0000|\uFFFD/g;function S4(o){return(typeof o=="string"?o:""+o).replace(rT,`
`).replace(iT,"")}function C4(o,c){return c=S4(c),S4(o)===c}function Ah(){}function ln(o,c,h,g,w,S){switch(h){case"children":typeof g=="string"?c==="body"||c==="textarea"&&g===""||go(o,g):(typeof g=="number"||typeof g=="bigint")&&c!=="body"&&go(o,""+g);break;case"className":Ki(o,"class",g);break;case"tabIndex":Ki(o,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Ki(o,h,g);break;case"style":_v(o,g,S);break;case"data":if(c!=="object"){Ki(o,"data",g);break}case"src":case"href":if(g===""&&(c!=="a"||h!=="href")){o.removeAttribute(h);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(h);break}g=zf(""+g),o.setAttribute(h,g);break;case"action":case"formAction":if(typeof g=="function"){o.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(h==="formAction"?(c!=="input"&&ln(o,c,"name",w.name,w,null),ln(o,c,"formEncType",w.formEncType,w,null),ln(o,c,"formMethod",w.formMethod,w,null),ln(o,c,"formTarget",w.formTarget,w,null)):(ln(o,c,"encType",w.encType,w,null),ln(o,c,"method",w.method,w,null),ln(o,c,"target",w.target,w,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(h);break}g=zf(""+g),o.setAttribute(h,g);break;case"onClick":g!=null&&(o.onclick=Ah);break;case"onScroll":g!=null&&Ut("scroll",o);break;case"onScrollEnd":g!=null&&Ut("scrollend",o);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(h=g.__html,h!=null){if(w.children!=null)throw Error(r(60));o.innerHTML=h}}break;case"multiple":o.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":o.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){o.removeAttribute("xlink:href");break}h=zf(""+g),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(h,""+g):o.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(h,""):o.removeAttribute(h);break;case"capture":case"download":g===!0?o.setAttribute(h,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(h,g):o.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?o.setAttribute(h,g):o.removeAttribute(h);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?o.removeAttribute(h):o.setAttribute(h,g);break;case"popover":Ut("beforetoggle",o),Ut("toggle",o),sa(o,"popover",g);break;case"xlinkActuate":or(o,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":or(o,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":or(o,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":or(o,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":or(o,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":or(o,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":or(o,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":or(o,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":or(o,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":sa(o,"is",g);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=RA.get(h)||h,sa(o,h,g))}}function hg(o,c,h,g,w,S){switch(h){case"style":_v(o,g,S);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(h=g.__html,h!=null){if(w.children!=null)throw Error(r(60));o.innerHTML=h}}break;case"children":typeof g=="string"?go(o,g):(typeof g=="number"||typeof g=="bigint")&&go(o,""+g);break;case"onScroll":g!=null&&Ut("scroll",o);break;case"onScrollEnd":g!=null&&Ut("scrollend",o);break;case"onClick":g!=null&&(o.onclick=Ah);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tn.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(w=h.endsWith("Capture"),c=h.slice(2,w?h.length-7:void 0),S=o[se]||null,S=S!=null?S[h]:null,typeof S=="function"&&o.removeEventListener(c,S,w),typeof g=="function")){typeof S!="function"&&S!==null&&(h in o?o[h]=null:o.hasAttribute(h)&&o.removeAttribute(h)),o.addEventListener(c,g,w);break e}h in o?o[h]=g:g===!0?o.setAttribute(h,""):sa(o,h,g)}}}function fr(o,c,h){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ut("error",o),Ut("load",o);var g=!1,w=!1,S;for(S in h)if(h.hasOwnProperty(S)){var O=h[S];if(O!=null)switch(S){case"src":g=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:ln(o,c,S,O,h,null)}}w&&ln(o,c,"srcSet",h.srcSet,h,null),g&&ln(o,c,"src",h.src,h,null);return;case"input":Ut("invalid",o);var B=S=O=w=null,ee=null,fe=null;for(g in h)if(h.hasOwnProperty(g)){var Se=h[g];if(Se!=null)switch(g){case"name":w=Se;break;case"type":O=Se;break;case"checked":ee=Se;break;case"defaultChecked":fe=Se;break;case"value":S=Se;break;case"defaultValue":B=Se;break;case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(r(137,c));break;default:ln(o,c,g,Se,h,null)}}kv(o,S,B,ee,fe,O,w,!1),Lf(o);return;case"select":Ut("invalid",o),g=O=S=null;for(w in h)if(h.hasOwnProperty(w)&&(B=h[w],B!=null))switch(w){case"value":S=B;break;case"defaultValue":O=B;break;case"multiple":g=B;default:ln(o,c,w,B,h,null)}c=S,h=O,o.multiple=!!g,c!=null?mo(o,!!g,c,!1):h!=null&&mo(o,!!g,h,!0);return;case"textarea":Ut("invalid",o),S=w=g=null;for(O in h)if(h.hasOwnProperty(O)&&(B=h[O],B!=null))switch(O){case"value":g=B;break;case"defaultValue":w=B;break;case"children":S=B;break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(91));break;default:ln(o,c,O,B,h,null)}Cv(o,g,w,S),Lf(o);return;case"option":for(ee in h)if(h.hasOwnProperty(ee)&&(g=h[ee],g!=null))switch(ee){case"selected":o.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:ln(o,c,ee,g,h,null)}return;case"dialog":Ut("beforetoggle",o),Ut("toggle",o),Ut("cancel",o),Ut("close",o);break;case"iframe":case"object":Ut("load",o);break;case"video":case"audio":for(g=0;g<Oc.length;g++)Ut(Oc[g],o);break;case"image":Ut("error",o),Ut("load",o);break;case"details":Ut("toggle",o);break;case"embed":case"source":case"link":Ut("error",o),Ut("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(fe in h)if(h.hasOwnProperty(fe)&&(g=h[fe],g!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:ln(o,c,fe,g,h,null)}return;default:if(A0(c)){for(Se in h)h.hasOwnProperty(Se)&&(g=h[Se],g!==void 0&&hg(o,c,Se,g,h,void 0));return}}for(B in h)h.hasOwnProperty(B)&&(g=h[B],g!=null&&ln(o,c,B,g,h,null))}function sT(o,c,h,g){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,S=null,O=null,B=null,ee=null,fe=null,Se=null;for(ge in h){var _e=h[ge];if(h.hasOwnProperty(ge)&&_e!=null)switch(ge){case"checked":break;case"value":break;case"defaultValue":ee=_e;default:g.hasOwnProperty(ge)||ln(o,c,ge,null,g,_e)}}for(var he in g){var ge=g[he];if(_e=h[he],g.hasOwnProperty(he)&&(ge!=null||_e!=null))switch(he){case"type":S=ge;break;case"name":w=ge;break;case"checked":fe=ge;break;case"defaultChecked":Se=ge;break;case"value":O=ge;break;case"defaultValue":B=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(r(137,c));break;default:ge!==_e&&ln(o,c,he,ge,g,_e)}}N0(o,O,B,ee,fe,Se,S,w);return;case"select":ge=O=B=he=null;for(S in h)if(ee=h[S],h.hasOwnProperty(S)&&ee!=null)switch(S){case"value":break;case"multiple":ge=ee;default:g.hasOwnProperty(S)||ln(o,c,S,null,g,ee)}for(w in g)if(S=g[w],ee=h[w],g.hasOwnProperty(w)&&(S!=null||ee!=null))switch(w){case"value":he=S;break;case"defaultValue":B=S;break;case"multiple":O=S;default:S!==ee&&ln(o,c,w,S,g,ee)}c=B,h=O,g=ge,he!=null?mo(o,!!h,he,!1):!!g!=!!h&&(c!=null?mo(o,!!h,c,!0):mo(o,!!h,h?[]:"",!1));return;case"textarea":ge=he=null;for(B in h)if(w=h[B],h.hasOwnProperty(B)&&w!=null&&!g.hasOwnProperty(B))switch(B){case"value":break;case"children":break;default:ln(o,c,B,null,g,w)}for(O in g)if(w=g[O],S=h[O],g.hasOwnProperty(O)&&(w!=null||S!=null))switch(O){case"value":he=w;break;case"defaultValue":ge=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:w!==S&&ln(o,c,O,w,g,S)}Sv(o,he,ge);return;case"option":for(var Ct in h)if(he=h[Ct],h.hasOwnProperty(Ct)&&he!=null&&!g.hasOwnProperty(Ct))switch(Ct){case"selected":o.selected=!1;break;default:ln(o,c,Ct,null,g,he)}for(ee in g)if(he=g[ee],ge=h[ee],g.hasOwnProperty(ee)&&he!==ge&&(he!=null||ge!=null))switch(ee){case"selected":o.selected=he&&typeof he!="function"&&typeof he!="symbol";break;default:ln(o,c,ee,he,g,ge)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in h)he=h[bt],h.hasOwnProperty(bt)&&he!=null&&!g.hasOwnProperty(bt)&&ln(o,c,bt,null,g,he);for(fe in g)if(he=g[fe],ge=h[fe],g.hasOwnProperty(fe)&&he!==ge&&(he!=null||ge!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(137,c));break;default:ln(o,c,fe,he,g,ge)}return;default:if(A0(c)){for(var on in h)he=h[on],h.hasOwnProperty(on)&&he!==void 0&&!g.hasOwnProperty(on)&&hg(o,c,on,void 0,g,he);for(Se in g)he=g[Se],ge=h[Se],!g.hasOwnProperty(Se)||he===ge||he===void 0&&ge===void 0||hg(o,c,Se,he,g,ge);return}}for(var oe in h)he=h[oe],h.hasOwnProperty(oe)&&he!=null&&!g.hasOwnProperty(oe)&&ln(o,c,oe,null,g,he);for(_e in g)he=g[_e],ge=h[_e],!g.hasOwnProperty(_e)||he===ge||he==null&&ge==null||ln(o,c,_e,he,g,ge)}var pg=null,mg=null;function Dh(o){return o.nodeType===9?o:o.ownerDocument}function j4(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _4(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function gg(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var xg=null;function aT(){var o=window.event;return o&&o.type==="popstate"?o===xg?!1:(xg=o,!0):(xg=null,!1)}var N4=typeof setTimeout=="function"?setTimeout:void 0,lT=typeof clearTimeout=="function"?clearTimeout:void 0,E4=typeof Promise=="function"?Promise:void 0,oT=typeof queueMicrotask=="function"?queueMicrotask:typeof E4<"u"?function(o){return E4.resolve(null).then(o).catch(uT)}:N4;function uT(o){setTimeout(function(){throw o})}function Sa(o){return o==="head"}function A4(o,c){var h=c,g=0,w=0;do{var S=h.nextSibling;if(o.removeChild(h),S&&S.nodeType===8)if(h=S.data,h==="/$"){if(0<g&&8>g){h=g;var O=o.ownerDocument;if(h&1&&Lc(O.documentElement),h&2&&Lc(O.body),h&4)for(h=O.head,Lc(h),O=h.firstChild;O;){var B=O.nextSibling,ee=O.nodeName;O[Je]||ee==="SCRIPT"||ee==="STYLE"||ee==="LINK"&&O.rel.toLowerCase()==="stylesheet"||h.removeChild(O),O=B}}if(w===0){o.removeChild(S),Uc(c);return}w--}else h==="$"||h==="$?"||h==="$!"?w++:g=h.charCodeAt(0)-48;else g=0;h=S}while(h);Uc(c)}function yg(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var h=c;switch(c=c.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":yg(h),ut(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}o.removeChild(h)}}function cT(o,c,h,g){for(;o.nodeType===1;){var w=h;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!g&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(g){if(!o[Je])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(S=o.getAttribute("rel"),S==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(S!==w.rel||o.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||o.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||o.getAttribute("title")!==(w.title==null?null:w.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(S=o.getAttribute("src"),(S!==(w.src==null?null:w.src)||o.getAttribute("type")!==(w.type==null?null:w.type)||o.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&S&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var S=w.name==null?null:""+w.name;if(w.type==="hidden"&&o.getAttribute("name")===S)return o}else return o;if(o=Pi(o.nextSibling),o===null)break}return null}function dT(o,c,h){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!h||(o=Pi(o.nextSibling),o===null))return null;return o}function bg(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function fT(o,c){var h=o.ownerDocument;if(o.data!=="$?"||h.readyState==="complete")c();else{var g=function(){c(),h.removeEventListener("DOMContentLoaded",g)};h.addEventListener("DOMContentLoaded",g),o._reactRetry=g}}function Pi(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return o}var vg=null;function D4(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"){if(c===0)return o;c--}else h==="/$"&&c++}o=o.previousSibling}return null}function T4(o,c,h){switch(c=Dh(h),o){case"html":if(o=c.documentElement,!o)throw Error(r(452));return o;case"head":if(o=c.head,!o)throw Error(r(453));return o;case"body":if(o=c.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Lc(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);ut(o)}var vi=new Map,M4=new Set;function Th(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Hs=W.d;W.d={f:hT,r:pT,D:mT,C:gT,L:xT,m:yT,X:vT,S:bT,M:wT};function hT(){var o=Hs.f(),c=kh();return o||c}function pT(o){var c=lt(o);c!==null&&c.tag===5&&c.type==="form"?Zw(c):Hs.r(o)}var qo=typeof document>"u"?null:document;function O4(o,c,h){var g=qo;if(g&&typeof c=="string"&&c){var w=hi(c);w='link[rel="'+o+'"][href="'+w+'"]',typeof h=="string"&&(w+='[crossorigin="'+h+'"]'),M4.has(w)||(M4.add(w),o={rel:o,crossOrigin:h,href:c},g.querySelector(w)===null&&(c=g.createElement("link"),fr(c,"link",o),Nt(c),g.head.appendChild(c)))}}function mT(o){Hs.D(o),O4("dns-prefetch",o,null)}function gT(o,c){Hs.C(o,c),O4("preconnect",o,c)}function xT(o,c,h){Hs.L(o,c,h);var g=qo;if(g&&o&&c){var w='link[rel="preload"][as="'+hi(c)+'"]';c==="image"&&h&&h.imageSrcSet?(w+='[imagesrcset="'+hi(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(w+='[imagesizes="'+hi(h.imageSizes)+'"]')):w+='[href="'+hi(o)+'"]';var S=w;switch(c){case"style":S=Go(o);break;case"script":S=Wo(o)}vi.has(S)||(o=p({rel:"preload",href:c==="image"&&h&&h.imageSrcSet?void 0:o,as:c},h),vi.set(S,o),g.querySelector(w)!==null||c==="style"&&g.querySelector(Pc(S))||c==="script"&&g.querySelector(zc(S))||(c=g.createElement("link"),fr(c,"link",o),Nt(c),g.head.appendChild(c)))}}function yT(o,c){Hs.m(o,c);var h=qo;if(h&&o){var g=c&&typeof c.as=="string"?c.as:"script",w='link[rel="modulepreload"][as="'+hi(g)+'"][href="'+hi(o)+'"]',S=w;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Wo(o)}if(!vi.has(S)&&(o=p({rel:"modulepreload",href:o},c),vi.set(S,o),h.querySelector(w)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(zc(S)))return}g=h.createElement("link"),fr(g,"link",o),Nt(g),h.head.appendChild(g)}}}function bT(o,c,h){Hs.S(o,c,h);var g=qo;if(g&&o){var w=Rt(g).hoistableStyles,S=Go(o);c=c||"default";var O=w.get(S);if(!O){var B={loading:0,preload:null};if(O=g.querySelector(Pc(S)))B.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":c},h),(h=vi.get(S))&&wg(o,h);var ee=O=g.createElement("link");Nt(ee),fr(ee,"link",o),ee._p=new Promise(function(fe,Se){ee.onload=fe,ee.onerror=Se}),ee.addEventListener("load",function(){B.loading|=1}),ee.addEventListener("error",function(){B.loading|=2}),B.loading|=4,Mh(O,c,g)}O={type:"stylesheet",instance:O,count:1,state:B},w.set(S,O)}}}function vT(o,c){Hs.X(o,c);var h=qo;if(h&&o){var g=Rt(h).hoistableScripts,w=Wo(o),S=g.get(w);S||(S=h.querySelector(zc(w)),S||(o=p({src:o,async:!0},c),(c=vi.get(w))&&kg(o,c),S=h.createElement("script"),Nt(S),fr(S,"link",o),h.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},g.set(w,S))}}function wT(o,c){Hs.M(o,c);var h=qo;if(h&&o){var g=Rt(h).hoistableScripts,w=Wo(o),S=g.get(w);S||(S=h.querySelector(zc(w)),S||(o=p({src:o,async:!0,type:"module"},c),(c=vi.get(w))&&kg(o,c),S=h.createElement("script"),Nt(S),fr(S,"link",o),h.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},g.set(w,S))}}function R4(o,c,h,g){var w=(w=te.current)?Th(w):null;if(!w)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(c=Go(h.href),h=Rt(w).hoistableStyles,g=h.get(c),g||(g={type:"style",instance:null,count:0,state:null},h.set(c,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){o=Go(h.href);var S=Rt(w).hoistableStyles,O=S.get(o);if(O||(w=w.ownerDocument||w,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(o,O),(S=w.querySelector(Pc(o)))&&!S._p&&(O.instance=S,O.state.loading=5),vi.has(o)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},vi.set(o,h),S||kT(w,o,h,O.state))),c&&g===null)throw Error(r(528,""));return O}if(c&&g!==null)throw Error(r(529,""));return null;case"script":return c=h.async,h=h.src,typeof h=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Wo(h),h=Rt(w).hoistableScripts,g=h.get(c),g||(g={type:"script",instance:null,count:0,state:null},h.set(c,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function Go(o){return'href="'+hi(o)+'"'}function Pc(o){return'link[rel="stylesheet"]['+o+"]"}function L4(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function kT(o,c,h,g){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?g.loading=1:(c=o.createElement("link"),g.preload=c,c.addEventListener("load",function(){return g.loading|=1}),c.addEventListener("error",function(){return g.loading|=2}),fr(c,"link",h),Nt(c),o.head.appendChild(c))}function Wo(o){return'[src="'+hi(o)+'"]'}function zc(o){return"script[async]"+o}function P4(o,c,h){if(c.count++,c.instance===null)switch(c.type){case"style":var g=o.querySelector('style[data-href~="'+hi(h.href)+'"]');if(g)return c.instance=g,Nt(g),g;var w=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return g=(o.ownerDocument||o).createElement("style"),Nt(g),fr(g,"style",w),Mh(g,h.precedence,o),c.instance=g;case"stylesheet":w=Go(h.href);var S=o.querySelector(Pc(w));if(S)return c.state.loading|=4,c.instance=S,Nt(S),S;g=L4(h),(w=vi.get(w))&&wg(g,w),S=(o.ownerDocument||o).createElement("link"),Nt(S);var O=S;return O._p=new Promise(function(B,ee){O.onload=B,O.onerror=ee}),fr(S,"link",g),c.state.loading|=4,Mh(S,h.precedence,o),c.instance=S;case"script":return S=Wo(h.src),(w=o.querySelector(zc(S)))?(c.instance=w,Nt(w),w):(g=h,(w=vi.get(S))&&(g=p({},h),kg(g,w)),o=o.ownerDocument||o,w=o.createElement("script"),Nt(w),fr(w,"link",g),o.head.appendChild(w),c.instance=w);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(g=c.instance,c.state.loading|=4,Mh(g,h.precedence,o));return c.instance}function Mh(o,c,h){for(var g=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=g.length?g[g.length-1]:null,S=w,O=0;O<g.length;O++){var B=g[O];if(B.dataset.precedence===c)S=B;else if(S!==w)break}S?S.parentNode.insertBefore(o,S.nextSibling):(c=h.nodeType===9?h.head:h,c.insertBefore(o,c.firstChild))}function wg(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function kg(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var Oh=null;function z4(o,c,h){if(Oh===null){var g=new Map,w=Oh=new Map;w.set(h,g)}else w=Oh,g=w.get(h),g||(g=new Map,w.set(h,g));if(g.has(o))return g;for(g.set(o,null),h=h.getElementsByTagName(o),w=0;w<h.length;w++){var S=h[w];if(!(S[Je]||S[X]||o==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var O=S.getAttribute(c)||"";O=o+O;var B=g.get(O);B?B.push(S):g.set(O,[S])}}return g}function I4(o,c,h){o=o.ownerDocument||o,o.head.insertBefore(h,c==="title"?o.querySelector("head > title"):null)}function ST(o,c,h){if(h===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function F4(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var Ic=null;function CT(){}function jT(o,c,h){if(Ic===null)throw Error(r(475));var g=Ic;if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var w=Go(h.href),S=o.querySelector(Pc(w));if(S){o=S._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(g.count++,g=Rh.bind(g),o.then(g,g)),c.state.loading|=4,c.instance=S,Nt(S);return}S=o.ownerDocument||o,h=L4(h),(w=vi.get(w))&&wg(h,w),S=S.createElement("link"),Nt(S);var O=S;O._p=new Promise(function(B,ee){O.onload=B,O.onerror=ee}),fr(S,"link",h),c.instance=S}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(g.count++,c=Rh.bind(g),o.addEventListener("load",c),o.addEventListener("error",c))}}function _T(){if(Ic===null)throw Error(r(475));var o=Ic;return o.stylesheets&&o.count===0&&Sg(o,o.stylesheets),0<o.count?function(c){var h=setTimeout(function(){if(o.stylesheets&&Sg(o,o.stylesheets),o.unsuspend){var g=o.unsuspend;o.unsuspend=null,g()}},6e4);return o.unsuspend=c,function(){o.unsuspend=null,clearTimeout(h)}}:null}function Rh(){if(this.count--,this.count===0){if(this.stylesheets)Sg(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Lh=null;function Sg(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Lh=new Map,c.forEach(NT,o),Lh=null,Rh.call(o))}function NT(o,c){if(!(c.state.loading&4)){var h=Lh.get(o);if(h)var g=h.get(null);else{h=new Map,Lh.set(o,h);for(var w=o.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<w.length;S++){var O=w[S];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(h.set(O.dataset.precedence,O),g=O)}g&&h.set(null,g)}w=c.instance,O=w.getAttribute("data-precedence"),S=h.get(O)||g,S===g&&h.set(null,w),h.set(O,w),this.count++,g=Rh.bind(this),w.addEventListener("load",g),w.addEventListener("error",g),S?S.parentNode.insertBefore(w,S.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(w,o.firstChild)),c.state.loading|=4}}var Fc={$$typeof:A,Provider:null,Consumer:null,_currentValue:R,_currentValue2:R,_threadCount:0};function ET(o,c,h,g,w,S,O,B){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ot(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ot(0),this.hiddenUpdates=ot(null),this.identifierPrefix=g,this.onUncaughtError=w,this.onCaughtError=S,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function B4(o,c,h,g,w,S,O,B,ee,fe,Se,_e){return o=new ET(o,c,h,O,B,ee,fe,_e),c=1,S===!0&&(c|=24),S=Kr(3,null,null,c),o.current=S,S.stateNode=o,c=i1(),c.refCount++,o.pooledCache=c,c.refCount++,S.memoizedState={element:g,isDehydrated:h,cache:c},o1(S),o}function $4(o){return o?(o=Co,o):Co}function H4(o,c,h,g,w,S){w=$4(w),g.context===null?g.context=w:g.pendingContext=w,g=ca(c),g.payload={element:h},S=S===void 0?null:S,S!==null&&(g.callback=S),h=da(o,g,c),h!==null&&(ei(h,o,c),mc(h,o,c))}function U4(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<c?h:c}}function Cg(o,c){U4(o,c),(o=o.alternate)&&U4(o,c)}function V4(o){if(o.tag===13){var c=So(o,67108864);c!==null&&ei(c,o,67108864),Cg(o,67108864)}}var Ph=!0;function AT(o,c,h,g){var w=F.T;F.T=null;var S=W.p;try{W.p=2,jg(o,c,h,g)}finally{W.p=S,F.T=w}}function DT(o,c,h,g){var w=F.T;F.T=null;var S=W.p;try{W.p=8,jg(o,c,h,g)}finally{W.p=S,F.T=w}}function jg(o,c,h,g){if(Ph){var w=_g(g);if(w===null)fg(o,c,g,zh,h),G4(o,g);else if(MT(w,o,c,h,g))g.stopPropagation();else if(G4(o,g),c&4&&-1<TT.indexOf(o)){for(;w!==null;){var S=lt(w);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var O=nt(S.pendingLanes);if(O!==0){var B=S;for(B.pendingLanes|=2,B.entangledLanes|=2;O;){var ee=1<<31-Ue(O);B.entanglements[1]|=ee,O&=~ee}ts(S),(nn&6)===0&&(vh=Y()+500,Mc(0))}}break;case 13:B=So(S,2),B!==null&&ei(B,S,2),kh(),Cg(S,2)}if(S=_g(g),S===null&&fg(o,c,g,zh,h),S===w)break;w=S}w!==null&&g.stopPropagation()}else fg(o,c,g,null,h)}}function _g(o){return o=T0(o),Ng(o)}var zh=null;function Ng(o){if(zh=null,o=ct(o),o!==null){var c=s(o);if(c===null)o=null;else{var h=c.tag;if(h===13){if(o=a(c),o!==null)return o;o=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return zh=o,null}function q4(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ne()){case Le:return 2;case Xe:return 8;case zt:case Mt:return 32;case Ot:return 268435456;default:return 32}default:return 32}}var Eg=!1,Ca=null,ja=null,_a=null,Bc=new Map,$c=new Map,Na=[],TT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function G4(o,c){switch(o){case"focusin":case"focusout":Ca=null;break;case"dragenter":case"dragleave":ja=null;break;case"mouseover":case"mouseout":_a=null;break;case"pointerover":case"pointerout":Bc.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":$c.delete(c.pointerId)}}function Hc(o,c,h,g,w,S){return o===null||o.nativeEvent!==S?(o={blockedOn:c,domEventName:h,eventSystemFlags:g,nativeEvent:S,targetContainers:[w]},c!==null&&(c=lt(c),c!==null&&V4(c)),o):(o.eventSystemFlags|=g,c=o.targetContainers,w!==null&&c.indexOf(w)===-1&&c.push(w),o)}function MT(o,c,h,g,w){switch(c){case"focusin":return Ca=Hc(Ca,o,c,h,g,w),!0;case"dragenter":return ja=Hc(ja,o,c,h,g,w),!0;case"mouseover":return _a=Hc(_a,o,c,h,g,w),!0;case"pointerover":var S=w.pointerId;return Bc.set(S,Hc(Bc.get(S)||null,o,c,h,g,w)),!0;case"gotpointercapture":return S=w.pointerId,$c.set(S,Hc($c.get(S)||null,o,c,h,g,w)),!0}return!1}function W4(o){var c=ct(o.target);if(c!==null){var h=s(c);if(h!==null){if(c=h.tag,c===13){if(c=a(h),c!==null){o.blockedOn=c,di(o.priority,function(){if(h.tag===13){var g=Qr();g=xn(g);var w=So(h,g);w!==null&&ei(w,h,g),Cg(h,g)}});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Ih(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var h=_g(o.nativeEvent);if(h===null){h=o.nativeEvent;var g=new h.constructor(h.type,h);D0=g,h.target.dispatchEvent(g),D0=null}else return c=lt(h),c!==null&&V4(c),o.blockedOn=h,!1;c.shift()}return!0}function Y4(o,c,h){Ih(o)&&h.delete(c)}function OT(){Eg=!1,Ca!==null&&Ih(Ca)&&(Ca=null),ja!==null&&Ih(ja)&&(ja=null),_a!==null&&Ih(_a)&&(_a=null),Bc.forEach(Y4),$c.forEach(Y4)}function Fh(o,c){o.blockedOn===c&&(o.blockedOn=null,Eg||(Eg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,OT)))}var Bh=null;function K4(o){Bh!==o&&(Bh=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Bh===o&&(Bh=null);for(var c=0;c<o.length;c+=3){var h=o[c],g=o[c+1],w=o[c+2];if(typeof g!="function"){if(Ng(g||h)===null)continue;break}var S=lt(h);S!==null&&(o.splice(c,3),c-=3,N1(S,{pending:!0,data:w,method:h.method,action:g},g,w))}}))}function Uc(o){function c(ee){return Fh(ee,o)}Ca!==null&&Fh(Ca,o),ja!==null&&Fh(ja,o),_a!==null&&Fh(_a,o),Bc.forEach(c),$c.forEach(c);for(var h=0;h<Na.length;h++){var g=Na[h];g.blockedOn===o&&(g.blockedOn=null)}for(;0<Na.length&&(h=Na[0],h.blockedOn===null);)W4(h),h.blockedOn===null&&Na.shift();if(h=(o.ownerDocument||o).$$reactFormReplay,h!=null)for(g=0;g<h.length;g+=3){var w=h[g],S=h[g+1],O=w[se]||null;if(typeof S=="function")O||K4(h);else if(O){var B=null;if(S&&S.hasAttribute("formAction")){if(w=S,O=S[se]||null)B=O.formAction;else if(Ng(w)!==null)continue}else B=O.action;typeof B=="function"?h[g+1]=B:(h.splice(g,3),g-=3),K4(h)}}}function Ag(o){this._internalRoot=o}$h.prototype.render=Ag.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(r(409));var h=c.current,g=Qr();H4(h,g,o,c,null,null)},$h.prototype.unmount=Ag.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;H4(o.current,2,null,o,null,null),kh(),c[me]=null}};function $h(o){this._internalRoot=o}$h.prototype.unstable_scheduleHydration=function(o){if(o){var c=Dr();o={blockedOn:null,target:o,priority:c};for(var h=0;h<Na.length&&c!==0&&c<Na[h].priority;h++);Na.splice(h,0,o),h===0&&W4(o)}};var J4=t.version;if(J4!=="19.1.1")throw Error(r(527,J4,"19.1.1"));W.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=d(c),o=o!==null?f(o):null,o=o===null?null:o.stateNode,o};var RT={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hh.isDisabled&&Hh.supportsFiber)try{pe=Hh.inject(RT),Ce=Hh}catch{}}return qc.createRoot=function(o,c){if(!i(o))throw Error(r(299));var h=!1,g="",w=f3,S=h3,O=p3,B=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(w=c.onUncaughtError),c.onCaughtError!==void 0&&(S=c.onCaughtError),c.onRecoverableError!==void 0&&(O=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(B=c.unstable_transitionCallbacks)),c=B4(o,1,!1,null,null,h,g,w,S,O,B,null),o[me]=c.current,dg(o),new Ag(c)},qc.hydrateRoot=function(o,c,h){if(!i(o))throw Error(r(299));var g=!1,w="",S=f3,O=h3,B=p3,ee=null,fe=null;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(w=h.identifierPrefix),h.onUncaughtError!==void 0&&(S=h.onUncaughtError),h.onCaughtError!==void 0&&(O=h.onCaughtError),h.onRecoverableError!==void 0&&(B=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(ee=h.unstable_transitionCallbacks),h.formState!==void 0&&(fe=h.formState)),c=B4(o,1,!0,c,h??null,g,w,S,O,B,ee,fe),c.context=$4(null),h=c.current,g=Qr(),g=xn(g),w=ca(g),w.callback=null,da(h,w,g),h=g,c.current.lanes=h,jt(c,h),ts(c),o[me]=c.current,dg(o),new $h(c)},qc.version="19.1.1",qc}var a6;function VT(){if(a6)return Mg.exports;a6=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Mg.exports=UT(),Mg.exports}var qT=VT();/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var k8=e=>{throw TypeError(e)},GT=(e,t,n)=>t.has(e)||k8("Cannot "+n),Pg=(e,t,n)=>(GT(e,t,"read from private field"),n?n.call(e):t.get(e)),WT=(e,t,n)=>t.has(e)?k8("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),l6="popstate";function YT(e={}){function t(r,i){let{pathname:s,search:a,hash:u}=r.location;return Pd("",{pathname:s,search:a,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ps(i)}return JT(t,n,null,e)}function $t(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ln(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function KT(){return Math.random().toString(36).substring(2,10)}function o6(e,t){return{usr:e.state,key:e.key,idx:t}}function Pd(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ol(t):t,state:n,key:t&&t.key||r||KT()}}function ps({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ol(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function JT(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,u="POP",d=null,f=p();f==null&&(f=0,a.replaceState({...a.state,idx:f},""));function p(){return(a.state||{idx:null}).idx}function m(){u="POP";let j=p(),C=j==null?null:j-f;f=j,d&&d({action:u,location:k.location,delta:C})}function x(j,C){u="PUSH";let N=Pd(k.location,j,C);f=p()+1;let A=o6(N,f),z=k.createHref(N);try{a.pushState(A,"",z)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(z)}s&&d&&d({action:u,location:k.location,delta:1})}function y(j,C){u="REPLACE";let N=Pd(k.location,j,C);f=p();let A=o6(N,f),z=k.createHref(N);a.replaceState(A,"",z),s&&d&&d({action:u,location:k.location,delta:0})}function v(j){return S8(j)}let k={get action(){return u},get location(){return e(i,a)},listen(j){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(l6,m),d=j,()=>{i.removeEventListener(l6,m),d=null}},createHref(j){return t(i,j)},createURL:v,encodeLocation(j){let C=v(j);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:x,replace:y,go(j){return a.go(j)}};return k}function S8(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),$t(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:ps(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var gd,u6=class{constructor(e){if(WT(this,gd,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(Pg(this,gd).has(e))return Pg(this,gd).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){Pg(this,gd).set(e,t)}};gd=new WeakMap;var XT=new Set(["lazy","caseSensitive","path","id","index","children"]);function ZT(e){return XT.has(e)}var QT=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function eM(e){return QT.has(e)}function tM(e){return e.index===!0}function zd(e,t,n=[],r={},i=!1){return e.map((s,a)=>{let u=[...n,String(a)],d=typeof s.id=="string"?s.id:u.join("-");if($t(s.index!==!0||!s.children,"Cannot specify children on an index route"),$t(i||!r[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),tM(s)){let f={...s,id:d};return r[d]=c6(f,t(f)),f}else{let f={...s,id:d,children:void 0};return r[d]=c6(f,t(f)),s.children&&(f.children=zd(s.children,t,u,r,i)),f}})}function c6(e,t){return Object.assign(e,{...t,...typeof t.lazy=="object"&&t.lazy!=null?{lazy:{...e.lazy,...t.lazy}}:{}})}function $a(e,t,n="/"){return xd(e,t,n,!1)}function xd(e,t,n,r){let i=typeof t=="string"?ol(t):t,s=Di(i.pathname||"/",n);if(s==null)return null;let a=C8(e);rM(a);let u=null;for(let d=0;u==null&&d<a.length;++d){let f=pM(s);u=fM(a[d],f,r)}return u}function nM(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],loaderData:t[n.id],handle:n.handle}}function C8(e,t=[],n=[],r="",i=!1){let s=(a,u,d=i,f)=>{let p={relativePath:f===void 0?a.path||"":f,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&d)return;$t(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let m=fs([r,p.relativePath]),x=n.concat(p);a.children&&a.children.length>0&&($t(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),C8(a.children,t,x,m,d)),!(a.path==null&&!a.index)&&t.push({path:m,score:cM(m,a.index),routesMeta:x})};return e.forEach((a,u)=>{if(a.path===""||!a.path?.includes("?"))s(a,u);else for(let d of j8(a.path))s(a,u,!0,d)}),t}function j8(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=j8(r.join("/")),u=[];return u.push(...a.map(d=>d===""?s:[s,d].join("/"))),i&&u.push(...a),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function rM(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:dM(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var iM=/^:[\w-]+$/,sM=3,aM=2,lM=1,oM=10,uM=-2,d6=e=>e==="*";function cM(e,t){let n=e.split("/"),r=n.length;return n.some(d6)&&(r+=uM),t&&(r+=aM),n.filter(i=>!d6(i)).reduce((i,s)=>i+(iM.test(s)?sM:s===""?lM:oM),r)}function dM(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function fM(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",a=[];for(let u=0;u<r.length;++u){let d=r[u],f=u===r.length-1,p=s==="/"?t:t.slice(s.length)||"/",m=Yp({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),x=d.route;if(!m&&f&&n&&!r[r.length-1].route.index&&(m=Yp({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!m)return null;Object.assign(i,m.params),a.push({params:i,pathname:fs([s,m.pathname]),pathnameBase:yM(fs([s,m.pathnameBase])),route:x}),m.pathnameBase!=="/"&&(s=fs([s,m.pathnameBase]))}return a}function Yp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=hM(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,{paramName:p,isOptional:m},x)=>{if(p==="*"){let v=u[x]||"";a=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const y=u[x];return m&&!y?f[p]=void 0:f[p]=(y||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:a,pattern:e}}function hM(e,t=!1,n=!0){Ln(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function pM(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ln(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Di(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function mM({basename:e,pathname:t}){return t==="/"?e:fs([e,t])}var gM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dm=e=>gM.test(e);function xM(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?ol(e):e,s;if(n)if(Dm(n))s=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),Ln(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${n}`)}n.startsWith("/")?s=f6(n.substring(1),"/"):s=f6(n,t)}else s=t;return{pathname:s,search:bM(r),hash:vM(i)}}function f6(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function zg(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _8(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function F2(e){let t=_8(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function B2(e,t,n,r=!1){let i;typeof e=="string"?i=ol(e):(i={...e},$t(!i.pathname||!i.pathname.includes("?"),zg("?","pathname","search",i)),$t(!i.pathname||!i.pathname.includes("#"),zg("#","pathname","hash",i)),$t(!i.search||!i.search.includes("#"),zg("#","search","hash",i)));let s=e===""||i.pathname==="",a=s?"/":i.pathname,u;if(a==null)u=n;else{let m=t.length-1;if(!r&&a.startsWith("..")){let x=a.split("/");for(;x[0]==="..";)x.shift(),m-=1;i.pathname=x.join("/")}u=m>=0?t[m]:"/"}let d=xM(i,u),f=a&&a!=="/"&&a.endsWith("/"),p=(s||a===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var fs=e=>e.join("/").replace(/\/\/+/g,"/"),yM=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),bM=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,vM=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Kp=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Id(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function $2(e){return e.filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Ga=Symbol("Uninstrumented");function wM(e,t){let n={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};e.forEach(i=>i({id:t.id,index:t.index,path:t.path,instrument(s){let a=Object.keys(n);for(let u of a)s[u]&&n[u].push(s[u])}}));let r={};if(typeof t.lazy=="function"&&n.lazy.length>0){let i=fu(n.lazy,t.lazy,()=>{});i&&(r.lazy=i)}if(typeof t.lazy=="object"){let i=t.lazy;["middleware","loader","action"].forEach(s=>{let a=i[s],u=n[`lazy.${s}`];if(typeof a=="function"&&u.length>0){let d=fu(u,a,()=>{});d&&(r.lazy=Object.assign(r.lazy||{},{[s]:d}))}})}return["loader","action"].forEach(i=>{let s=t[i];if(typeof s=="function"&&n[i].length>0){let a=s[Ga]??s,u=fu(n[i],a,(...d)=>h6(d[0]));u&&(u[Ga]=a,r[i]=u)}}),t.middleware&&t.middleware.length>0&&n.middleware.length>0&&(r.middleware=t.middleware.map(i=>{let s=i[Ga]??i,a=fu(n.middleware,s,(...u)=>h6(u[0]));return a?(a[Ga]=s,a):i})),r}function kM(e,t){let n={navigate:[],fetch:[]};if(t.forEach(r=>r({instrument(i){let s=Object.keys(i);for(let a of s)i[a]&&n[a].push(i[a])}})),n.navigate.length>0){let r=e.navigate[Ga]??e.navigate,i=fu(n.navigate,r,(...s)=>{let[a,u]=s;return{to:typeof a=="number"||typeof a=="string"?a:a?ps(a):".",...p6(e,u??{})}});i&&(i[Ga]=r,e.navigate=i)}if(n.fetch.length>0){let r=e.fetch[Ga]??e.fetch,i=fu(n.fetch,r,(...s)=>{let[a,,u,d]=s;return{href:u??".",fetcherKey:a,...p6(e,d??{})}});i&&(i[Ga]=r,e.fetch=i)}return e}function fu(e,t,n){return e.length===0?null:async(...r)=>{let i=await N8(e,n(...r),()=>t(...r),e.length-1);if(i.type==="error")throw i.value;return i.value}}async function N8(e,t,n,r){let i=e[r],s;if(i){let a,u=async()=>(a?console.error("You cannot call instrumented handlers more than once"):a=N8(e,t,n,r-1),s=await a,$t(s,"Expected a result"),s.type==="error"&&s.value instanceof Error?{status:"error",error:s.value}:{status:"success",error:void 0});try{await i(u,t)}catch(d){console.error("An instrumentation function threw an error:",d)}a||await u(),await a}else try{s={type:"success",value:await n()}}catch(a){s={type:"error",value:a}}return s||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function h6(e){let{request:t,context:n,params:r,unstable_pattern:i}=e;return{request:SM(t),params:{...r},unstable_pattern:i,context:CM(n)}}function p6(e,t){return{currentUrl:ps(e.state.location),..."formMethod"in t?{formMethod:t.formMethod}:{},..."formEncType"in t?{formEncType:t.formEncType}:{},..."formData"in t?{formData:t.formData}:{},..."body"in t?{body:t.body}:{}}}function SM(e){return{method:e.method,url:e.url,headers:{get:(...t)=>e.headers.get(...t)}}}function CM(e){if(_M(e)){let t={...e};return Object.freeze(t),t}else return{get:t=>e.get(t)}}var jM=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function _M(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null||Object.getOwnPropertyNames(t).sort().join("\0")===jM}var E8=["POST","PUT","PATCH","DELETE"],NM=new Set(E8),EM=["GET",...E8],AM=new Set(EM),DM=new Set([301,302,303,307,308]),TM=new Set([307,308]),Ig={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},MM={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Gc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},OM=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),A8="remix-router-transitions",D8=Symbol("ResetLoaderData");function RM(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";$t(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=e.hydrationRouteProperties||[],i=e.mapRouteProperties||OM,s=i;if(e.unstable_instrumentations){let X=e.unstable_instrumentations;s=se=>({...i(se),...wM(X.map(me=>me.route).filter(Boolean),se)})}let a={},u=zd(e.routes,s,void 0,a),d,f=e.basename||"/";f.startsWith("/")||(f=`/${f}`);let p=e.dataStrategy||FM,m={...e.future},x=null,y=new Set,v=null,k=null,j=null,C=e.hydrationData!=null,N=$a(u,e.history.location,f),A=!1,z=null,I;if(N==null&&!e.patchRoutesOnNavigation){let X=Si(404,{pathname:e.history.location.pathname}),{matches:se,route:me}=Uh(u);I=!0,N=se,z={[me.id]:X}}else if(N&&!e.hydrationData&&xn(N,u,e.history.location.pathname).active&&(N=null),N)if(N.some(X=>X.route.lazy))I=!1;else if(!N.some(X=>H2(X.route)))I=!0;else{let X=e.hydrationData?e.hydrationData.loaderData:null,se=e.hydrationData?e.hydrationData.errors:null;if(se){let me=N.findIndex(De=>se[De.route.id]!==void 0);I=N.slice(0,me+1).every(De=>!_y(De.route,X,se))}else I=N.every(me=>!_y(me.route,X,se))}else{I=!1,N=[];let X=xn(null,u,e.history.location.pathname);X.active&&X.matches&&(A=!0,N=X.matches)}let T,E={historyAction:e.history.action,location:e.history.location,matches:N,initialized:I,navigation:Ig,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||z,fetchers:new Map,blockers:new Map},M="POP",L=!1,D,V=!1,K=new Map,J=null,Z=!1,q=!1,F=new Set,W=new Map,R=0,U=-1,_=new Map,Q=new Set,G=new Map,P=new Map,ie=new Set,H=new Map,te,ae=null;function ke(){if(x=e.history.listen(({action:X,location:se,delta:me})=>{if(te){te(),te=void 0;return}Ln(H.size===0||me!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let De=pt({currentLocation:E.location,nextLocation:se,historyAction:X});if(De&&me!=null){let Ie=new Promise(mt=>{te=mt});e.history.go(me*-1),Be(De,{state:"blocked",location:se,proceed(){Be(De,{state:"proceeding",proceed:void 0,reset:void 0,location:se}),Ie.then(()=>e.history.go(me))},reset(){let mt=new Map(E.blockers);mt.set(De,Gc),Me({blockers:mt})}});return}return le(X,se)}),n){eO(t,K);let X=()=>tO(t,K);t.addEventListener("pagehide",X),J=()=>t.removeEventListener("pagehide",X)}return E.initialized||le("POP",E.location,{initialHydration:!0}),T}function Ge(){x&&x(),J&&J(),y.clear(),D&&D.abort(),E.fetchers.forEach((X,se)=>Ze(se)),E.blockers.forEach((X,se)=>wt(se))}function He(X){return y.add(X),()=>y.delete(X)}function Me(X,se={}){X.matches&&(X.matches=X.matches.map(Ie=>{let mt=a[Ie.route.id],ht=Ie.route;return ht.element!==mt.element||ht.errorElement!==mt.errorElement||ht.hydrateFallbackElement!==mt.hydrateFallbackElement?{...Ie,route:mt}:Ie})),E={...E,...X};let me=[],De=[];E.fetchers.forEach((Ie,mt)=>{Ie.state==="idle"&&(ie.has(mt)?me.push(mt):De.push(mt))}),ie.forEach(Ie=>{!E.fetchers.has(Ie)&&!W.has(Ie)&&me.push(Ie)}),[...y].forEach(Ie=>Ie(E,{deletedFetchers:me,viewTransitionOpts:se.viewTransitionOpts,flushSync:se.flushSync===!0})),me.forEach(Ie=>Ze(Ie)),De.forEach(Ie=>E.fetchers.delete(Ie))}function ze(X,se,{flushSync:me}={}){let De=E.actionData!=null&&E.navigation.formMethod!=null&&Mr(E.navigation.formMethod)&&E.navigation.state==="loading"&&X.state?._isRedirect!==!0,Ie;se.actionData?Object.keys(se.actionData).length>0?Ie=se.actionData:Ie=null:De?Ie=E.actionData:Ie=null;let mt=se.loaderData?C6(E.loaderData,se.loaderData,se.matches||[],se.errors):E.loaderData,ht=E.blockers;ht.size>0&&(ht=new Map(ht),ht.forEach((lt,dt)=>ht.set(dt,Gc)));let Je=Z?!1:pn(X,se.matches||E.matches),ut=L===!0||E.navigation.formMethod!=null&&Mr(E.navigation.formMethod)&&X.state?._isRedirect!==!0;d&&(u=d,d=void 0),Z||M==="POP"||(M==="PUSH"?e.history.push(X,X.state):M==="REPLACE"&&e.history.replace(X,X.state));let ct;if(M==="POP"){let lt=K.get(E.location.pathname);lt&&lt.has(X.pathname)?ct={currentLocation:E.location,nextLocation:X}:K.has(X.pathname)&&(ct={currentLocation:X,nextLocation:E.location})}else if(V){let lt=K.get(E.location.pathname);lt?lt.add(X.pathname):(lt=new Set([X.pathname]),K.set(E.location.pathname,lt)),ct={currentLocation:E.location,nextLocation:X}}Me({...se,actionData:Ie,loaderData:mt,historyAction:M,location:X,initialized:!0,navigation:Ig,revalidation:"idle",restoreScrollPosition:Je,preventScrollReset:ut,blockers:ht},{viewTransitionOpts:ct,flushSync:me===!0}),M="POP",L=!1,V=!1,Z=!1,q=!1,ae?.resolve(),ae=null}async function ft(X,se){if(typeof X=="number"){e.history.go(X);return}let me=jy(E.location,E.matches,f,X,se?.fromRouteId,se?.relative),{path:De,submission:Ie,error:mt}=m6(!1,me,se),ht=E.location,Je=Pd(E.location,De,se&&se.state);Je={...Je,...e.history.encodeLocation(Je)};let ut=se&&se.replace!=null?se.replace:void 0,ct="PUSH";ut===!0?ct="REPLACE":ut===!1||Ie!=null&&Mr(Ie.formMethod)&&Ie.formAction===E.location.pathname+E.location.search&&(ct="REPLACE");let lt=se&&"preventScrollReset"in se?se.preventScrollReset===!0:void 0,dt=(se&&se.flushSync)===!0,Rt=pt({currentLocation:ht,nextLocation:Je,historyAction:ct});if(Rt){Be(Rt,{state:"blocked",location:Je,proceed(){Be(Rt,{state:"proceeding",proceed:void 0,reset:void 0,location:Je}),ft(X,se)},reset(){let Nt=new Map(E.blockers);Nt.set(Rt,Gc),Me({blockers:Nt})}});return}await le(ct,Je,{submission:Ie,pendingError:mt,preventScrollReset:lt,replace:se&&se.replace,enableViewTransition:se&&se.viewTransition,flushSync:dt})}function we(){ae||(ae=nO()),pe(),Me({revalidation:"loading"});let X=ae.promise;return E.navigation.state==="submitting"?X:E.navigation.state==="idle"?(le(E.historyAction,E.location,{startUninterruptedRevalidation:!0}),X):(le(M||E.historyAction,E.navigation.location,{overrideNavigation:E.navigation,enableViewTransition:V===!0}),X)}async function le(X,se,me){D&&D.abort(),D=null,M=X,Z=(me&&me.startUninterruptedRevalidation)===!0,gn(E.location,E.matches),L=(me&&me.preventScrollReset)===!0,V=(me&&me.enableViewTransition)===!0;let De=d||u,Ie=me&&me.overrideNavigation,mt=me?.initialHydration&&E.matches&&E.matches.length>0&&!A?E.matches:$a(De,se,f),ht=(me&&me.flushSync)===!0;if(mt&&E.initialized&&!q&&WM(E.location,se)&&!(me&&me.submission&&Mr(me.submission.formMethod))){ze(se,{matches:mt},{flushSync:ht});return}let Je=xn(mt,De,se.pathname);if(Je.active&&Je.matches&&(mt=Je.matches),!mt){let{error:Tn,notFoundMatches:Kt,route:Zt}=ot(se.pathname);ze(se,{matches:Kt,loaderData:{},errors:{[Zt.id]:Tn}},{flushSync:ht});return}D=new AbortController;let ut=ou(e.history,se,D.signal,me&&me.submission),ct=e.getContext?await e.getContext():new u6,lt;if(me&&me.pendingError)lt=[Ha(mt).route.id,{type:"error",error:me.pendingError}];else if(me&&me.submission&&Mr(me.submission.formMethod)){let Tn=await Ke(ut,se,me.submission,mt,ct,Je.active,me&&me.initialHydration===!0,{replace:me.replace,flushSync:ht});if(Tn.shortCircuited)return;if(Tn.pendingActionResult){let[Kt,Zt]=Tn.pendingActionResult;if(ni(Zt)&&Id(Zt.error)&&Zt.error.status===404){D=null,ze(se,{matches:Tn.matches,loaderData:{},errors:{[Kt]:Zt.error}});return}}mt=Tn.matches||mt,lt=Tn.pendingActionResult,Ie=Fg(se,me.submission),ht=!1,Je.active=!1,ut=ou(e.history,ut.url,ut.signal)}let{shortCircuited:dt,matches:Rt,loaderData:Nt,errors:Sn}=await Y(ut,se,mt,ct,Je.active,Ie,me&&me.submission,me&&me.fetcherSubmission,me&&me.replace,me&&me.initialHydration===!0,ht,lt);dt||(D=null,ze(se,{matches:Rt||mt,...j6(lt),loaderData:Nt,errors:Sn}))}async function Ke(X,se,me,De,Ie,mt,ht,Je={}){pe();let ut=ZM(se,me);if(Me({navigation:ut},{flushSync:Je.flushSync===!0}),mt){let dt=await yn(De,se.pathname,X.signal);if(dt.type==="aborted")return{shortCircuited:!0};if(dt.type==="error"){if(dt.partialMatches.length===0){let{matches:Nt,route:Sn}=Uh(u);return{matches:Nt,pendingActionResult:[Sn.id,{type:"error",error:dt.error}]}}let Rt=Ha(dt.partialMatches).route.id;return{matches:dt.partialMatches,pendingActionResult:[Rt,{type:"error",error:dt.error}]}}else if(dt.matches)De=dt.matches;else{let{notFoundMatches:Rt,error:Nt,route:Sn}=ot(se.pathname);return{matches:Rt,pendingActionResult:[Sn.id,{type:"error",error:Nt}]}}}let ct,lt=Tp(De,se);if(!lt.route.action&&!lt.route.lazy)ct={type:"error",error:Si(405,{method:X.method,pathname:se.pathname,routeId:lt.route.id})};else{let dt=pu(s,a,X,De,lt,ht?[]:r,Ie),Rt=await tn(X,dt,Ie,null);if(ct=Rt[lt.route.id],!ct){for(let Nt of De)if(Rt[Nt.route.id]){ct=Rt[Nt.route.id];break}}if(X.signal.aborted)return{shortCircuited:!0}}if(Hl(ct)){let dt;return Je&&Je.replace!=null?dt=Je.replace:dt=w6(ct.response.headers.get("Location"),new URL(X.url),f)===E.location.pathname+E.location.search,await Ot(X,ct,!0,{submission:me,replace:dt}),{shortCircuited:!0}}if(ni(ct)){let dt=Ha(De,lt.route.id);return(Je&&Je.replace)!==!0&&(M="PUSH"),{matches:De,pendingActionResult:[dt.route.id,ct,lt.route.id]}}return{matches:De,pendingActionResult:[lt.route.id,ct]}}async function Y(X,se,me,De,Ie,mt,ht,Je,ut,ct,lt,dt){let Rt=mt||Fg(se,ht),Nt=ht||Je||N6(Rt),Sn=!Z&&!ct;if(Ie){if(Sn){let Pn=Ne(dt);Me({navigation:Rt,...Pn!==void 0?{actionData:Pn}:{}},{flushSync:lt})}let Lt=await yn(me,se.pathname,X.signal);if(Lt.type==="aborted")return{shortCircuited:!0};if(Lt.type==="error"){if(Lt.partialMatches.length===0){let{matches:Ji,route:Es}=Uh(u);return{matches:Ji,loaderData:{},errors:{[Es.id]:Lt.error}}}let Pn=Ha(Lt.partialMatches).route.id;return{matches:Lt.partialMatches,loaderData:{},errors:{[Pn]:Lt.error}}}else if(Lt.matches)me=Lt.matches;else{let{error:Pn,notFoundMatches:Ji,route:Es}=ot(se.pathname);return{matches:Ji,loaderData:{},errors:{[Es.id]:Pn}}}}let Tn=d||u,{dsMatches:Kt,revalidatingFetchers:Zt}=g6(X,De,s,a,e.history,E,me,Nt,se,ct?[]:r,ct===!0,q,F,ie,G,Q,Tn,f,e.patchRoutesOnNavigation!=null,dt);if(U=++R,!e.dataStrategy&&!Kt.some(Lt=>Lt.shouldLoad)&&!Kt.some(Lt=>Lt.route.middleware&&Lt.route.middleware.length>0)&&Zt.length===0){let Lt=nt();return ze(se,{matches:me,loaderData:{},errors:dt&&ni(dt[1])?{[dt[0]]:dt[1].error}:null,...j6(dt),...Lt?{fetchers:new Map(E.fetchers)}:{}},{flushSync:lt}),{shortCircuited:!0}}if(Sn){let Lt={};if(!Ie){Lt.navigation=Rt;let Pn=Ne(dt);Pn!==void 0&&(Lt.actionData=Pn)}Zt.length>0&&(Lt.fetchers=Le(Zt)),Me(Lt,{flushSync:lt})}Zt.forEach(Lt=>{ne(Lt.key),Lt.controller&&W.set(Lt.key,Lt.controller)});let Ns=()=>Zt.forEach(Lt=>ne(Lt.key));D&&D.signal.addEventListener("abort",Ns);let{loaderResults:ia,fetcherResults:Oi}=await Yt(Kt,Zt,X,De);if(X.signal.aborted)return{shortCircuited:!0};D&&D.signal.removeEventListener("abort",Ns),Zt.forEach(Lt=>W.delete(Lt.key));let fi=Vh(ia);if(fi)return await Ot(X,fi.result,!0,{replace:ut}),{shortCircuited:!0};if(fi=Vh(Oi),fi)return Q.add(fi.key),await Ot(X,fi.result,!0,{replace:ut}),{shortCircuited:!0};let{loaderData:sa,errors:Ki}=S6(E,me,ia,dt,Zt,Oi);ct&&E.errors&&(Ki={...E.errors,...Ki});let or=nt(),aa=We(U),gl=or||aa||Zt.length>0;return{matches:me,loaderData:sa,errors:Ki,...gl?{fetchers:new Map(E.fetchers)}:{}}}function Ne(X){if(X&&!ni(X[1]))return{[X[0]]:X[1].data};if(E.actionData)return Object.keys(E.actionData).length===0?null:E.actionData}function Le(X){return X.forEach(se=>{let me=E.fetchers.get(se.key),De=Wc(void 0,me?me.data:void 0);E.fetchers.set(se.key,De)}),new Map(E.fetchers)}async function Xe(X,se,me,De){ne(X);let Ie=(De&&De.flushSync)===!0,mt=d||u,ht=jy(E.location,E.matches,f,me,se,De?.relative),Je=$a(mt,ht,f),ut=xn(Je,mt,ht);if(ut.active&&ut.matches&&(Je=ut.matches),!Je){Fe(X,se,Si(404,{pathname:ht}),{flushSync:Ie});return}let{path:ct,submission:lt,error:dt}=m6(!0,ht,De);if(dt){Fe(X,se,dt,{flushSync:Ie});return}let Rt=e.getContext?await e.getContext():new u6,Nt=(De&&De.preventScrollReset)===!0;if(lt&&Mr(lt.formMethod)){await zt(X,se,ct,Je,Rt,ut.active,Ie,Nt,lt);return}G.set(X,{routeId:se,path:ct}),await Mt(X,se,ct,Je,Rt,ut.active,Ie,Nt,lt)}async function zt(X,se,me,De,Ie,mt,ht,Je,ut){pe(),G.delete(X);let ct=E.fetchers.get(X);Ce(X,QM(ut,ct),{flushSync:ht});let lt=new AbortController,dt=ou(e.history,me,lt.signal,ut);if(mt){let mn=await yn(De,new URL(dt.url).pathname,dt.signal,X);if(mn.type==="aborted")return;if(mn.type==="error"){Fe(X,se,mn.error,{flushSync:ht});return}else if(mn.matches)De=mn.matches;else{Fe(X,se,Si(404,{pathname:me}),{flushSync:ht});return}}let Rt=Tp(De,me);if(!Rt.route.action&&!Rt.route.lazy){let mn=Si(405,{method:ut.formMethod,pathname:me,routeId:se});Fe(X,se,mn,{flushSync:ht});return}W.set(X,lt);let Nt=R,Sn=pu(s,a,dt,De,Rt,r,Ie),Tn=await tn(dt,Sn,Ie,X),Kt=Tn[Rt.route.id];if(!Kt){for(let mn of Sn)if(Tn[mn.route.id]){Kt=Tn[mn.route.id];break}}if(dt.signal.aborted){W.get(X)===lt&&W.delete(X);return}if(ie.has(X)){if(Hl(Kt)||ni(Kt)){Ce(X,Gs(void 0));return}}else{if(Hl(Kt))if(W.delete(X),U>Nt){Ce(X,Gs(void 0));return}else return Q.add(X),Ce(X,Wc(ut)),Ot(dt,Kt,!1,{fetcherSubmission:ut,preventScrollReset:Je});if(ni(Kt)){Fe(X,se,Kt.error);return}}let Zt=E.navigation.location||E.location,Ns=ou(e.history,Zt,lt.signal),ia=d||u,Oi=E.navigation.state!=="idle"?$a(ia,E.navigation.location,f):E.matches;$t(Oi,"Didn't find any matches after fetcher action");let fi=++R;_.set(X,fi);let sa=Wc(ut,Kt.data);E.fetchers.set(X,sa);let{dsMatches:Ki,revalidatingFetchers:or}=g6(Ns,Ie,s,a,e.history,E,Oi,ut,Zt,r,!1,q,F,ie,G,Q,ia,f,e.patchRoutesOnNavigation!=null,[Rt.route.id,Kt]);or.filter(mn=>mn.key!==X).forEach(mn=>{let ur=mn.key,Xu=E.fetchers.get(ur),_0=Wc(void 0,Xu?Xu.data:void 0);E.fetchers.set(ur,_0),ne(ur),mn.controller&&W.set(ur,mn.controller)}),Me({fetchers:new Map(E.fetchers)});let aa=()=>or.forEach(mn=>ne(mn.key));lt.signal.addEventListener("abort",aa);let{loaderResults:gl,fetcherResults:Lt}=await Yt(Ki,or,Ns,Ie);if(lt.signal.aborted)return;if(lt.signal.removeEventListener("abort",aa),_.delete(X),W.delete(X),or.forEach(mn=>W.delete(mn.key)),E.fetchers.has(X)){let mn=Gs(Kt.data);E.fetchers.set(X,mn)}let Pn=Vh(gl);if(Pn)return Ot(Ns,Pn.result,!1,{preventScrollReset:Je});if(Pn=Vh(Lt),Pn)return Q.add(Pn.key),Ot(Ns,Pn.result,!1,{preventScrollReset:Je});let{loaderData:Ji,errors:Es}=S6(E,Oi,gl,void 0,or,Lt);We(fi),E.navigation.state==="loading"&&fi>U?($t(M,"Expected pending action"),D&&D.abort(),ze(E.navigation.location,{matches:Oi,loaderData:Ji,errors:Es,fetchers:new Map(E.fetchers)})):(Me({errors:Es,loaderData:C6(E.loaderData,Ji,Oi,Es),fetchers:new Map(E.fetchers)}),q=!1)}async function Mt(X,se,me,De,Ie,mt,ht,Je,ut){let ct=E.fetchers.get(X);Ce(X,Wc(ut,ct?ct.data:void 0),{flushSync:ht});let lt=new AbortController,dt=ou(e.history,me,lt.signal);if(mt){let Zt=await yn(De,new URL(dt.url).pathname,dt.signal,X);if(Zt.type==="aborted")return;if(Zt.type==="error"){Fe(X,se,Zt.error,{flushSync:ht});return}else if(Zt.matches)De=Zt.matches;else{Fe(X,se,Si(404,{pathname:me}),{flushSync:ht});return}}let Rt=Tp(De,me);W.set(X,lt);let Nt=R,Sn=pu(s,a,dt,De,Rt,r,Ie),Kt=(await tn(dt,Sn,Ie,X))[Rt.route.id];if(W.get(X)===lt&&W.delete(X),!dt.signal.aborted){if(ie.has(X)){Ce(X,Gs(void 0));return}if(Hl(Kt))if(U>Nt){Ce(X,Gs(void 0));return}else{Q.add(X),await Ot(dt,Kt,!1,{preventScrollReset:Je});return}if(ni(Kt)){Fe(X,se,Kt.error);return}Ce(X,Gs(Kt.data))}}async function Ot(X,se,me,{submission:De,fetcherSubmission:Ie,preventScrollReset:mt,replace:ht}={}){se.response.headers.has("X-Remix-Revalidate")&&(q=!0);let Je=se.response.headers.get("Location");$t(Je,"Expected a Location header on the redirect Response"),Je=w6(Je,new URL(X.url),f);let ut=Pd(E.location,Je,{_isRedirect:!0});if(n){let Sn=!1;if(se.response.headers.has("X-Remix-Reload-Document"))Sn=!0;else if(Dm(Je)){const Tn=S8(Je,!0);Sn=Tn.origin!==t.location.origin||Di(Tn.pathname,f)==null}if(Sn){ht?t.location.replace(Je):t.location.assign(Je);return}}D=null;let ct=ht===!0||se.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:lt,formAction:dt,formEncType:Rt}=E.navigation;!De&&!Ie&&lt&&dt&&Rt&&(De=N6(E.navigation));let Nt=De||Ie;if(TM.has(se.response.status)&&Nt&&Mr(Nt.formMethod))await le(ct,ut,{submission:{...Nt,formAction:Je},preventScrollReset:mt||L,enableViewTransition:me?V:void 0});else{let Sn=Fg(ut,De);await le(ct,ut,{overrideNavigation:Sn,fetcherSubmission:Ie,preventScrollReset:mt||L,enableViewTransition:me?V:void 0})}}async function tn(X,se,me,De){let Ie,mt={};try{Ie=await $M(p,X,se,De,me,!1)}catch(ht){return se.filter(Je=>Je.shouldLoad).forEach(Je=>{mt[Je.route.id]={type:"error",error:ht}}),mt}if(X.signal.aborted)return mt;for(let[ht,Je]of Object.entries(Ie))if(JM(Je)){let ut=Je.result;mt[ht]={type:"redirect",response:qM(ut,X,ht,se,f)}}else mt[ht]=await VM(Je);return mt}async function Yt(X,se,me,De){let Ie=tn(me,X,De,null),mt=Promise.all(se.map(async ut=>{if(ut.matches&&ut.match&&ut.request&&ut.controller){let lt=(await tn(ut.request,ut.matches,De,ut.key))[ut.match.route.id];return{[ut.key]:lt}}else return Promise.resolve({[ut.key]:{type:"error",error:Si(404,{pathname:ut.path})}})})),ht=await Ie,Je=(await mt).reduce((ut,ct)=>Object.assign(ut,ct),{});return{loaderResults:ht,fetcherResults:Je}}function pe(){q=!0,G.forEach((X,se)=>{W.has(se)&&F.add(se),ne(se)})}function Ce(X,se,me={}){E.fetchers.set(X,se),Me({fetchers:new Map(E.fetchers)},{flushSync:(me&&me.flushSync)===!0})}function Fe(X,se,me,De={}){let Ie=Ha(E.matches,se);Ze(X),Me({errors:{[Ie.route.id]:me},fetchers:new Map(E.fetchers)},{flushSync:(De&&De.flushSync)===!0})}function Ue(X){return P.set(X,(P.get(X)||0)+1),ie.has(X)&&ie.delete(X),E.fetchers.get(X)||MM}function ue(X,se){ne(X,se?.reason),Ce(X,Gs(null))}function Ze(X){let se=E.fetchers.get(X);W.has(X)&&!(se&&se.state==="loading"&&_.has(X))&&ne(X),G.delete(X),_.delete(X),Q.delete(X),ie.delete(X),F.delete(X),E.fetchers.delete(X)}function $(X){let se=(P.get(X)||0)-1;se<=0?(P.delete(X),ie.add(X)):P.set(X,se),Me({fetchers:new Map(E.fetchers)})}function ne(X,se){let me=W.get(X);me&&(me.abort(se),W.delete(X))}function Te(X){for(let se of X){let me=Ue(se),De=Gs(me.data);E.fetchers.set(se,De)}}function nt(){let X=[],se=!1;for(let me of Q){let De=E.fetchers.get(me);$t(De,`Expected fetcher: ${me}`),De.state==="loading"&&(Q.delete(me),X.push(me),se=!0)}return Te(X),se}function We(X){let se=[];for(let[me,De]of _)if(De<X){let Ie=E.fetchers.get(me);$t(Ie,`Expected fetcher: ${me}`),Ie.state==="loading"&&(ne(me),_.delete(me),se.push(me))}return Te(se),se.length>0}function Ye(X,se){let me=E.blockers.get(X)||Gc;return H.get(X)!==se&&H.set(X,se),me}function wt(X){E.blockers.delete(X),H.delete(X)}function Be(X,se){let me=E.blockers.get(X)||Gc;$t(me.state==="unblocked"&&se.state==="blocked"||me.state==="blocked"&&se.state==="blocked"||me.state==="blocked"&&se.state==="proceeding"||me.state==="blocked"&&se.state==="unblocked"||me.state==="proceeding"&&se.state==="unblocked",`Invalid blocker state transition: ${me.state} -> ${se.state}`);let De=new Map(E.blockers);De.set(X,se),Me({blockers:De})}function pt({currentLocation:X,nextLocation:se,historyAction:me}){if(H.size===0)return;H.size>1&&Ln(!1,"A router only supports one blocker at a time");let De=Array.from(H.entries()),[Ie,mt]=De[De.length-1],ht=E.blockers.get(Ie);if(!(ht&&ht.state==="proceeding")&&mt({currentLocation:X,nextLocation:se,historyAction:me}))return Ie}function ot(X){let se=Si(404,{pathname:X}),me=d||u,{matches:De,route:Ie}=Uh(me);return{notFoundMatches:De,route:Ie,error:se}}function jt(X,se,me){if(v=X,j=se,k=me||null,!C&&E.navigation===Ig){C=!0;let De=pn(E.location,E.matches);De!=null&&Me({restoreScrollPosition:De})}return()=>{v=null,j=null,k=null}}function Xt(X,se){return k&&k(X,se.map(De=>nM(De,E.loaderData)))||X.key}function gn(X,se){if(v&&j){let me=Xt(X,se);v[me]=j()}}function pn(X,se){if(v){let me=Xt(X,se),De=v[me];if(typeof De=="number")return De}return null}function xn(X,se,me){if(e.patchRoutesOnNavigation)if(X){if(Object.keys(X[0].params).length>0)return{active:!0,matches:xd(se,me,f,!0)}}else return{active:!0,matches:xd(se,me,f,!0)||[]};return{active:!1,matches:null}}async function yn(X,se,me,De){if(!e.patchRoutesOnNavigation)return{type:"success",matches:X};let Ie=X;for(;;){let mt=d==null,ht=d||u,Je=a;try{await e.patchRoutesOnNavigation({signal:me,path:se,matches:Ie,fetcherKey:De,patch:(lt,dt)=>{me.aborted||x6(lt,dt,ht,Je,s,!1)}})}catch(lt){return{type:"error",error:lt,partialMatches:Ie}}finally{mt&&!me.aborted&&(u=[...u])}if(me.aborted)return{type:"aborted"};let ut=$a(ht,se,f),ct=null;if(ut){if(Object.keys(ut[0].params).length===0)return{type:"success",matches:ut};if(ct=xd(ht,se,f,!0),!(ct&&Ie.length<ct.length&&Dr(Ie,ct.slice(0,Ie.length))))return{type:"success",matches:ut}}if(ct||(ct=xd(ht,se,f,!0)),!ct||Dr(Ie,ct))return{type:"success",matches:null};Ie=ct}}function Dr(X,se){return X.length===se.length&&X.every((me,De)=>me.route.id===se[De].route.id)}function di(X){a={},d=zd(X,s,void 0,a)}function Dn(X,se,me=!1){let De=d==null;x6(X,se,d||u,a,s,me),De&&(u=[...u],Me({}))}return T={get basename(){return f},get future(){return m},get state(){return E},get routes(){return u},get window(){return t},initialize:ke,subscribe:He,enableScrollRestoration:jt,navigate:ft,fetch:Xe,revalidate:we,createHref:X=>e.history.createHref(X),encodeLocation:X=>e.history.encodeLocation(X),getFetcher:Ue,resetFetcher:ue,deleteFetcher:$,dispose:Ge,getBlocker:Ye,deleteBlocker:wt,patchRoutes:Dn,_internalFetchControllers:W,_internalSetRoutes:di,_internalSetStateDoNotUseOrYouWillBreakYourApp(X){Me(X)}},e.unstable_instrumentations&&(T=kM(T,e.unstable_instrumentations.map(X=>X.router).filter(Boolean))),T}function LM(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function jy(e,t,n,r,i,s){let a,u;if(i){a=[];for(let f of t)if(a.push(f),f.route.id===i){u=f;break}}else a=t,u=t[t.length-1];let d=B2(r||".",F2(a),Di(e.pathname,n)||e.pathname,s==="path");if(r==null&&(d.search=e.search,d.hash=e.hash),(r==null||r===""||r===".")&&u){let f=U2(d.search);if(u.route.index&&!f)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&f){let p=new URLSearchParams(d.search),m=p.getAll("index");p.delete("index"),m.filter(y=>y).forEach(y=>p.append("index",y));let x=p.toString();d.search=x?`?${x}`:""}}return n!=="/"&&(d.pathname=mM({basename:n,pathname:d.pathname})),ps(d)}function m6(e,t,n){if(!n||!LM(n))return{path:t};if(n.formMethod&&!XM(n.formMethod))return{path:t,error:Si(405,{method:n.formMethod})};let r=()=>({path:t,error:Si(400,{type:"invalid-body"})}),s=(n.formMethod||"get").toUpperCase(),a=P8(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Mr(s))return r();let m=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((x,[y,v])=>`${x}${y}=${v}
`,""):String(n.body);return{path:t,submission:{formMethod:s,formAction:a,formEncType:n.formEncType,formData:void 0,json:void 0,text:m}}}else if(n.formEncType==="application/json"){if(!Mr(s))return r();try{let m=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:s,formAction:a,formEncType:n.formEncType,formData:void 0,json:m,text:void 0}}}catch{return r()}}}$t(typeof FormData=="function","FormData is not available in this environment");let u,d;if(n.formData)u=Ey(n.formData),d=n.formData;else if(n.body instanceof FormData)u=Ey(n.body),d=n.body;else if(n.body instanceof URLSearchParams)u=n.body,d=k6(u);else if(n.body==null)u=new URLSearchParams,d=new FormData;else try{u=new URLSearchParams(n.body),d=k6(u)}catch{return r()}let f={formMethod:s,formAction:a,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(Mr(f.formMethod))return{path:t,submission:f};let p=ol(t);return e&&p.search&&U2(p.search)&&u.append("index",""),p.search=`?${u}`,{path:ps(p),submission:f}}function g6(e,t,n,r,i,s,a,u,d,f,p,m,x,y,v,k,j,C,N,A){let z=A?ni(A[1])?A[1].error:A[1].data:void 0,I=i.createURL(s.location),T=i.createURL(d),E;if(p&&s.errors){let Z=Object.keys(s.errors)[0];E=a.findIndex(q=>q.route.id===Z)}else if(A&&ni(A[1])){let Z=A[0];E=a.findIndex(q=>q.route.id===Z)-1}let M=A?A[1].statusCode:void 0,L=M&&M>=400,D={currentUrl:I,currentParams:s.matches[0]?.params||{},nextUrl:T,nextParams:a[0].params,...u,actionResult:z,actionStatus:M},V=$2(a.map(Z=>Z.route.path)),K=a.map((Z,q)=>{let{route:F}=Z,W=null;if(E!=null&&q>E?W=!1:F.lazy?W=!0:H2(F)?p?W=_y(F,s.loaderData,s.errors):PM(s.loaderData,s.matches[q],Z)&&(W=!0):W=!1,W!==null)return Ny(n,r,e,V,Z,f,t,W);let R=L?!1:m||I.pathname+I.search===T.pathname+T.search||I.search!==T.search||zM(s.matches[q],Z),U={...D,defaultShouldRevalidate:R},_=Jp(Z,U);return Ny(n,r,e,V,Z,f,t,_,U)}),J=[];return v.forEach((Z,q)=>{if(p||!a.some(P=>P.route.id===Z.routeId)||y.has(q))return;let F=s.fetchers.get(q),W=F&&F.state!=="idle"&&F.data===void 0,R=$a(j,Z.path,C);if(!R){if(N&&W)return;J.push({key:q,routeId:Z.routeId,path:Z.path,matches:null,match:null,request:null,controller:null});return}if(k.has(q))return;let U=Tp(R,Z.path),_=new AbortController,Q=ou(i,Z.path,_.signal),G=null;if(x.has(q))x.delete(q),G=pu(n,r,Q,R,U,f,t);else if(W)m&&(G=pu(n,r,Q,R,U,f,t));else{let P={...D,defaultShouldRevalidate:L?!1:m};Jp(U,P)&&(G=pu(n,r,Q,R,U,f,t,P))}G&&J.push({key:q,routeId:Z.routeId,path:Z.path,matches:G,match:U,request:Q,controller:_})}),{dsMatches:K,revalidatingFetchers:J}}function H2(e){return e.loader!=null||e.middleware!=null&&e.middleware.length>0}function _y(e,t,n){if(e.lazy)return!0;if(!H2(e))return!1;let r=t!=null&&e.id in t,i=n!=null&&n[e.id]!==void 0;return!r&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!i}function PM(e,t,n){let r=!t||n.route.id!==t.route.id,i=!e.hasOwnProperty(n.route.id);return r||i}function zM(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Jp(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function x6(e,t,n,r,i,s){let a;if(e){let f=r[e];$t(f,`No route found to patch children into: routeId = ${e}`),f.children||(f.children=[]),a=f.children}else a=n;let u=[],d=[];if(t.forEach(f=>{let p=a.find(m=>T8(f,m));p?d.push({existingRoute:p,newRoute:f}):u.push(f)}),u.length>0){let f=zd(u,i,[e||"_","patch",String(a?.length||"0")],r);a.push(...f)}if(s&&d.length>0)for(let f=0;f<d.length;f++){let{existingRoute:p,newRoute:m}=d[f],x=p,[y]=zd([m],i,[],{},!0);Object.assign(x,{element:y.element?y.element:x.element,errorElement:y.errorElement?y.errorElement:x.errorElement,hydrateFallbackElement:y.hydrateFallbackElement?y.hydrateFallbackElement:x.hydrateFallbackElement})}}function T8(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>t.children?.some(i=>T8(n,i))):!1}var y6=new WeakMap,M8=({key:e,route:t,manifest:n,mapRouteProperties:r})=>{let i=n[t.id];if($t(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let s=i.lazy[e];if(!s)return;let a=y6.get(i);a||(a={},y6.set(i,a));let u=a[e];if(u)return u;let d=(async()=>{let f=ZT(e),m=i[e]!==void 0&&e!=="hasErrorBoundary";if(f)Ln(!f,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),a[e]=Promise.resolve();else if(m)Ln(!1,`Route "${i.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let x=await s();x!=null&&(Object.assign(i,{[e]:x}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[e]=void 0,Object.values(i.lazy).every(x=>x===void 0)&&(i.lazy=void 0))})();return a[e]=d,d},b6=new WeakMap;function IM(e,t,n,r,i){let s=n[e.id];if($t(s,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let p=b6.get(s);if(p)return{lazyRoutePromise:p,lazyHandlerPromise:p};let m=(async()=>{$t(typeof e.lazy=="function","No lazy route function found");let x=await e.lazy(),y={};for(let v in x){let k=x[v];if(k===void 0)continue;let j=eM(v),N=s[v]!==void 0&&v!=="hasErrorBoundary";j?Ln(!j,"Route property "+v+" is not a supported property to be returned from a lazy route function. This property will be ignored."):N?Ln(!N,`Route "${s.id}" has a static property "${v}" defined but its lazy function is also returning a value for this property. The lazy route property "${v}" will be ignored.`):y[v]=k}Object.assign(s,y),Object.assign(s,{...r(s),lazy:void 0})})();return b6.set(s,m),m.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:m}}let a=Object.keys(e.lazy),u=[],d;for(let p of a){if(i&&i.includes(p))continue;let m=M8({key:p,route:e,manifest:n,mapRouteProperties:r});m&&(u.push(m),p===t&&(d=m))}let f=u.length>0?Promise.all(u).then(()=>{}):void 0;return f?.catch(()=>{}),d?.catch(()=>{}),{lazyRoutePromise:f,lazyHandlerPromise:d}}async function v6(e){let t=e.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(t.map(i=>i.resolve()))).forEach((i,s)=>{n[t[s].route.id]=i}),n}async function FM(e){return e.matches.some(t=>t.route.middleware)?O8(e,()=>v6(e)):v6(e)}function O8(e,t){return BM(e,t,r=>r,YM,n);function n(r,i,s){if(s)return Promise.resolve(Object.assign(s.value,{[i]:{type:"error",result:r}}));{let{matches:a}=e,u=Math.min(Math.max(a.findIndex(f=>f.route.id===i),0),Math.max(a.findIndex(f=>f.unstable_shouldCallHandler()),0)),d=Ha(a,a[u].route.id).route.id;return Promise.resolve({[d]:{type:"error",result:r}})}}}async function BM(e,t,n,r,i){let{matches:s,request:a,params:u,context:d,unstable_pattern:f}=e,p=s.flatMap(x=>x.route.middleware?x.route.middleware.map(y=>[x.route.id,y]):[]);return await R8({request:a,params:u,context:d,unstable_pattern:f},p,t,n,r,i)}async function R8(e,t,n,r,i,s,a=0){let{request:u}=e;if(u.signal.aborted)throw u.signal.reason??new Error(`Request aborted: ${u.method} ${u.url}`);let d=t[a];if(!d)return await n();let[f,p]=d,m,x=async()=>{if(m)throw new Error("You may only call `next()` once per middleware");try{return m={value:await R8(e,t,n,r,i,s,a+1)},m.value}catch(y){return m={value:await s(y,f,m)},m.value}};try{let y=await p(e,x),v=y!=null?r(y):void 0;return i(v)?v:m?v??m.value:(m={value:await x()},m.value)}catch(y){return await s(y,f,m)}}function L8(e,t,n,r,i){let s=M8({key:"middleware",route:r.route,manifest:t,mapRouteProperties:e}),a=IM(r.route,Mr(n.method)?"action":"loader",t,e,i);return{middleware:s,route:a.lazyRoutePromise,handler:a.lazyHandlerPromise}}function Ny(e,t,n,r,i,s,a,u,d=null){let f=!1,p=L8(e,t,n,i,s);return{...i,_lazyPromises:p,shouldLoad:u,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(m){return f=!0,d?typeof m=="boolean"?Jp(i,{...d,defaultShouldRevalidate:m}):Jp(i,d):u},resolve(m){let{lazy:x,loader:y,middleware:v}=i.route,k=f||u||m&&!Mr(n.method)&&(x||y),j=v&&v.length>0&&!y&&!x;return k&&(Mr(n.method)||!j)?HM({request:n,unstable_pattern:r,match:i,lazyHandlerPromise:p?.handler,lazyRoutePromise:p?.route,handlerOverride:m,scopedContext:a}):Promise.resolve({type:"data",result:void 0})}}}function pu(e,t,n,r,i,s,a,u=null){return r.map(d=>d.route.id!==i.route.id?{...d,shouldLoad:!1,unstable_shouldRevalidateArgs:u,unstable_shouldCallHandler:()=>!1,_lazyPromises:L8(e,t,n,d,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Ny(e,t,n,$2(r.map(f=>f.route.path)),d,s,a,!0,u))}async function $M(e,t,n,r,i,s){n.some(f=>f._lazyPromises?.middleware)&&await Promise.all(n.map(f=>f._lazyPromises?.middleware));let a={request:t,unstable_pattern:$2(n.map(f=>f.route.path)),params:n[0].params,context:i,matches:n},d=await e({...a,fetcherKey:r,runClientMiddleware:f=>{let p=a;return O8(p,()=>f({...p,fetcherKey:r,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(f=>[f._lazyPromises?.handler,f._lazyPromises?.route]))}catch{}return d}async function HM({request:e,unstable_pattern:t,match:n,lazyHandlerPromise:r,lazyRoutePromise:i,handlerOverride:s,scopedContext:a}){let u,d,f=Mr(e.method),p=f?"action":"loader",m=x=>{let y,v=new Promise((C,N)=>y=N);d=()=>y(),e.signal.addEventListener("abort",d);let k=C=>typeof x!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${n.route.id}]`)):x({request:e,unstable_pattern:t,params:n.params,context:a},...C!==void 0?[C]:[]),j=(async()=>{try{return{type:"data",result:await(s?s(N=>k(N)):k())}}catch(C){return{type:"error",result:C}}})();return Promise.race([j,v])};try{let x=f?n.route.action:n.route.loader;if(r||i)if(x){let y,[v]=await Promise.all([m(x).catch(k=>{y=k}),r,i]);if(y!==void 0)throw y;u=v}else{await r;let y=f?n.route.action:n.route.loader;if(y)[u]=await Promise.all([m(y),i]);else if(p==="action"){let v=new URL(e.url),k=v.pathname+v.search;throw Si(405,{method:e.method,pathname:k,routeId:n.route.id})}else return{type:"data",result:void 0}}else if(x)u=await m(x);else{let y=new URL(e.url),v=y.pathname+y.search;throw Si(404,{pathname:v})}}catch(x){return{type:"error",result:x}}finally{d&&e.signal.removeEventListener("abort",d)}return u}async function UM(e){let t=e.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?e.body==null?null:e.json():e.text()}async function VM(e){let{result:t,type:n}=e;if(z8(t)){let r;try{r=await UM(t)}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new Kp(t.status,t.statusText,r),statusCode:t.status,headers:t.headers}:{type:"data",data:r,statusCode:t.status,headers:t.headers}}return n==="error"?_6(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new Kp(t.init?.status||500,void 0,t.data),statusCode:Id(t)?t.status:void 0,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:Id(t)?t.status:void 0}:_6(t)?{type:"data",data:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function qM(e,t,n,r,i){let s=e.headers.get("Location");if($t(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!Dm(s)){let a=r.slice(0,r.findIndex(u=>u.route.id===n)+1);s=jy(new URL(t.url),a,i,s),e.headers.set("Location",s)}return e}function w6(e,t,n){if(Dm(e)){let r=e,i=r.startsWith("//")?new URL(t.protocol+r):new URL(r),s=Di(i.pathname,n)!=null;if(i.origin===t.origin&&s)return i.pathname+i.search+i.hash}return e}function ou(e,t,n,r){let i=e.createURL(P8(t)).toString(),s={signal:n};if(r&&Mr(r.formMethod)){let{formMethod:a,formEncType:u}=r;s.method=a.toUpperCase(),u==="application/json"?(s.headers=new Headers({"Content-Type":u}),s.body=JSON.stringify(r.json)):u==="text/plain"?s.body=r.text:u==="application/x-www-form-urlencoded"&&r.formData?s.body=Ey(r.formData):s.body=r.formData}return new Request(i,s)}function Ey(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function k6(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function GM(e,t,n,r=!1,i=!1){let s={},a=null,u,d=!1,f={},p=n&&ni(n[1])?n[1].error:void 0;return e.forEach(m=>{if(!(m.route.id in t))return;let x=m.route.id,y=t[x];if($t(!Hl(y),"Cannot handle redirect results in processLoaderData"),ni(y)){let v=y.error;if(p!==void 0&&(v=p,p=void 0),a=a||{},i)a[x]=v;else{let k=Ha(e,x);a[k.route.id]==null&&(a[k.route.id]=v)}r||(s[x]=D8),d||(d=!0,u=Id(y.error)?y.error.status:500),y.headers&&(f[x]=y.headers)}else s[x]=y.data,y.statusCode&&y.statusCode!==200&&!d&&(u=y.statusCode),y.headers&&(f[x]=y.headers)}),p!==void 0&&n&&(a={[n[0]]:p},n[2]&&(s[n[2]]=void 0)),{loaderData:s,errors:a,statusCode:u||200,loaderHeaders:f}}function S6(e,t,n,r,i,s){let{loaderData:a,errors:u}=GM(t,n,r);return i.filter(d=>!d.matches||d.matches.some(f=>f.shouldLoad)).forEach(d=>{let{key:f,match:p,controller:m}=d;if(m&&m.signal.aborted)return;let x=s[f];if($t(x,"Did not find corresponding fetcher result"),ni(x)){let y=Ha(e.matches,p?.route.id);u&&u[y.route.id]||(u={...u,[y.route.id]:x.error}),e.fetchers.delete(f)}else if(Hl(x))$t(!1,"Unhandled fetcher revalidation redirect");else{let y=Gs(x.data);e.fetchers.set(f,y)}}),{loaderData:a,errors:u}}function C6(e,t,n,r){let i=Object.entries(t).filter(([,s])=>s!==D8).reduce((s,[a,u])=>(s[a]=u,s),{});for(let s of n){let a=s.route.id;if(!t.hasOwnProperty(a)&&e.hasOwnProperty(a)&&s.route.loader&&(i[a]=e[a]),r&&r.hasOwnProperty(a))break}return i}function j6(e){return e?ni(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Ha(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function Uh(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Si(e,{pathname:t,routeId:n,method:r,type:i,message:s}={}){let a="Unknown Server Error",u="Unknown @remix-run/router error";return e===400?(a="Bad Request",r&&t&&n?u=`You made a ${r} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(u="Unable to encode submission body")):e===403?(a="Forbidden",u=`Route "${n}" does not match URL "${t}"`):e===404?(a="Not Found",u=`No route matches URL "${t}"`):e===405&&(a="Method Not Allowed",r&&t&&n?u=`You made a ${r.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(u=`Invalid request method "${r.toUpperCase()}"`)),new Kp(e||500,a,new Error(u),!0)}function Vh(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,i]=t[n];if(Hl(i))return{key:r,result:i}}}function P8(e){let t=typeof e=="string"?ol(e):e;return ps({...t,hash:""})}function WM(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function YM(e){return e!=null&&typeof e=="object"&&Object.entries(e).every(([t,n])=>typeof t=="string"&&KM(n))}function KM(e){return e!=null&&typeof e=="object"&&"type"in e&&"result"in e&&(e.type==="data"||e.type==="error")}function JM(e){return z8(e.result)&&DM.has(e.result.status)}function ni(e){return e.type==="error"}function Hl(e){return(e&&e.type)==="redirect"}function _6(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function z8(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function XM(e){return AM.has(e.toUpperCase())}function Mr(e){return NM.has(e.toUpperCase())}function U2(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Tp(e,t){let n=typeof t=="string"?ol(t).search:t.search;if(e[e.length-1].route.index&&U2(n||""))return e[e.length-1];let r=_8(e);return r[r.length-1]}function N6(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:s,json:a}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:t,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(a!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}}}function Fg(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function ZM(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Wc(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function QM(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Gs(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function eO(e,t){try{let n=e.sessionStorage.getItem(A8);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&t.set(i,new Set(s||[]))}}catch{}}function tO(e,t){if(t.size>0){let n={};for(let[r,i]of t)n[r]=[...i];try{e.sessionStorage.setItem(A8,JSON.stringify(n))}catch(r){Ln(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function nO(){let e,t,n=new Promise((r,i)=>{e=async s=>{r(s);try{await n}catch{}},t=async s=>{i(s);try{await n}catch{}}});return{promise:n,resolve:e,reject:t}}var lo=b.createContext(null);lo.displayName="DataRouter";var of=b.createContext(null);of.displayName="DataRouterState";b.createContext(!1);var V2=b.createContext({isTransitioning:!1});V2.displayName="ViewTransition";var I8=b.createContext(new Map);I8.displayName="Fetchers";var rO=b.createContext(null);rO.displayName="Await";var vs=b.createContext(null);vs.displayName="Navigation";var Tm=b.createContext(null);Tm.displayName="Location";var Vi=b.createContext({outlet:null,matches:[],isDataRoute:!1});Vi.displayName="Route";var q2=b.createContext(null);q2.displayName="RouteError";function iO(e,{relative:t}={}){$t(uf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=b.useContext(vs),{hash:i,pathname:s,search:a}=cf(e,{relative:t}),u=s;return n!=="/"&&(u=s==="/"?n:fs([n,s])),r.createHref({pathname:u,search:a,hash:i})}function uf(){return b.useContext(Tm)!=null}function Mi(){return $t(uf(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Tm).location}var F8="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function B8(e){b.useContext(vs).static||b.useLayoutEffect(e)}function ea(){let{isDataRoute:e}=b.useContext(Vi);return e?vO():sO()}function sO(){$t(uf(),"useNavigate() may be used only in the context of a <Router> component.");let e=b.useContext(lo),{basename:t,navigator:n}=b.useContext(vs),{matches:r}=b.useContext(Vi),{pathname:i}=Mi(),s=JSON.stringify(F2(r)),a=b.useRef(!1);return B8(()=>{a.current=!0}),b.useCallback((d,f={})=>{if(Ln(a.current,F8),!a.current)return;if(typeof d=="number"){n.go(d);return}let p=B2(d,JSON.parse(s),i,f.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:fs([t,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[t,n,s,i,e])}var aO=b.createContext(null);function lO(e){let t=b.useContext(Vi).outlet;return b.useMemo(()=>t&&b.createElement(aO.Provider,{value:e},t),[t,e])}function oO(){let{matches:e}=b.useContext(Vi),t=e[e.length-1];return t?t.params:{}}function cf(e,{relative:t}={}){let{matches:n}=b.useContext(Vi),{pathname:r}=Mi(),i=JSON.stringify(F2(n));return b.useMemo(()=>B2(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function uO(e,t,n,r,i){$t(uf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=b.useContext(vs),{matches:a}=b.useContext(Vi),u=a[a.length-1],d=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",m=u&&u.route;{let N=m&&m.path||"";$8(f,!m||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let x=Mi(),y;y=x;let v=y.pathname||"/",k=v;if(p!=="/"){let N=p.replace(/^\//,"").split("/");k="/"+v.replace(/^\//,"").split("/").slice(N.length).join("/")}let j=$a(e,{pathname:k});return Ln(m||j!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Ln(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),pO(j&&j.map(N=>Object.assign({},N,{params:Object.assign({},d,N.params),pathname:fs([p,s.encodeLocation?s.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?p:fs([p,s.encodeLocation?s.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),a,n,r,i)}function cO(){let e=bO(),t=Id(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:s},"ErrorBoundary")," or"," ",b.createElement("code",{style:s},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:i},n):null,a)}var dO=b.createElement(cO,null),fO=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?b.createElement(Vi.Provider,{value:this.props.routeContext},b.createElement(q2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hO({routeContext:e,match:t,children:n}){let r=b.useContext(lo);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(Vi.Provider,{value:e},n)}function pO(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,a=n?.errors;if(a!=null){let p=s.findIndex(m=>m.route.id&&a?.[m.route.id]!==void 0);$t(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let u=!1,d=-1;if(n)for(let p=0;p<s.length;p++){let m=s[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=p),m.route.id){let{loaderData:x,errors:y}=n,v=m.route.loader&&!x.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||v){u=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}let f=n&&r?(p,m)=>{r(p,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:m})}:void 0;return s.reduceRight((p,m,x)=>{let y,v=!1,k=null,j=null;n&&(y=a&&m.route.id?a[m.route.id]:void 0,k=m.route.errorElement||dO,u&&(d<0&&x===0?($8("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,j=null):d===x&&(v=!0,j=m.route.hydrateFallbackElement||null)));let C=t.concat(s.slice(0,x+1)),N=()=>{let A;return y?A=k:v?A=j:m.route.Component?A=b.createElement(m.route.Component,null):m.route.element?A=m.route.element:A=p,b.createElement(hO,{match:m,routeContext:{outlet:p,matches:C,isDataRoute:n!=null},children:A})};return n&&(m.route.ErrorBoundary||m.route.errorElement||x===0)?b.createElement(fO,{location:n.location,revalidation:n.revalidation,component:k,error:y,children:N(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:f}):N()},null)}function G2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mO(e){let t=b.useContext(lo);return $t(t,G2(e)),t}function gO(e){let t=b.useContext(of);return $t(t,G2(e)),t}function xO(e){let t=b.useContext(Vi);return $t(t,G2(e)),t}function W2(e){let t=xO(e),n=t.matches[t.matches.length-1];return $t(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function yO(){return W2("useRouteId")}function bO(){let e=b.useContext(q2),t=gO("useRouteError"),n=W2("useRouteError");return e!==void 0?e:t.errors?.[n]}function vO(){let{router:e}=mO("useNavigate"),t=W2("useNavigate"),n=b.useRef(!1);return B8(()=>{n.current=!0}),b.useCallback(async(i,s={})=>{Ln(n.current,F8),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var E6={};function $8(e,t,n){!t&&!E6[e]&&(E6[e]=!0,Ln(!1,n))}var A6={};function D6(e,t){!e&&!A6[t]&&(A6[t]=!0,console.warn(t))}function wO(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&Ln(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:b.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&Ln(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:b.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&Ln(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:b.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var kO=["HydrateFallback","hydrateFallbackElement"],SO=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",t(n))}})}};function CO({router:e,flushSync:t,unstable_onError:n}){let[r,i]=b.useState(e.state),[s,a]=b.useState(),[u,d]=b.useState({isTransitioning:!1}),[f,p]=b.useState(),[m,x]=b.useState(),[y,v]=b.useState(),k=b.useRef(new Map),j=b.useCallback(I=>{i(T=>(I.errors&&n&&Object.entries(I.errors).forEach(([E,M])=>{T.errors?.[E]!==M&&n(M,{location:I.location,params:I.matches[0]?.params??{}})}),I))},[n]),C=b.useCallback((I,{deletedFetchers:T,flushSync:E,viewTransitionOpts:M})=>{I.fetchers.forEach((D,V)=>{D.data!==void 0&&k.current.set(V,D.data)}),T.forEach(D=>k.current.delete(D)),D6(E===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let L=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(D6(M==null||L,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!M||!L){t&&E?t(()=>j(I)):b.startTransition(()=>j(I));return}if(t&&E){t(()=>{m&&(f&&f.resolve(),m.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:M.currentLocation,nextLocation:M.nextLocation})});let D=e.window.document.startViewTransition(()=>{t(()=>j(I))});D.finished.finally(()=>{t(()=>{p(void 0),x(void 0),a(void 0),d({isTransitioning:!1})})}),t(()=>x(D));return}m?(f&&f.resolve(),m.skipTransition(),v({state:I,currentLocation:M.currentLocation,nextLocation:M.nextLocation})):(a(I),d({isTransitioning:!0,flushSync:!1,currentLocation:M.currentLocation,nextLocation:M.nextLocation}))},[e.window,t,m,f,j]);b.useLayoutEffect(()=>e.subscribe(C),[e,C]),b.useEffect(()=>{u.isTransitioning&&!u.flushSync&&p(new SO)},[u]),b.useEffect(()=>{if(f&&s&&e.window){let I=s,T=f.promise,E=e.window.document.startViewTransition(async()=>{b.startTransition(()=>j(I)),await T});E.finished.finally(()=>{p(void 0),x(void 0),a(void 0),d({isTransitioning:!1})}),x(E)}},[s,f,e.window,j]),b.useEffect(()=>{f&&s&&r.location.key===s.location.key&&f.resolve()},[f,m,r.location,s]),b.useEffect(()=>{!u.isTransitioning&&y&&(a(y.state),d({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),v(void 0))},[u.isTransitioning,y]);let N=b.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:I=>e.navigate(I),push:(I,T,E)=>e.navigate(I,{state:T,preventScrollReset:E?.preventScrollReset}),replace:(I,T,E)=>e.navigate(I,{replace:!0,state:T,preventScrollReset:E?.preventScrollReset})}),[e]),A=e.basename||"/",z=b.useMemo(()=>({router:e,navigator:N,static:!1,basename:A,unstable_onError:n}),[e,N,A,n]);return b.createElement(b.Fragment,null,b.createElement(lo.Provider,{value:z},b.createElement(of.Provider,{value:r},b.createElement(I8.Provider,{value:k.current},b.createElement(V2.Provider,{value:u},b.createElement(NO,{basename:A,location:r.location,navigationType:r.historyAction,navigator:N},b.createElement(jO,{routes:e.routes,future:e.future,state:r,unstable_onError:n})))))),null)}var jO=b.memo(_O);function _O({routes:e,future:t,state:n,unstable_onError:r}){return uO(e,void 0,n,r,t)}function H8(e){return lO(e.context)}function NO({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){$t(!uf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof n=="string"&&(n=ol(n));let{pathname:d="/",search:f="",hash:p="",state:m=null,key:x="default"}=n,y=b.useMemo(()=>{let v=Di(d,a);return v==null?null:{location:{pathname:v,search:f,hash:p,state:m,key:x},navigationType:r}},[a,d,f,p,m,x,r]);return Ln(y!=null,`<Router basename="${a}"> is not able to match the URL "${d}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:b.createElement(vs.Provider,{value:u},b.createElement(Tm.Provider,{children:t,value:y}))}var Mp="get",Op="application/x-www-form-urlencoded";function Mm(e){return e!=null&&typeof e.tagName=="string"}function EO(e){return Mm(e)&&e.tagName.toLowerCase()==="button"}function AO(e){return Mm(e)&&e.tagName.toLowerCase()==="form"}function DO(e){return Mm(e)&&e.tagName.toLowerCase()==="input"}function TO(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function MO(e,t){return e.button===0&&(!t||t==="_self")&&!TO(e)}var qh=null;function OO(){if(qh===null)try{new FormData(document.createElement("form"),0),qh=!1}catch{qh=!0}return qh}var RO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bg(e){return e!=null&&!RO.has(e)?(Ln(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Op}"`),null):e}function LO(e,t){let n,r,i,s,a;if(AO(e)){let u=e.getAttribute("action");r=u?Di(u,t):null,n=e.getAttribute("method")||Mp,i=Bg(e.getAttribute("enctype"))||Op,s=new FormData(e)}else if(EO(e)||DO(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||u.getAttribute("action");if(r=d?Di(d,t):null,n=e.getAttribute("formmethod")||u.getAttribute("method")||Mp,i=Bg(e.getAttribute("formenctype"))||Bg(u.getAttribute("enctype"))||Op,s=new FormData(u,e),!OO()){let{name:f,type:p,value:m}=e;if(p==="image"){let x=f?`${f}.`:"";s.append(`${x}x`,"0"),s.append(`${x}y`,"0")}else f&&s.append(f,m)}}else{if(Mm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Mp,r=null,i=Op,a=e}return s&&i==="text/plain"&&(a=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Y2(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function PO(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Di(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function zO(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function IO(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function FO(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let a=await zO(s,n);return a.links?a.links():[]}return[]}));return UO(r.flat(1).filter(IO).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function T6(e,t,n,r,i,s){let a=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,u=(d,f)=>n[f].pathname!==d.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==d.params["*"];return s==="assets"?t.filter((d,f)=>a(d,f)||u(d,f)):s==="data"?t.filter((d,f)=>{let p=r.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(a(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let m=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function BO(e,t,{includeHydrateFallback:n}={}){return $O(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function $O(e){return[...new Set(e)]}function HO(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function UO(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let s=JSON.stringify(HO(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function U8(){let e=b.useContext(lo);return Y2(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function VO(){let e=b.useContext(of);return Y2(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var K2=b.createContext(void 0);K2.displayName="FrameworkContext";function V8(){let e=b.useContext(K2);return Y2(e,"You must render this element inside a <HydratedRouter> element"),e}function qO(e,t){let n=b.useContext(K2),[r,i]=b.useState(!1),[s,a]=b.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:m}=t,x=b.useRef(null);b.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let k=C=>{C.forEach(N=>{a(N.isIntersecting)})},j=new IntersectionObserver(k,{threshold:.5});return x.current&&j.observe(x.current),()=>{j.disconnect()}}},[e]),b.useEffect(()=>{if(r){let k=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(k)}}},[r]);let y=()=>{i(!0)},v=()=>{i(!1),a(!1)};return n?e!=="intent"?[s,x,{}]:[s,x,{onFocus:Yc(u,y),onBlur:Yc(d,v),onMouseEnter:Yc(f,y),onMouseLeave:Yc(p,v),onTouchStart:Yc(m,y)}]:[!1,x,{}]}function Yc(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function GO({page:e,...t}){let{router:n}=U8(),r=b.useMemo(()=>$a(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?b.createElement(YO,{page:e,matches:r,...t}):null}function WO(e){let{manifest:t,routeModules:n}=V8(),[r,i]=b.useState([]);return b.useEffect(()=>{let s=!1;return FO(e,t,n).then(a=>{s||i(a)}),()=>{s=!0}},[e,t,n]),r}function YO({page:e,matches:t,...n}){let r=Mi(),{manifest:i,routeModules:s}=V8(),{basename:a}=U8(),{loaderData:u,matches:d}=VO(),f=b.useMemo(()=>T6(e,t,d,i,r,"data"),[e,t,d,i,r]),p=b.useMemo(()=>T6(e,t,d,i,r,"assets"),[e,t,d,i,r]),m=b.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let v=new Set,k=!1;if(t.forEach(C=>{let N=i.routes[C.route.id];!N||!N.hasLoader||(!f.some(A=>A.route.id===C.route.id)&&C.route.id in u&&s[C.route.id]?.shouldRevalidate||N.hasClientLoader?k=!0:v.add(C.route.id))}),v.size===0)return[];let j=PO(e,a,"data");return k&&v.size>0&&j.searchParams.set("_routes",t.filter(C=>v.has(C.route.id)).map(C=>C.route.id).join(",")),[j.pathname+j.search]},[a,u,r,i,f,t,e,s]),x=b.useMemo(()=>BO(p,i),[p,i]),y=WO(p);return b.createElement(b.Fragment,null,m.map(v=>b.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),x.map(v=>b.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),y.map(({key:v,link:k})=>b.createElement("link",{key:v,nonce:n.nonce,...k})))}function KO(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var q8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{q8&&(window.__reactRouterVersion="7.9.6")}catch{}function JO(e,t){return RM({basename:t?.basename,getContext:t?.getContext,future:t?.future,history:YT({window:t?.window}),hydrationData:XO(),routes:e,mapRouteProperties:wO,hydrationRouteProperties:kO,dataStrategy:t?.dataStrategy,patchRoutesOnNavigation:t?.patchRoutesOnNavigation,window:t?.window,unstable_instrumentations:t?.unstable_instrumentations}).initialize()}function XO(){let e=window?.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:ZO(e.errors)}),e}function ZO(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new Kp(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let a=new s(i.message);a.stack="",n[r]=a}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}var G8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,W8=b.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:a,state:u,target:d,to:f,preventScrollReset:p,viewTransition:m,...x},y){let{basename:v}=b.useContext(vs),k=typeof f=="string"&&G8.test(f),j,C=!1;if(typeof f=="string"&&k&&(j=f,q8))try{let L=new URL(window.location.href),D=f.startsWith("//")?new URL(L.protocol+f):new URL(f),V=Di(D.pathname,v);D.origin===L.origin&&V!=null?f=V+D.search+D.hash:C=!0}catch{Ln(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=iO(f,{relative:i}),[A,z,I]=qO(r,x),T=nR(f,{replace:a,state:u,target:d,preventScrollReset:p,relative:i,viewTransition:m});function E(L){t&&t(L),L.defaultPrevented||T(L)}let M=b.createElement("a",{...x,...I,href:j||N,onClick:C||s?t:E,ref:KO(y,z),target:d,"data-discover":!k&&n==="render"?"true":void 0});return A&&!k?b.createElement(b.Fragment,null,M,b.createElement(GO,{page:N})):M});W8.displayName="Link";var QO=b.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:a,viewTransition:u,children:d,...f},p){let m=cf(a,{relative:f.relative}),x=Mi(),y=b.useContext(of),{navigator:v,basename:k}=b.useContext(vs),j=y!=null&&lR(m)&&u===!0,C=v.encodeLocation?v.encodeLocation(m).pathname:m.pathname,N=x.pathname,A=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(N=N.toLowerCase(),A=A?A.toLowerCase():null,C=C.toLowerCase()),A&&k&&(A=Di(A,k)||A);const z=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let I=N===C||!i&&N.startsWith(C)&&N.charAt(z)==="/",T=A!=null&&(A===C||!i&&A.startsWith(C)&&A.charAt(C.length)==="/"),E={isActive:I,isPending:T,isTransitioning:j},M=I?t:void 0,L;typeof r=="function"?L=r(E):L=[r,I?"active":null,T?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let D=typeof s=="function"?s(E):s;return b.createElement(W8,{...f,"aria-current":M,className:L,ref:p,style:D,to:a,viewTransition:u},typeof d=="function"?d(E):d)});QO.displayName="NavLink";var eR=b.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:a=Mp,action:u,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:m,...x},y)=>{let v=sR(),k=aR(u,{relative:f}),j=a.toLowerCase()==="get"?"get":"post",C=typeof u=="string"&&G8.test(u),N=A=>{if(d&&d(A),A.defaultPrevented)return;A.preventDefault();let z=A.nativeEvent.submitter,I=z?.getAttribute("formmethod")||a;v(z||A.currentTarget,{fetcherKey:t,method:I,navigate:n,replace:i,state:s,relative:f,preventScrollReset:p,viewTransition:m})};return b.createElement("form",{ref:y,method:j,action:k,onSubmit:r?d:N,...x,"data-discover":!C&&e==="render"?"true":void 0})});eR.displayName="Form";function tR(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Y8(e){let t=b.useContext(lo);return $t(t,tR(e)),t}function nR(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:a}={}){let u=ea(),d=Mi(),f=cf(e,{relative:s});return b.useCallback(p=>{if(MO(p,t)){p.preventDefault();let m=n!==void 0?n:ps(d)===ps(f);u(e,{replace:m,state:r,preventScrollReset:i,relative:s,viewTransition:a})}},[d,u,f,n,r,t,e,i,s,a])}var rR=0,iR=()=>`__${String(++rR)}__`;function sR(){let{router:e}=Y8("useSubmit"),{basename:t}=b.useContext(vs),n=yO();return b.useCallback(async(r,i={})=>{let{action:s,method:a,encType:u,formData:d,body:f}=LO(r,t);if(i.navigate===!1){let p=i.fetcherKey||iR();await e.fetch(p,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||a,formEncType:i.encType||u,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||a,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function aR(e,{relative:t}={}){let{basename:n}=b.useContext(vs),r=b.useContext(Vi);$t(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...cf(e||".",{relative:t})},a=Mi();if(e==null){s.search=a.search;let u=new URLSearchParams(s.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(m=>m).forEach(m=>u.append("index",m));let p=u.toString();s.search=p?`?${p}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:fs([n,s.pathname])),ps(s)}function lR(e,{relative:t}={}){let n=b.useContext(V2);$t(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Y8("useViewTransitionState"),i=cf(e,{relative:t});if(!n.isTransitioning)return!1;let s=Di(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Di(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Yp(i.pathname,a)!=null||Yp(i.pathname,s)!=null}var zu=w8();const oR=Am(zu);function uR(e){return b.createElement(CO,{flushSync:zu.flushSync,...e})}/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dR=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),M6=e=>{const t=dR(e);return t.charAt(0).toUpperCase()+t.slice(1)},K8=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),fR=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...u},d)=>b.createElement("svg",{ref:d,...hR,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:K8("lucide",i),...!s&&!fR(u)&&{"aria-hidden":"true"},...u},[...a.map(([f,p])=>b.createElement(f,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=(e,t)=>{const n=b.forwardRef(({className:r,...i},s)=>b.createElement(pR,{ref:s,iconNode:t,className:K8(`lucide-${cR(M6(e))}`,`lucide-${e}`,r),...i}));return n.displayName=M6(e),n};/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],$g=xt("book-open",mR);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Ay=xt("bot",gR);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],yR=xt("building-2",xR);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],O6=xt("chart-pie",bR);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],J8=xt("check",vR);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Su=xt("chevron-down",wR);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],df=xt("chevron-left",kR);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ms=xt("chevron-right",SR);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],jR=xt("chevron-up",CR);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],X8=xt("chevrons-left",_R);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],ER=xt("chevrons-right",NR);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],Z8=xt("chevrons-up-down",AR);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=[["path",{d:"m17 11-5-5-5 5",key:"e8nh98"}],["path",{d:"m17 18-5-5-5 5",key:"2avn1x"}]],TR=xt("chevrons-up",DR);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],R6=xt("clock",MR);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],RR=xt("coins",OR);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],PR=xt("copy",LR);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a7 7 0 1 0 10 10",key:"1yuj32"}]],Om=xt("eclipse",zR);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Dy=xt("file-text",IR);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=[["path",{d:"M7 2h10",key:"nczekb"}],["path",{d:"M5 6h14",key:"u2x4p"}],["rect",{width:"18",height:"12",x:"3",y:"10",rx:"2",key:"l0tzu3"}]],L6=xt("gallery-vertical-end",FR);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],$R=xt("globe",BR);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HR=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],UR=xt("grip-vertical",HR);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Hg=xt("info",VR);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],GR=xt("key-round",qR);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],YR=xt("layout-dashboard",WR);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],JR=xt("link-2",KR);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Pt=xt("loader-circle",XR);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZR=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Q8=xt("log-out",ZR);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],ej=xt("menu",QR);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],tL=xt("message-square",eL);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],tj=xt("moon",nL);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],Xp=xt("panel-left-close",rL);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],sL=xt("pencil-line",iL);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],zr=xt("pencil",aL);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],P6=xt("play",lL);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Rn=xt("plus",oL);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],ul=xt("refresh-ccw",uL);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cL=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],dL=xt("repeat",cL);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Il=xt("save",fL);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hL=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ws=xt("search",hL);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],Ug=xt("settings-2",pL);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Nd=xt("settings",mL);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Vg=xt("share-2",gL);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xL=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],yL=xt("shield-alert",xL);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],vL=xt("shield-check",bL);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],kL=xt("shield",wL);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],nj=xt("sun",SL);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],yr=xt("trash-2",CL);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jL=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],rj=xt("user",jL);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],NL=xt("users",_L);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],AL=xt("volume-2",EL);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2",key:"4125el"}],["path",{d:"M3 11h3c.8 0 1.6.3 2.1.9l1.1.9c1.6 1.6 4.1 1.6 5.7 0l1.1-.9c.5-.5 1.3-.9 2.1-.9H21",key:"1dpki6"}]],TL=xt("wallet-cards",DL);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],ij=xt("wallet",ML);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],J2=xt("x",OL);function Iu(){const[e,t]=b.useState(()=>{const r=localStorage.getItem("theme");return r||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});return b.useEffect(()=>{const r=window.document.documentElement;r.classList.remove("light","dark"),r.classList.add(e),localStorage.setItem("theme",e)},[e]),{theme:e,toggleTheme:()=>{t(r=>r==="light"?"dark":"light")}}}function Pe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}function z6(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Rm(...e){return t=>{let n=!1;const r=e.map(i=>{const s=z6(i,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():z6(e[i],null)}}}}function At(...e){return b.useCallback(Rm(...e),e)}function RL(e,t){const n=b.createContext(t),r=s=>{const{children:a,...u}=s,d=b.useMemo(()=>u,Object.values(u));return l.jsx(n.Provider,{value:d,children:a})};r.displayName=e+"Provider";function i(s){const a=b.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,i]}function ci(e,t=[]){let n=[];function r(s,a){const u=b.createContext(a),d=n.length;n=[...n,a];const f=m=>{const{scope:x,children:y,...v}=m,k=x?.[e]?.[d]||u,j=b.useMemo(()=>v,Object.values(v));return l.jsx(k.Provider,{value:j,children:y})};f.displayName=s+"Provider";function p(m,x){const y=x?.[e]?.[d]||u,v=b.useContext(y);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${m}\` must be used within \`${s}\``)}return[f,p]}const i=()=>{const s=n.map(a=>b.createContext(a));return function(u){const d=u?.[e]||s;return b.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return i.scopeName=e,[r,LL(i,...t)]}function LL(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((u,{useScope:d,scopeName:f})=>{const m=d(s)[`__scope${f}`];return{...u,...m}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var jr=globalThis?.document?b.useLayoutEffect:()=>{},PL=v8[" useId ".trim().toString()]||(()=>{}),zL=0;function Fi(e){const[t,n]=b.useState(PL());return jr(()=>{n(r=>r??String(zL++))},[e]),e||(t?`radix-${t}`:"")}var IL=v8[" useInsertionEffect ".trim().toString()]||jr;function $i({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,s,a]=FL({defaultProp:t,onChange:n}),u=e!==void 0,d=u?e:i;{const p=b.useRef(e!==void 0);b.useEffect(()=>{const m=p.current;m!==u&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=u},[u,r])}const f=b.useCallback(p=>{if(u){const m=BL(p)?p(e):p;m!==e&&a.current?.(m)}else s(p)},[u,e,s,a]);return[d,f]}function FL({defaultProp:e,onChange:t}){const[n,r]=b.useState(e),i=b.useRef(n),s=b.useRef(t);return IL(()=>{s.current=t},[t]),b.useEffect(()=>{i.current!==n&&(s.current?.(n),i.current=n)},[n,i]),[n,r,s]}function BL(e){return typeof e=="function"}function nl(e){const t=$L(e),n=b.forwardRef((r,i)=>{const{children:s,...a}=r,u=b.Children.toArray(s),d=u.find(UL);if(d){const f=d.props.children,p=u.map(m=>m===d?b.Children.count(f)>1?b.Children.only(null):b.isValidElement(f)?f.props.children:null:m);return l.jsx(t,{...a,ref:i,children:b.isValidElement(f)?b.cloneElement(f,void 0,p):null})}return l.jsx(t,{...a,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}var sj=nl("Slot");function $L(e){const t=b.forwardRef((n,r)=>{const{children:i,...s}=n;if(b.isValidElement(i)){const a=qL(i),u=VL(s,i.props);return i.type!==b.Fragment&&(u.ref=r?Rm(r,a):a),b.cloneElement(i,u)}return b.Children.count(i)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var aj=Symbol("radix.slottable");function HL(e){const t=({children:n})=>l.jsx(l.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=aj,t}function UL(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===aj}function VL(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...u)=>{const d=s(...u);return i(...u),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function qL(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var GL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],St=GL.reduce((e,t)=>{const n=nl(`Primitive.${t}`),r=b.forwardRef((i,s)=>{const{asChild:a,...u}=i,d=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(d,{...u,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function lj(e,t){e&&zu.flushSync(()=>e.dispatchEvent(t))}function gs(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e}),b.useMemo(()=>(...n)=>t.current?.(...n),[])}function WL(e,t=globalThis?.document){const n=gs(e);b.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var YL="DismissableLayer",Ty="dismissableLayer.update",KL="dismissableLayer.pointerDownOutside",JL="dismissableLayer.focusOutside",I6,oj=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),oo=b.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:u,...d}=e,f=b.useContext(oj),[p,m]=b.useState(null),x=p?.ownerDocument??globalThis?.document,[,y]=b.useState({}),v=At(t,E=>m(E)),k=Array.from(f.layers),[j]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),C=k.indexOf(j),N=p?k.indexOf(p):-1,A=f.layersWithOutsidePointerEventsDisabled.size>0,z=N>=C,I=QL(E=>{const M=E.target,L=[...f.branches].some(D=>D.contains(M));!z||L||(i?.(E),a?.(E),E.defaultPrevented||u?.())},x),T=eP(E=>{const M=E.target;[...f.branches].some(D=>D.contains(M))||(s?.(E),a?.(E),E.defaultPrevented||u?.())},x);return WL(E=>{N===f.layers.size-1&&(r?.(E),!E.defaultPrevented&&u&&(E.preventDefault(),u()))},x),b.useEffect(()=>{if(p)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(I6=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),F6(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=I6)}},[p,x,n,f]),b.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),F6())},[p,f]),b.useEffect(()=>{const E=()=>y({});return document.addEventListener(Ty,E),()=>document.removeEventListener(Ty,E)},[]),l.jsx(St.div,{...d,ref:v,style:{pointerEvents:A?z?"auto":"none":void 0,...e.style},onFocusCapture:Pe(e.onFocusCapture,T.onFocusCapture),onBlurCapture:Pe(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:Pe(e.onPointerDownCapture,I.onPointerDownCapture)})});oo.displayName=YL;var XL="DismissableLayerBranch",ZL=b.forwardRef((e,t)=>{const n=b.useContext(oj),r=b.useRef(null),i=At(t,r);return b.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),l.jsx(St.div,{...e,ref:i})});ZL.displayName=XL;function QL(e,t=globalThis?.document){const n=gs(e),r=b.useRef(!1),i=b.useRef(()=>{});return b.useEffect(()=>{const s=u=>{if(u.target&&!r.current){let d=function(){uj(KL,n,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=d,t.addEventListener("click",i.current,{once:!0})):d()}else t.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function eP(e,t=globalThis?.document){const n=gs(e),r=b.useRef(!1);return b.useEffect(()=>{const i=s=>{s.target&&!r.current&&uj(JL,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function F6(){const e=new CustomEvent(Ty);document.dispatchEvent(e)}function uj(e,t,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?lj(i,s):i.dispatchEvent(s)}var qg="focusScope.autoFocusOnMount",Gg="focusScope.autoFocusOnUnmount",B6={bubbles:!1,cancelable:!0},tP="FocusScope",ff=b.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=e,[u,d]=b.useState(null),f=gs(i),p=gs(s),m=b.useRef(null),x=At(t,k=>d(k)),y=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let k=function(A){if(y.paused||!u)return;const z=A.target;u.contains(z)?m.current=z:Ra(m.current,{select:!0})},j=function(A){if(y.paused||!u)return;const z=A.relatedTarget;z!==null&&(u.contains(z)||Ra(m.current,{select:!0}))},C=function(A){if(document.activeElement===document.body)for(const I of A)I.removedNodes.length>0&&Ra(u)};document.addEventListener("focusin",k),document.addEventListener("focusout",j);const N=new MutationObserver(C);return u&&N.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",k),document.removeEventListener("focusout",j),N.disconnect()}}},[r,u,y.paused]),b.useEffect(()=>{if(u){H6.add(y);const k=document.activeElement;if(!u.contains(k)){const C=new CustomEvent(qg,B6);u.addEventListener(qg,f),u.dispatchEvent(C),C.defaultPrevented||(nP(lP(cj(u)),{select:!0}),document.activeElement===k&&Ra(u))}return()=>{u.removeEventListener(qg,f),setTimeout(()=>{const C=new CustomEvent(Gg,B6);u.addEventListener(Gg,p),u.dispatchEvent(C),C.defaultPrevented||Ra(k??document.body,{select:!0}),u.removeEventListener(Gg,p),H6.remove(y)},0)}}},[u,f,p,y]);const v=b.useCallback(k=>{if(!n&&!r||y.paused)return;const j=k.key==="Tab"&&!k.altKey&&!k.ctrlKey&&!k.metaKey,C=document.activeElement;if(j&&C){const N=k.currentTarget,[A,z]=rP(N);A&&z?!k.shiftKey&&C===z?(k.preventDefault(),n&&Ra(A,{select:!0})):k.shiftKey&&C===A&&(k.preventDefault(),n&&Ra(z,{select:!0})):C===N&&k.preventDefault()}},[n,r,y.paused]);return l.jsx(St.div,{tabIndex:-1,...a,ref:x,onKeyDown:v})});ff.displayName=tP;function nP(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ra(r,{select:t}),document.activeElement!==n)return}function rP(e){const t=cj(e),n=$6(t,e),r=$6(t.reverse(),e);return[n,r]}function cj(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function $6(e,t){for(const n of e)if(!iP(n,{upTo:t}))return n}function iP(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function sP(e){return e instanceof HTMLInputElement&&"select"in e}function Ra(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&sP(e)&&t&&e.select()}}var H6=aP();function aP(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=U6(e,t),e.unshift(t)},remove(t){e=U6(e,t),e[0]?.resume()}}}function U6(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function lP(e){return e.filter(t=>t.tagName!=="A")}var oP="Portal",uo=b.forwardRef((e,t)=>{const{container:n,...r}=e,[i,s]=b.useState(!1);jr(()=>s(!0),[]);const a=n||i&&globalThis?.document?.body;return a?oR.createPortal(l.jsx(St.div,{...r,ref:t}),a):null});uo.displayName=oP;function uP(e,t){return b.useReducer((n,r)=>t[n][r]??n,e)}var Ir=e=>{const{present:t,children:n}=e,r=cP(t),i=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),s=At(r.ref,dP(i));return typeof n=="function"||r.isPresent?b.cloneElement(i,{ref:s}):null};Ir.displayName="Presence";function cP(e){const[t,n]=b.useState(),r=b.useRef(null),i=b.useRef(e),s=b.useRef("none"),a=e?"mounted":"unmounted",[u,d]=uP(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const f=Gh(r.current);s.current=u==="mounted"?f:"none"},[u]),jr(()=>{const f=r.current,p=i.current;if(p!==e){const x=s.current,y=Gh(f);e?d("MOUNT"):y==="none"||f?.display==="none"?d("UNMOUNT"):d(p&&x!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,d]),jr(()=>{if(t){let f;const p=t.ownerDocument.defaultView??window,m=y=>{const k=Gh(r.current).includes(y.animationName);if(y.target===t&&k&&(d("ANIMATION_END"),!i.current)){const j=t.style.animationFillMode;t.style.animationFillMode="forwards",f=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=j)})}},x=y=>{y.target===t&&(s.current=Gh(r.current))};return t.addEventListener("animationstart",x),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{p.clearTimeout(f),t.removeEventListener("animationstart",x),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:b.useCallback(f=>{r.current=f?getComputedStyle(f):null,n(f)},[])}}function Gh(e){return e?.animationName||"none"}function dP(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Wg=0;function Lm(){b.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??V6()),document.body.insertAdjacentElement("beforeend",e[1]??V6()),Wg++,()=>{Wg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Wg--}},[])}function V6(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var as=function(){return as=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},as.apply(this,arguments)};function dj(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function fP(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var Rp="right-scroll-bar-position",Lp="width-before-scroll-bar",hP="with-scroll-bars-hidden",pP="--removed-body-scroll-bar-size";function Yg(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function mP(e,t){var n=b.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var gP=typeof window<"u"?b.useLayoutEffect:b.useEffect,q6=new WeakMap;function xP(e,t){var n=mP(null,function(r){return e.forEach(function(i){return Yg(i,r)})});return gP(function(){var r=q6.get(n);if(r){var i=new Set(r),s=new Set(e),a=n.current;i.forEach(function(u){s.has(u)||Yg(u,null)}),s.forEach(function(u){i.has(u)||Yg(u,a)})}q6.set(n,e)},[e]),n}function yP(e){return e}function bP(e,t){t===void 0&&(t=yP);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var a=t(s,r);return n.push(a),function(){n=n.filter(function(u){return u!==a})}},assignSyncMedium:function(s){for(r=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(u){return s(u)},filter:function(){return n}}},assignMedium:function(s){r=!0;var a=[];if(n.length){var u=n;n=[],u.forEach(s),a=n}var d=function(){var p=a;a=[],p.forEach(s)},f=function(){return Promise.resolve().then(d)};f(),n={push:function(p){a.push(p),f()},filter:function(p){return a=a.filter(p),n}}}};return i}function vP(e){e===void 0&&(e={});var t=bP(null);return t.options=as({async:!0,ssr:!1},e),t}var fj=function(e){var t=e.sideCar,n=dj(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,as({},n))};fj.isSideCarExport=!0;function wP(e,t){return e.useMedium(t),fj}var hj=vP(),Kg=function(){},Pm=b.forwardRef(function(e,t){var n=b.useRef(null),r=b.useState({onScrollCapture:Kg,onWheelCapture:Kg,onTouchMoveCapture:Kg}),i=r[0],s=r[1],a=e.forwardProps,u=e.children,d=e.className,f=e.removeScrollBar,p=e.enabled,m=e.shards,x=e.sideCar,y=e.noRelative,v=e.noIsolation,k=e.inert,j=e.allowPinchZoom,C=e.as,N=C===void 0?"div":C,A=e.gapMode,z=dj(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=x,T=xP([n,t]),E=as(as({},z),i);return b.createElement(b.Fragment,null,p&&b.createElement(I,{sideCar:hj,removeScrollBar:f,shards:m,noRelative:y,noIsolation:v,inert:k,setCallbacks:s,allowPinchZoom:!!j,lockRef:n,gapMode:A}),a?b.cloneElement(b.Children.only(u),as(as({},E),{ref:T})):b.createElement(N,as({},E,{className:d,ref:T}),u))});Pm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Pm.classNames={fullWidth:Lp,zeroRight:Rp};var kP=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function SP(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=kP();return t&&e.setAttribute("nonce",t),e}function CP(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function jP(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var _P=function(){var e=0,t=null;return{add:function(n){e==0&&(t=SP())&&(CP(t,n),jP(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},NP=function(){var e=_P();return function(t,n){b.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},pj=function(){var e=NP(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},EP={left:0,top:0,right:0,gap:0},Jg=function(e){return parseInt(e||"",10)||0},AP=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Jg(n),Jg(r),Jg(i)]},DP=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return EP;var t=AP(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},TP=pj(),mu="data-scroll-locked",MP=function(e,t,n,r){var i=e.left,s=e.top,a=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(hP,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(mu,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Rp,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Lp,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Rp," .").concat(Rp,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Lp," .").concat(Lp,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(mu,`] {
    `).concat(pP,": ").concat(u,`px;
  }
`)},G6=function(){var e=parseInt(document.body.getAttribute(mu)||"0",10);return isFinite(e)?e:0},OP=function(){b.useEffect(function(){return document.body.setAttribute(mu,(G6()+1).toString()),function(){var e=G6()-1;e<=0?document.body.removeAttribute(mu):document.body.setAttribute(mu,e.toString())}},[])},RP=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;OP();var s=b.useMemo(function(){return DP(i)},[i]);return b.createElement(TP,{styles:MP(s,!t,i,n?"":"!important")})},My=!1;if(typeof window<"u")try{var Wh=Object.defineProperty({},"passive",{get:function(){return My=!0,!0}});window.addEventListener("test",Wh,Wh),window.removeEventListener("test",Wh,Wh)}catch{My=!1}var Yo=My?{passive:!1}:!1,LP=function(e){return e.tagName==="TEXTAREA"},mj=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!LP(e)&&n[t]==="visible")},PP=function(e){return mj(e,"overflowY")},zP=function(e){return mj(e,"overflowX")},W6=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=gj(e,r);if(i){var s=xj(e,r),a=s[1],u=s[2];if(a>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},IP=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},FP=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},gj=function(e,t){return e==="v"?PP(t):zP(t)},xj=function(e,t){return e==="v"?IP(t):FP(t)},BP=function(e,t){return e==="h"&&t==="rtl"?-1:1},$P=function(e,t,n,r,i){var s=BP(e,window.getComputedStyle(t).direction),a=s*r,u=n.target,d=t.contains(u),f=!1,p=a>0,m=0,x=0;do{if(!u)break;var y=xj(e,u),v=y[0],k=y[1],j=y[2],C=k-j-s*v;(v||C)&&gj(e,u)&&(m+=C,x+=v);var N=u.parentNode;u=N&&N.nodeType===Node.DOCUMENT_FRAGMENT_NODE?N.host:N}while(!d&&u!==document.body||d&&(t.contains(u)||t===u));return(p&&Math.abs(m)<1||!p&&Math.abs(x)<1)&&(f=!0),f},Yh=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Y6=function(e){return[e.deltaX,e.deltaY]},K6=function(e){return e&&"current"in e?e.current:e},HP=function(e,t){return e[0]===t[0]&&e[1]===t[1]},UP=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},VP=0,Ko=[];function qP(e){var t=b.useRef([]),n=b.useRef([0,0]),r=b.useRef(),i=b.useState(VP++)[0],s=b.useState(pj)[0],a=b.useRef(e);b.useEffect(function(){a.current=e},[e]),b.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var k=fP([e.lockRef.current],(e.shards||[]).map(K6),!0).filter(Boolean);return k.forEach(function(j){return j.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),k.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var u=b.useCallback(function(k,j){if("touches"in k&&k.touches.length===2||k.type==="wheel"&&k.ctrlKey)return!a.current.allowPinchZoom;var C=Yh(k),N=n.current,A="deltaX"in k?k.deltaX:N[0]-C[0],z="deltaY"in k?k.deltaY:N[1]-C[1],I,T=k.target,E=Math.abs(A)>Math.abs(z)?"h":"v";if("touches"in k&&E==="h"&&T.type==="range")return!1;var M=W6(E,T);if(!M)return!0;if(M?I=E:(I=E==="v"?"h":"v",M=W6(E,T)),!M)return!1;if(!r.current&&"changedTouches"in k&&(A||z)&&(r.current=I),!I)return!0;var L=r.current||I;return $P(L,j,k,L==="h"?A:z)},[]),d=b.useCallback(function(k){var j=k;if(!(!Ko.length||Ko[Ko.length-1]!==s)){var C="deltaY"in j?Y6(j):Yh(j),N=t.current.filter(function(I){return I.name===j.type&&(I.target===j.target||j.target===I.shadowParent)&&HP(I.delta,C)})[0];if(N&&N.should){j.cancelable&&j.preventDefault();return}if(!N){var A=(a.current.shards||[]).map(K6).filter(Boolean).filter(function(I){return I.contains(j.target)}),z=A.length>0?u(j,A[0]):!a.current.noIsolation;z&&j.cancelable&&j.preventDefault()}}},[]),f=b.useCallback(function(k,j,C,N){var A={name:k,delta:j,target:C,should:N,shadowParent:GP(C)};t.current.push(A),setTimeout(function(){t.current=t.current.filter(function(z){return z!==A})},1)},[]),p=b.useCallback(function(k){n.current=Yh(k),r.current=void 0},[]),m=b.useCallback(function(k){f(k.type,Y6(k),k.target,u(k,e.lockRef.current))},[]),x=b.useCallback(function(k){f(k.type,Yh(k),k.target,u(k,e.lockRef.current))},[]);b.useEffect(function(){return Ko.push(s),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:x}),document.addEventListener("wheel",d,Yo),document.addEventListener("touchmove",d,Yo),document.addEventListener("touchstart",p,Yo),function(){Ko=Ko.filter(function(k){return k!==s}),document.removeEventListener("wheel",d,Yo),document.removeEventListener("touchmove",d,Yo),document.removeEventListener("touchstart",p,Yo)}},[]);var y=e.removeScrollBar,v=e.inert;return b.createElement(b.Fragment,null,v?b.createElement(s,{styles:UP(i)}):null,y?b.createElement(RP,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function GP(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const WP=wP(hj,qP);var hf=b.forwardRef(function(e,t){return b.createElement(Pm,as({},e,{ref:t,sideCar:WP}))});hf.classNames=Pm.classNames;var YP=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Jo=new WeakMap,Kh=new WeakMap,Jh={},Xg=0,yj=function(e){return e&&(e.host||yj(e.parentNode))},KP=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=yj(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},JP=function(e,t,n,r){var i=KP(t,Array.isArray(e)?e:[e]);Jh[n]||(Jh[n]=new WeakMap);var s=Jh[n],a=[],u=new Set,d=new Set(i),f=function(m){!m||u.has(m)||(u.add(m),f(m.parentNode))};i.forEach(f);var p=function(m){!m||d.has(m)||Array.prototype.forEach.call(m.children,function(x){if(u.has(x))p(x);else try{var y=x.getAttribute(r),v=y!==null&&y!=="false",k=(Jo.get(x)||0)+1,j=(s.get(x)||0)+1;Jo.set(x,k),s.set(x,j),a.push(x),k===1&&v&&Kh.set(x,!0),j===1&&x.setAttribute(n,"true"),v||x.setAttribute(r,"true")}catch(C){console.error("aria-hidden: cannot operate on ",x,C)}})};return p(t),u.clear(),Xg++,function(){a.forEach(function(m){var x=Jo.get(m)-1,y=s.get(m)-1;Jo.set(m,x),s.set(m,y),x||(Kh.has(m)||m.removeAttribute(r),Kh.delete(m)),y||m.removeAttribute(n)}),Xg--,Xg||(Jo=new WeakMap,Jo=new WeakMap,Kh=new WeakMap,Jh={})}},zm=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=YP(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),JP(r,i,n,"aria-hidden")):function(){return null}},Im="Dialog",[bj,qle]=ci(Im),[XP,qi]=bj(Im),vj=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!0}=e,u=b.useRef(null),d=b.useRef(null),[f,p]=$i({prop:r,defaultProp:i??!1,onChange:s,caller:Im});return l.jsx(XP,{scope:t,triggerRef:u,contentRef:d,contentId:Fi(),titleId:Fi(),descriptionId:Fi(),open:f,onOpenChange:p,onOpenToggle:b.useCallback(()=>p(m=>!m),[p]),modal:a,children:n})};vj.displayName=Im;var wj="DialogTrigger",kj=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=qi(wj,n),s=At(t,i.triggerRef);return l.jsx(St.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Q2(i.open),...r,ref:s,onClick:Pe(e.onClick,i.onOpenToggle)})});kj.displayName=wj;var X2="DialogPortal",[ZP,Sj]=bj(X2,{forceMount:void 0}),Cj=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,s=qi(X2,t);return l.jsx(ZP,{scope:t,forceMount:n,children:b.Children.map(r,a=>l.jsx(Ir,{present:n||s.open,children:l.jsx(uo,{asChild:!0,container:i,children:a})}))})};Cj.displayName=X2;var Zp="DialogOverlay",jj=b.forwardRef((e,t)=>{const n=Sj(Zp,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=qi(Zp,e.__scopeDialog);return s.modal?l.jsx(Ir,{present:r||s.open,children:l.jsx(ez,{...i,ref:t})}):null});jj.displayName=Zp;var QP=nl("DialogOverlay.RemoveScroll"),ez=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=qi(Zp,n);return l.jsx(hf,{as:QP,allowPinchZoom:!0,shards:[i.contentRef],children:l.jsx(St.div,{"data-state":Q2(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Xl="DialogContent",_j=b.forwardRef((e,t)=>{const n=Sj(Xl,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=qi(Xl,e.__scopeDialog);return l.jsx(Ir,{present:r||s.open,children:s.modal?l.jsx(tz,{...i,ref:t}):l.jsx(nz,{...i,ref:t})})});_j.displayName=Xl;var tz=b.forwardRef((e,t)=>{const n=qi(Xl,e.__scopeDialog),r=b.useRef(null),i=At(t,n.contentRef,r);return b.useEffect(()=>{const s=r.current;if(s)return zm(s)},[]),l.jsx(Nj,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Pe(e.onCloseAutoFocus,s=>{s.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Pe(e.onPointerDownOutside,s=>{const a=s.detail.originalEvent,u=a.button===0&&a.ctrlKey===!0;(a.button===2||u)&&s.preventDefault()}),onFocusOutside:Pe(e.onFocusOutside,s=>s.preventDefault())})}),nz=b.forwardRef((e,t)=>{const n=qi(Xl,e.__scopeDialog),r=b.useRef(!1),i=b.useRef(!1);return l.jsx(Nj,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{e.onCloseAutoFocus?.(s),s.defaultPrevented||(r.current||n.triggerRef.current?.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{e.onInteractOutside?.(s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;n.triggerRef.current?.contains(a)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),Nj=b.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=e,u=qi(Xl,n),d=b.useRef(null),f=At(t,d);return Lm(),l.jsxs(l.Fragment,{children:[l.jsx(ff,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:l.jsx(oo,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Q2(u.open),...a,ref:f,onDismiss:()=>u.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(rz,{titleId:u.titleId}),l.jsx(sz,{contentRef:d,descriptionId:u.descriptionId})]})]})}),Z2="DialogTitle",Ej=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=qi(Z2,n);return l.jsx(St.h2,{id:i.titleId,...r,ref:t})});Ej.displayName=Z2;var Aj="DialogDescription",Dj=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=qi(Aj,n);return l.jsx(St.p,{id:i.descriptionId,...r,ref:t})});Dj.displayName=Aj;var Tj="DialogClose",Mj=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=qi(Tj,n);return l.jsx(St.button,{type:"button",...r,ref:t,onClick:Pe(e.onClick,()=>i.onOpenChange(!1))})});Mj.displayName=Tj;function Q2(e){return e?"open":"closed"}var Oj="DialogTitleWarning",[Gle,Rj]=RL(Oj,{contentName:Xl,titleName:Z2,docsSlug:"dialog"}),rz=({titleId:e})=>{const t=Rj(Oj),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return b.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},iz="DialogDescriptionWarning",sz=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Rj(iz).contentName}}.`;return b.useEffect(()=>{const i=e.current?.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Lj=vj,az=kj,Pj=Cj,zj=jj,Ij=_j,Fj=Ej,Bj=Dj,$j=Mj;function Hj(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Hj(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Uj(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Hj(e))&&(r&&(r+=" "),r+=t);return r}const eb="-",lz=e=>{const t=uz(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const u=a.split(eb);return u[0]===""&&u.length!==1&&u.shift(),Vj(u,t)||oz(a)},getConflictingClassGroupIds:(a,u)=>{const d=n[a]||[];return u&&r[a]?[...d,...r[a]]:d}}},Vj=(e,t)=>{if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?Vj(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(eb);return t.validators.find(({validator:a})=>a(s))?.classGroupId},J6=/^\[(.+)\]$/,oz=e=>{if(J6.test(e)){const t=J6.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},uz=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const i in n)Oy(n[i],r,i,t);return r},Oy=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:X6(t,i);s.classGroupId=n;return}if(typeof i=="function"){if(cz(i)){Oy(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,a])=>{Oy(a,X6(t,s),n,r)})})},X6=(e,t)=>{let n=e;return t.split(eb).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},cz=e=>e.isThemeGetter,dz=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(s,a)=>{n.set(s,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){n.has(s)?n.set(s,a):i(s,a)}}},Ry="!",Ly=":",fz=Ly.length,hz=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=i=>{const s=[];let a=0,u=0,d=0,f;for(let v=0;v<i.length;v++){let k=i[v];if(a===0&&u===0){if(k===Ly){s.push(i.slice(d,v)),d=v+fz;continue}if(k==="/"){f=v;continue}}k==="["?a++:k==="]"?a--:k==="("?u++:k===")"&&u--}const p=s.length===0?i:i.substring(d),m=pz(p),x=m!==p,y=f&&f>d?f-d:void 0;return{modifiers:s,hasImportantModifier:x,baseClassName:m,maybePostfixModifierPosition:y}};if(t){const i=t+Ly,s=r;r=a=>a.startsWith(i)?s(a.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},pz=e=>e.endsWith(Ry)?e.substring(0,e.length-1):e.startsWith(Ry)?e.substring(1):e,mz=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let s=[];return r.forEach(a=>{a[0]==="["||t[a]?(i.push(...s.sort(),a),s=[]):s.push(a)}),i.push(...s.sort()),i}},gz=e=>({cache:dz(e.cacheSize),parseClassName:hz(e),sortModifiers:mz(e),...lz(e)}),xz=/\s+/,yz=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=t,a=[],u=e.trim().split(xz);let d="";for(let f=u.length-1;f>=0;f-=1){const p=u[f],{isExternal:m,modifiers:x,hasImportantModifier:y,baseClassName:v,maybePostfixModifierPosition:k}=n(p);if(m){d=p+(d.length>0?" "+d:d);continue}let j=!!k,C=r(j?v.substring(0,k):v);if(!C){if(!j){d=p+(d.length>0?" "+d:d);continue}if(C=r(v),!C){d=p+(d.length>0?" "+d:d);continue}j=!1}const N=s(x).join(":"),A=y?N+Ry:N,z=A+C;if(a.includes(z))continue;a.push(z);const I=i(C,j);for(let T=0;T<I.length;++T){const E=I[T];a.push(A+E)}d=p+(d.length>0?" "+d:d)}return d};function bz(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=qj(t))&&(r&&(r+=" "),r+=n);return r}const qj=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=qj(e[r]))&&(n&&(n+=" "),n+=t);return n};function vz(e,...t){let n,r,i,s=a;function a(d){const f=t.reduce((p,m)=>m(p),e());return n=gz(f),r=n.cache.get,i=n.cache.set,s=u,u(d)}function u(d){const f=r(d);if(f)return f;const p=yz(d,n);return i(d,p),p}return function(){return s(bz.apply(null,arguments))}}const qn=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Gj=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Wj=/^\((?:(\w[\w-]*):)?(.+)\)$/i,wz=/^\d+\/\d+$/,kz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Sz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Cz=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,jz=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_z=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xo=e=>wz.test(e),Ft=e=>!!e&&!Number.isNaN(Number(e)),Aa=e=>!!e&&Number.isInteger(Number(e)),Zg=e=>e.endsWith("%")&&Ft(e.slice(0,-1)),Us=e=>kz.test(e),Nz=()=>!0,Ez=e=>Sz.test(e)&&!Cz.test(e),Yj=()=>!1,Az=e=>jz.test(e),Dz=e=>_z.test(e),Tz=e=>!et(e)&&!tt(e),Mz=e=>Fu(e,Xj,Yj),et=e=>Gj.test(e),Ol=e=>Fu(e,Zj,Ez),Qg=e=>Fu(e,zz,Ft),Z6=e=>Fu(e,Kj,Yj),Oz=e=>Fu(e,Jj,Dz),Xh=e=>Fu(e,Qj,Az),tt=e=>Wj.test(e),Kc=e=>Bu(e,Zj),Rz=e=>Bu(e,Iz),Q6=e=>Bu(e,Kj),Lz=e=>Bu(e,Xj),Pz=e=>Bu(e,Jj),Zh=e=>Bu(e,Qj,!0),Fu=(e,t,n)=>{const r=Gj.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},Bu=(e,t,n=!1)=>{const r=Wj.exec(e);return r?r[1]?t(r[1]):n:!1},Kj=e=>e==="position"||e==="percentage",Jj=e=>e==="image"||e==="url",Xj=e=>e==="length"||e==="size"||e==="bg-size",Zj=e=>e==="length",zz=e=>e==="number",Iz=e=>e==="family-name",Qj=e=>e==="shadow",Fz=()=>{const e=qn("color"),t=qn("font"),n=qn("text"),r=qn("font-weight"),i=qn("tracking"),s=qn("leading"),a=qn("breakpoint"),u=qn("container"),d=qn("spacing"),f=qn("radius"),p=qn("shadow"),m=qn("inset-shadow"),x=qn("text-shadow"),y=qn("drop-shadow"),v=qn("blur"),k=qn("perspective"),j=qn("aspect"),C=qn("ease"),N=qn("animate"),A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],I=()=>[...z(),tt,et],T=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto","contain","none"],M=()=>[tt,et,d],L=()=>[Xo,"full","auto",...M()],D=()=>[Aa,"none","subgrid",tt,et],V=()=>["auto",{span:["full",Aa,tt,et]},Aa,tt,et],K=()=>[Aa,"auto",tt,et],J=()=>["auto","min","max","fr",tt,et],Z=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],q=()=>["start","end","center","stretch","center-safe","end-safe"],F=()=>["auto",...M()],W=()=>[Xo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...M()],R=()=>[e,tt,et],U=()=>[...z(),Q6,Z6,{position:[tt,et]}],_=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Q=()=>["auto","cover","contain",Lz,Mz,{size:[tt,et]}],G=()=>[Zg,Kc,Ol],P=()=>["","none","full",f,tt,et],ie=()=>["",Ft,Kc,Ol],H=()=>["solid","dashed","dotted","double"],te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ae=()=>[Ft,Zg,Q6,Z6],ke=()=>["","none",v,tt,et],Ge=()=>["none",Ft,tt,et],He=()=>["none",Ft,tt,et],Me=()=>[Ft,tt,et],ze=()=>[Xo,"full",...M()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Us],breakpoint:[Us],color:[Nz],container:[Us],"drop-shadow":[Us],ease:["in","out","in-out"],font:[Tz],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Us],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Us],shadow:[Us],spacing:["px",Ft],text:[Us],"text-shadow":[Us],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Xo,et,tt,j]}],container:["container"],columns:[{columns:[Ft,et,tt,u]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:I()}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:L()}],"inset-x":[{"inset-x":L()}],"inset-y":[{"inset-y":L()}],start:[{start:L()}],end:[{end:L()}],top:[{top:L()}],right:[{right:L()}],bottom:[{bottom:L()}],left:[{left:L()}],visibility:["visible","invisible","collapse"],z:[{z:[Aa,"auto",tt,et]}],basis:[{basis:[Xo,"full","auto",u,...M()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ft,Xo,"auto","initial","none",et]}],grow:[{grow:["",Ft,tt,et]}],shrink:[{shrink:["",Ft,tt,et]}],order:[{order:[Aa,"first","last","none",tt,et]}],"grid-cols":[{"grid-cols":D()}],"col-start-end":[{col:V()}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":D()}],"row-start-end":[{row:V()}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":J()}],"auto-rows":[{"auto-rows":J()}],gap:[{gap:M()}],"gap-x":[{"gap-x":M()}],"gap-y":[{"gap-y":M()}],"justify-content":[{justify:[...Z(),"normal"]}],"justify-items":[{"justify-items":[...q(),"normal"]}],"justify-self":[{"justify-self":["auto",...q()]}],"align-content":[{content:["normal",...Z()]}],"align-items":[{items:[...q(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...q(),{baseline:["","last"]}]}],"place-content":[{"place-content":Z()}],"place-items":[{"place-items":[...q(),"baseline"]}],"place-self":[{"place-self":["auto",...q()]}],p:[{p:M()}],px:[{px:M()}],py:[{py:M()}],ps:[{ps:M()}],pe:[{pe:M()}],pt:[{pt:M()}],pr:[{pr:M()}],pb:[{pb:M()}],pl:[{pl:M()}],m:[{m:F()}],mx:[{mx:F()}],my:[{my:F()}],ms:[{ms:F()}],me:[{me:F()}],mt:[{mt:F()}],mr:[{mr:F()}],mb:[{mb:F()}],ml:[{ml:F()}],"space-x":[{"space-x":M()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":M()}],"space-y-reverse":["space-y-reverse"],size:[{size:W()}],w:[{w:[u,"screen",...W()]}],"min-w":[{"min-w":[u,"screen","none",...W()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[a]},...W()]}],h:[{h:["screen","lh",...W()]}],"min-h":[{"min-h":["screen","lh","none",...W()]}],"max-h":[{"max-h":["screen","lh",...W()]}],"font-size":[{text:["base",n,Kc,Ol]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,tt,Qg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Zg,et]}],"font-family":[{font:[Rz,et,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,tt,et]}],"line-clamp":[{"line-clamp":[Ft,"none",tt,Qg]}],leading:[{leading:[s,...M()]}],"list-image":[{"list-image":["none",tt,et]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",tt,et]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:R()}],"text-color":[{text:R()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ft,"from-font","auto",tt,Ol]}],"text-decoration-color":[{decoration:R()}],"underline-offset":[{"underline-offset":[Ft,"auto",tt,et]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",tt,et]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",tt,et]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:U()}],"bg-repeat":[{bg:_()}],"bg-size":[{bg:Q()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Aa,tt,et],radial:["",tt,et],conic:[Aa,tt,et]},Pz,Oz]}],"bg-color":[{bg:R()}],"gradient-from-pos":[{from:G()}],"gradient-via-pos":[{via:G()}],"gradient-to-pos":[{to:G()}],"gradient-from":[{from:R()}],"gradient-via":[{via:R()}],"gradient-to":[{to:R()}],rounded:[{rounded:P()}],"rounded-s":[{"rounded-s":P()}],"rounded-e":[{"rounded-e":P()}],"rounded-t":[{"rounded-t":P()}],"rounded-r":[{"rounded-r":P()}],"rounded-b":[{"rounded-b":P()}],"rounded-l":[{"rounded-l":P()}],"rounded-ss":[{"rounded-ss":P()}],"rounded-se":[{"rounded-se":P()}],"rounded-ee":[{"rounded-ee":P()}],"rounded-es":[{"rounded-es":P()}],"rounded-tl":[{"rounded-tl":P()}],"rounded-tr":[{"rounded-tr":P()}],"rounded-br":[{"rounded-br":P()}],"rounded-bl":[{"rounded-bl":P()}],"border-w":[{border:ie()}],"border-w-x":[{"border-x":ie()}],"border-w-y":[{"border-y":ie()}],"border-w-s":[{"border-s":ie()}],"border-w-e":[{"border-e":ie()}],"border-w-t":[{"border-t":ie()}],"border-w-r":[{"border-r":ie()}],"border-w-b":[{"border-b":ie()}],"border-w-l":[{"border-l":ie()}],"divide-x":[{"divide-x":ie()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ie()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...H(),"hidden","none"]}],"divide-style":[{divide:[...H(),"hidden","none"]}],"border-color":[{border:R()}],"border-color-x":[{"border-x":R()}],"border-color-y":[{"border-y":R()}],"border-color-s":[{"border-s":R()}],"border-color-e":[{"border-e":R()}],"border-color-t":[{"border-t":R()}],"border-color-r":[{"border-r":R()}],"border-color-b":[{"border-b":R()}],"border-color-l":[{"border-l":R()}],"divide-color":[{divide:R()}],"outline-style":[{outline:[...H(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ft,tt,et]}],"outline-w":[{outline:["",Ft,Kc,Ol]}],"outline-color":[{outline:R()}],shadow:[{shadow:["","none",p,Zh,Xh]}],"shadow-color":[{shadow:R()}],"inset-shadow":[{"inset-shadow":["none",m,Zh,Xh]}],"inset-shadow-color":[{"inset-shadow":R()}],"ring-w":[{ring:ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:R()}],"ring-offset-w":[{"ring-offset":[Ft,Ol]}],"ring-offset-color":[{"ring-offset":R()}],"inset-ring-w":[{"inset-ring":ie()}],"inset-ring-color":[{"inset-ring":R()}],"text-shadow":[{"text-shadow":["none",x,Zh,Xh]}],"text-shadow-color":[{"text-shadow":R()}],opacity:[{opacity:[Ft,tt,et]}],"mix-blend":[{"mix-blend":[...te(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":te()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ft]}],"mask-image-linear-from-pos":[{"mask-linear-from":ae()}],"mask-image-linear-to-pos":[{"mask-linear-to":ae()}],"mask-image-linear-from-color":[{"mask-linear-from":R()}],"mask-image-linear-to-color":[{"mask-linear-to":R()}],"mask-image-t-from-pos":[{"mask-t-from":ae()}],"mask-image-t-to-pos":[{"mask-t-to":ae()}],"mask-image-t-from-color":[{"mask-t-from":R()}],"mask-image-t-to-color":[{"mask-t-to":R()}],"mask-image-r-from-pos":[{"mask-r-from":ae()}],"mask-image-r-to-pos":[{"mask-r-to":ae()}],"mask-image-r-from-color":[{"mask-r-from":R()}],"mask-image-r-to-color":[{"mask-r-to":R()}],"mask-image-b-from-pos":[{"mask-b-from":ae()}],"mask-image-b-to-pos":[{"mask-b-to":ae()}],"mask-image-b-from-color":[{"mask-b-from":R()}],"mask-image-b-to-color":[{"mask-b-to":R()}],"mask-image-l-from-pos":[{"mask-l-from":ae()}],"mask-image-l-to-pos":[{"mask-l-to":ae()}],"mask-image-l-from-color":[{"mask-l-from":R()}],"mask-image-l-to-color":[{"mask-l-to":R()}],"mask-image-x-from-pos":[{"mask-x-from":ae()}],"mask-image-x-to-pos":[{"mask-x-to":ae()}],"mask-image-x-from-color":[{"mask-x-from":R()}],"mask-image-x-to-color":[{"mask-x-to":R()}],"mask-image-y-from-pos":[{"mask-y-from":ae()}],"mask-image-y-to-pos":[{"mask-y-to":ae()}],"mask-image-y-from-color":[{"mask-y-from":R()}],"mask-image-y-to-color":[{"mask-y-to":R()}],"mask-image-radial":[{"mask-radial":[tt,et]}],"mask-image-radial-from-pos":[{"mask-radial-from":ae()}],"mask-image-radial-to-pos":[{"mask-radial-to":ae()}],"mask-image-radial-from-color":[{"mask-radial-from":R()}],"mask-image-radial-to-color":[{"mask-radial-to":R()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":z()}],"mask-image-conic-pos":[{"mask-conic":[Ft]}],"mask-image-conic-from-pos":[{"mask-conic-from":ae()}],"mask-image-conic-to-pos":[{"mask-conic-to":ae()}],"mask-image-conic-from-color":[{"mask-conic-from":R()}],"mask-image-conic-to-color":[{"mask-conic-to":R()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:U()}],"mask-repeat":[{mask:_()}],"mask-size":[{mask:Q()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",tt,et]}],filter:[{filter:["","none",tt,et]}],blur:[{blur:ke()}],brightness:[{brightness:[Ft,tt,et]}],contrast:[{contrast:[Ft,tt,et]}],"drop-shadow":[{"drop-shadow":["","none",y,Zh,Xh]}],"drop-shadow-color":[{"drop-shadow":R()}],grayscale:[{grayscale:["",Ft,tt,et]}],"hue-rotate":[{"hue-rotate":[Ft,tt,et]}],invert:[{invert:["",Ft,tt,et]}],saturate:[{saturate:[Ft,tt,et]}],sepia:[{sepia:["",Ft,tt,et]}],"backdrop-filter":[{"backdrop-filter":["","none",tt,et]}],"backdrop-blur":[{"backdrop-blur":ke()}],"backdrop-brightness":[{"backdrop-brightness":[Ft,tt,et]}],"backdrop-contrast":[{"backdrop-contrast":[Ft,tt,et]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ft,tt,et]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ft,tt,et]}],"backdrop-invert":[{"backdrop-invert":["",Ft,tt,et]}],"backdrop-opacity":[{"backdrop-opacity":[Ft,tt,et]}],"backdrop-saturate":[{"backdrop-saturate":[Ft,tt,et]}],"backdrop-sepia":[{"backdrop-sepia":["",Ft,tt,et]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":M()}],"border-spacing-x":[{"border-spacing-x":M()}],"border-spacing-y":[{"border-spacing-y":M()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",tt,et]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ft,"initial",tt,et]}],ease:[{ease:["linear","initial",C,tt,et]}],delay:[{delay:[Ft,tt,et]}],animate:[{animate:["none",N,tt,et]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[k,tt,et]}],"perspective-origin":[{"perspective-origin":I()}],rotate:[{rotate:Ge()}],"rotate-x":[{"rotate-x":Ge()}],"rotate-y":[{"rotate-y":Ge()}],"rotate-z":[{"rotate-z":Ge()}],scale:[{scale:He()}],"scale-x":[{"scale-x":He()}],"scale-y":[{"scale-y":He()}],"scale-z":[{"scale-z":He()}],"scale-3d":["scale-3d"],skew:[{skew:Me()}],"skew-x":[{"skew-x":Me()}],"skew-y":[{"skew-y":Me()}],transform:[{transform:[tt,et,"","none","gpu","cpu"]}],"transform-origin":[{origin:I()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ze()}],"translate-x":[{"translate-x":ze()}],"translate-y":[{"translate-y":ze()}],"translate-z":[{"translate-z":ze()}],"translate-none":["translate-none"],accent:[{accent:R()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:R()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",tt,et]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",tt,et]}],fill:[{fill:["none",...R()]}],"stroke-w":[{stroke:[Ft,Kc,Ol,Qg]}],stroke:[{stroke:["none",...R()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Bz=vz(Fz);function Ae(...e){return Bz(Uj(e))}function Yn({...e}){return l.jsx(Lj,{"data-slot":"dialog",...e})}function $z({...e}){return l.jsx(Pj,{"data-slot":"dialog-portal",...e})}function Hz({className:e,...t}){return l.jsx(zj,{"data-slot":"dialog-overlay",className:Ae("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function Kn({className:e,children:t,showCloseButton:n=!0,...r}){return l.jsxs($z,{"data-slot":"dialog-portal",children:[l.jsx(Hz,{}),l.jsxs(Ij,{"data-slot":"dialog-content",className:Ae("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...r,children:[t,n&&l.jsxs($j,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[l.jsx(J2,{}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Jn({className:e,...t}){return l.jsx("div",{"data-slot":"dialog-header",className:Ae("flex flex-col gap-2 text-center sm:text-left",e),...t})}function br({className:e,...t}){return l.jsx("div",{"data-slot":"dialog-footer",className:Ae("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function Xn({className:e,...t}){return l.jsx(Fj,{"data-slot":"dialog-title",className:Ae("text-lg leading-none font-semibold",e),...t})}function vr({className:e,...t}){return l.jsx(Bj,{"data-slot":"dialog-description",className:Ae("text-muted-foreground text-sm",e),...t})}const ek=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,tk=Uj,e5=(e,t)=>n=>{var r;if(t?.variants==null)return tk(e,n?.class,n?.className);const{variants:i,defaultVariants:s}=t,a=Object.keys(i).map(f=>{const p=n?.[f],m=s?.[f];if(p===null)return null;const x=ek(p)||ek(m);return i[f][x]}),u=n&&Object.entries(n).reduce((f,p)=>{let[m,x]=p;return x===void 0||(f[m]=x),f},{}),d=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((f,p)=>{let{class:m,className:x,...y}=p;return Object.entries(y).every(v=>{let[k,j]=v;return Array.isArray(j)?j.includes({...s,...u}[k]):{...s,...u}[k]===j})?[...f,m,x]:f},[]);return tk(e,a,d,n?.class,n?.className)},Uz=e5("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function xe({className:e,variant:t,size:n,asChild:r=!1,...i}){const s=r?sj:"button";return l.jsx(s,{"data-slot":"button",className:Ae(Uz({variant:t,size:n,className:e})),...i})}function Re({className:e,type:t,...n}){return l.jsx("input",{type:t,"data-slot":"input",className:Ae("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}var Vz="Separator",nk="horizontal",qz=["horizontal","vertical"],t5=b.forwardRef((e,t)=>{const{decorative:n,orientation:r=nk,...i}=e,s=Gz(r)?r:nk,u=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return l.jsx(St.div,{"data-orientation":s,...u,...i,ref:t})});t5.displayName=Vz;function Gz(e){return qz.includes(e)}var Wz=t5;function Xa({className:e,orientation:t="horizontal",decorative:n=!0,...r}){return l.jsx(Wz,{"data-slot":"separator",decorative:n,orientation:t,className:Ae("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...r})}var Yz=Object.defineProperty,Kz=Object.defineProperties,Jz=Object.getOwnPropertyDescriptors,Qp=Object.getOwnPropertySymbols,n5=Object.prototype.hasOwnProperty,r5=Object.prototype.propertyIsEnumerable,rk=(e,t,n)=>t in e?Yz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xz=(e,t)=>{for(var n in t||(t={}))n5.call(t,n)&&rk(e,n,t[n]);if(Qp)for(var n of Qp(t))r5.call(t,n)&&rk(e,n,t[n]);return e},Zz=(e,t)=>Kz(e,Jz(t)),Qz=(e,t)=>{var n={};for(var r in e)n5.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Qp)for(var r of Qp(e))t.indexOf(r)<0&&r5.call(e,r)&&(n[r]=e[r]);return n};function eI(e){let t=setTimeout(e,0),n=setTimeout(e,10),r=setTimeout(e,50);return[t,n,r]}function tI(e){let t=b.useRef();return b.useEffect(()=>{t.current=e}),t.current}var nI=18,i5=40,rI=`${i5}px`,iI=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function sI({containerRef:e,inputRef:t,pushPasswordManagerStrategy:n,isFocused:r}){let[i,s]=b.useState(!1),[a,u]=b.useState(!1),[d,f]=b.useState(!1),p=b.useMemo(()=>n==="none"?!1:(n==="increase-width"||n==="experimental-no-flickering")&&i&&a,[i,a,n]),m=b.useCallback(()=>{let x=e.current,y=t.current;if(!x||!y||d||n==="none")return;let v=x,k=v.getBoundingClientRect().left+v.offsetWidth,j=v.getBoundingClientRect().top+v.offsetHeight/2,C=k-nI,N=j;document.querySelectorAll(iI).length===0&&document.elementFromPoint(C,N)===x||(s(!0),f(!0))},[e,t,d,n]);return b.useEffect(()=>{let x=e.current;if(!x||n==="none")return;function y(){let k=window.innerWidth-x.getBoundingClientRect().right;u(k>=i5)}y();let v=setInterval(y,1e3);return()=>{clearInterval(v)}},[e,n]),b.useEffect(()=>{let x=r||document.activeElement===t.current;if(n==="none"||!x)return;let y=setTimeout(m,0),v=setTimeout(m,2e3),k=setTimeout(m,5e3),j=setTimeout(()=>{f(!0)},6e3);return()=>{clearTimeout(y),clearTimeout(v),clearTimeout(k),clearTimeout(j)}},[t,r,n,m]),{hasPWMBadge:i,willPushPWMBadge:p,PWM_BADGE_SPACE_WIDTH:rI}}var s5=b.createContext({}),a5=b.forwardRef((e,t)=>{var n=e,{value:r,onChange:i,maxLength:s,textAlign:a="left",pattern:u,placeholder:d,inputMode:f="numeric",onComplete:p,pushPasswordManagerStrategy:m="increase-width",pasteTransformer:x,containerClassName:y,noScriptCSSFallback:v=aI,render:k,children:j}=n,C=Qz(n,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),N,A,z,I,T;let[E,M]=b.useState(typeof C.defaultValue=="string"?C.defaultValue:""),L=r??E,D=tI(L),V=b.useCallback(we=>{i?.(we),M(we)},[i]),K=b.useMemo(()=>u?typeof u=="string"?new RegExp(u):u:null,[u]),J=b.useRef(null),Z=b.useRef(null),q=b.useRef({value:L,onChange:V,isIOS:typeof window<"u"&&((A=(N=window?.CSS)==null?void 0:N.supports)==null?void 0:A.call(N,"-webkit-touch-callout","none"))}),F=b.useRef({prev:[(z=J.current)==null?void 0:z.selectionStart,(I=J.current)==null?void 0:I.selectionEnd,(T=J.current)==null?void 0:T.selectionDirection]});b.useImperativeHandle(t,()=>J.current,[]),b.useEffect(()=>{let we=J.current,le=Z.current;if(!we||!le)return;q.current.value!==we.value&&q.current.onChange(we.value),F.current.prev=[we.selectionStart,we.selectionEnd,we.selectionDirection];function Ke(){if(document.activeElement!==we){G(null),ie(null);return}let Le=we.selectionStart,Xe=we.selectionEnd,zt=we.selectionDirection,Mt=we.maxLength,Ot=we.value,tn=F.current.prev,Yt=-1,pe=-1,Ce;if(Ot.length!==0&&Le!==null&&Xe!==null){let Ze=Le===Xe,$=Le===Ot.length&&Ot.length<Mt;if(Ze&&!$){let ne=Le;if(ne===0)Yt=0,pe=1,Ce="forward";else if(ne===Mt)Yt=ne-1,pe=ne,Ce="backward";else if(Mt>1&&Ot.length>1){let Te=0;if(tn[0]!==null&&tn[1]!==null){Ce=ne<tn[1]?"backward":"forward";let nt=tn[0]===tn[1]&&tn[0]<Mt;Ce==="backward"&&!nt&&(Te=-1)}Yt=Te+ne,pe=Te+ne+1}}Yt!==-1&&pe!==-1&&Yt!==pe&&J.current.setSelectionRange(Yt,pe,Ce)}let Fe=Yt!==-1?Yt:Le,Ue=pe!==-1?pe:Xe,ue=Ce??zt;G(Fe),ie(Ue),F.current.prev=[Fe,Ue,ue]}if(document.addEventListener("selectionchange",Ke,{capture:!0}),Ke(),document.activeElement===we&&_(!0),!document.getElementById("input-otp-style")){let Le=document.createElement("style");if(Le.id="input-otp-style",document.head.appendChild(Le),Le.sheet){let Xe="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";Jc(Le.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),Jc(Le.sheet,`[data-input-otp]:autofill { ${Xe} }`),Jc(Le.sheet,`[data-input-otp]:-webkit-autofill { ${Xe} }`),Jc(Le.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),Jc(Le.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let Y=()=>{le&&le.style.setProperty("--root-height",`${we.clientHeight}px`)};Y();let Ne=new ResizeObserver(Y);return Ne.observe(we),()=>{document.removeEventListener("selectionchange",Ke,{capture:!0}),Ne.disconnect()}},[]);let[W,R]=b.useState(!1),[U,_]=b.useState(!1),[Q,G]=b.useState(null),[P,ie]=b.useState(null);b.useEffect(()=>{eI(()=>{var we,le,Ke,Y;(we=J.current)==null||we.dispatchEvent(new Event("input"));let Ne=(le=J.current)==null?void 0:le.selectionStart,Le=(Ke=J.current)==null?void 0:Ke.selectionEnd,Xe=(Y=J.current)==null?void 0:Y.selectionDirection;Ne!==null&&Le!==null&&(G(Ne),ie(Le),F.current.prev=[Ne,Le,Xe])})},[L,U]),b.useEffect(()=>{D!==void 0&&L!==D&&D.length<s&&L.length===s&&p?.(L)},[s,p,D,L]);let H=sI({containerRef:Z,inputRef:J,pushPasswordManagerStrategy:m,isFocused:U}),te=b.useCallback(we=>{let le=we.currentTarget.value.slice(0,s);if(le.length>0&&K&&!K.test(le)){we.preventDefault();return}typeof D=="string"&&le.length<D.length&&document.dispatchEvent(new Event("selectionchange")),V(le)},[s,V,D,K]),ae=b.useCallback(()=>{var we;if(J.current){let le=Math.min(J.current.value.length,s-1),Ke=J.current.value.length;(we=J.current)==null||we.setSelectionRange(le,Ke),G(le),ie(Ke)}_(!0)},[s]),ke=b.useCallback(we=>{var le,Ke;let Y=J.current;if(!x&&(!q.current.isIOS||!we.clipboardData||!Y))return;let Ne=we.clipboardData.getData("text/plain"),Le=x?x(Ne):Ne;we.preventDefault();let Xe=(le=J.current)==null?void 0:le.selectionStart,zt=(Ke=J.current)==null?void 0:Ke.selectionEnd,Mt=(Xe!==zt?L.slice(0,Xe)+Le+L.slice(zt):L.slice(0,Xe)+Le+L.slice(Xe)).slice(0,s);if(Mt.length>0&&K&&!K.test(Mt))return;Y.value=Mt,V(Mt);let Ot=Math.min(Mt.length,s-1),tn=Mt.length;Y.setSelectionRange(Ot,tn),G(Ot),ie(tn)},[s,V,K,L]),Ge=b.useMemo(()=>({position:"relative",cursor:C.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[C.disabled]),He=b.useMemo(()=>({position:"absolute",inset:0,width:H.willPushPWMBadge?`calc(100% + ${H.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:H.willPushPWMBadge?`inset(0 ${H.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:a,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[H.PWM_BADGE_SPACE_WIDTH,H.willPushPWMBadge,a]),Me=b.useMemo(()=>b.createElement("input",Zz(Xz({autoComplete:C.autoComplete||"one-time-code"},C),{"data-input-otp":!0,"data-input-otp-placeholder-shown":L.length===0||void 0,"data-input-otp-mss":Q,"data-input-otp-mse":P,inputMode:f,pattern:K?.source,"aria-placeholder":d,style:He,maxLength:s,value:L,ref:J,onPaste:we=>{var le;ke(we),(le=C.onPaste)==null||le.call(C,we)},onChange:te,onMouseOver:we=>{var le;R(!0),(le=C.onMouseOver)==null||le.call(C,we)},onMouseLeave:we=>{var le;R(!1),(le=C.onMouseLeave)==null||le.call(C,we)},onFocus:we=>{var le;ae(),(le=C.onFocus)==null||le.call(C,we)},onBlur:we=>{var le;_(!1),(le=C.onBlur)==null||le.call(C,we)}})),[te,ae,ke,f,He,s,P,Q,C,K?.source,L]),ze=b.useMemo(()=>({slots:Array.from({length:s}).map((we,le)=>{var Ke;let Y=U&&Q!==null&&P!==null&&(Q===P&&le===Q||le>=Q&&le<P),Ne=L[le]!==void 0?L[le]:null,Le=L[0]!==void 0?null:(Ke=d?.[le])!=null?Ke:null;return{char:Ne,placeholderChar:Le,isActive:Y,hasFakeCaret:Y&&Ne===null}}),isFocused:U,isHovering:!C.disabled&&W}),[U,W,s,P,Q,C.disabled,L]),ft=b.useMemo(()=>k?k(ze):b.createElement(s5.Provider,{value:ze},j),[j,ze,k]);return b.createElement(b.Fragment,null,v!==null&&b.createElement("noscript",null,b.createElement("style",null,v)),b.createElement("div",{ref:Z,"data-input-otp-container":!0,style:Ge,className:y},ft,b.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},Me)))});a5.displayName="Input";function Jc(e,t){try{e.insertRule(t)}catch{console.error("input-otp could not insert CSS rule:",t)}}var aI=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;function ik({className:e,containerClassName:t,...n}){return l.jsx(a5,{"data-slot":"input-otp",containerClassName:Ae("flex items-center gap-2 has-disabled:opacity-50",t),className:Ae("disabled:cursor-not-allowed",e),...n})}function sk({className:e,...t}){return l.jsx("div",{"data-slot":"input-otp-group",className:Ae("flex items-center",e),...t})}function wi({index:e,className:t,...n}){const r=b.useContext(s5),{char:i,hasFakeCaret:s,isActive:a}=r?.slots[e]??{};return l.jsxs("div",{"data-slot":"input-otp-slot","data-active":a,className:Ae("data-[active=true]:border-ring data-[active=true]:ring-ring/50 data-[active=true]:aria-invalid:ring-destructive/20 dark:data-[active=true]:aria-invalid:ring-destructive/40 aria-invalid:border-destructive data-[active=true]:aria-invalid:border-destructive dark:bg-input/30 border-input relative flex h-9 w-9 items-center justify-center border-y border-r text-sm shadow-xs transition-all outline-none first:rounded-l-md first:border-l last:rounded-r-md data-[active=true]:z-10 data-[active=true]:ring-[3px]",t),...n,children:[i,s&&l.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:l.jsx("div",{className:"animate-caret-blink bg-foreground h-4 w-px duration-1000"})})]})}function Fm(e){const t=b.useRef({value:e,previous:e});return b.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function Bm(e){const[t,n]=b.useState(void 0);return jr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,u;if("borderBoxSize"in s){const d=s.borderBoxSize,f=Array.isArray(d)?d[0]:d;a=f.inlineSize,u=f.blockSize}else a=e.offsetWidth,u=e.offsetHeight;n({width:a,height:u})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var $m="Checkbox",[lI,Wle]=ci($m),[oI,tb]=lI($m);function uI(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:i,disabled:s,form:a,name:u,onCheckedChange:d,required:f,value:p="on",internal_do_not_use_render:m}=e,[x,y]=$i({prop:n,defaultProp:i??!1,onChange:d,caller:$m}),[v,k]=b.useState(null),[j,C]=b.useState(null),N=b.useRef(!1),A=v?!!a||!!v.closest("form"):!0,z={checked:x,disabled:s,setChecked:y,control:v,setControl:k,name:u,form:a,value:p,hasConsumerStoppedPropagationRef:N,required:f,defaultChecked:Za(i)?!1:i,isFormControl:A,bubbleInput:j,setBubbleInput:C};return l.jsx(oI,{scope:t,...z,children:cI(m)?m(z):r})}var l5="CheckboxTrigger",o5=b.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},i)=>{const{control:s,value:a,disabled:u,checked:d,required:f,setControl:p,setChecked:m,hasConsumerStoppedPropagationRef:x,isFormControl:y,bubbleInput:v}=tb(l5,e),k=At(i,p),j=b.useRef(d);return b.useEffect(()=>{const C=s?.form;if(C){const N=()=>m(j.current);return C.addEventListener("reset",N),()=>C.removeEventListener("reset",N)}},[s,m]),l.jsx(St.button,{type:"button",role:"checkbox","aria-checked":Za(d)?"mixed":d,"aria-required":f,"data-state":p5(d),"data-disabled":u?"":void 0,disabled:u,value:a,...r,ref:k,onKeyDown:Pe(t,C=>{C.key==="Enter"&&C.preventDefault()}),onClick:Pe(n,C=>{m(N=>Za(N)?!0:!N),v&&y&&(x.current=C.isPropagationStopped(),x.current||C.stopPropagation())})})});o5.displayName=l5;var u5=b.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:a,disabled:u,value:d,onCheckedChange:f,form:p,...m}=e;return l.jsx(uI,{__scopeCheckbox:n,checked:i,defaultChecked:s,disabled:u,required:a,onCheckedChange:f,name:r,form:p,value:d,internal_do_not_use_render:({isFormControl:x})=>l.jsxs(l.Fragment,{children:[l.jsx(o5,{...m,ref:t,__scopeCheckbox:n}),x&&l.jsx(h5,{__scopeCheckbox:n})]})})});u5.displayName=$m;var c5="CheckboxIndicator",d5=b.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...i}=e,s=tb(c5,n);return l.jsx(Ir,{present:r||Za(s.checked)||s.checked===!0,children:l.jsx(St.span,{"data-state":p5(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});d5.displayName=c5;var f5="CheckboxBubbleInput",h5=b.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:a,required:u,disabled:d,name:f,value:p,form:m,bubbleInput:x,setBubbleInput:y}=tb(f5,e),v=At(n,y),k=Fm(s),j=Bm(r);b.useEffect(()=>{const N=x;if(!N)return;const A=window.HTMLInputElement.prototype,I=Object.getOwnPropertyDescriptor(A,"checked").set,T=!i.current;if(k!==s&&I){const E=new Event("click",{bubbles:T});N.indeterminate=Za(s),I.call(N,Za(s)?!1:s),N.dispatchEvent(E)}},[x,k,s,i]);const C=b.useRef(Za(s)?!1:s);return l.jsx(St.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??C.current,required:u,disabled:d,name:f,value:p,form:m,...t,tabIndex:-1,ref:v,style:{...t.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});h5.displayName=f5;function cI(e){return typeof e=="function"}function Za(e){return e==="indeterminate"}function p5(e){return Za(e)?"indeterminate":e?"checked":"unchecked"}function m5({className:e,...t}){return l.jsx(u5,{"data-slot":"checkbox",className:Ae("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:l.jsx(d5,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:l.jsx(J8,{className:"size-3.5"})})})}function g5({className:e,...t}){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,...t,children:l.jsxs("g",{opacity:"0.993",children:[l.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.8135 1.59149C11.901 1.46999 12.5445 1.46999 13.713 1.59149C15.7814 1.89763 17.6988 2.85372 19.188 4.32149C18.1817 5.27269 17.1886 6.23779 16.209 7.21649C14.333 5.62649 12.239 5.25949 9.92701 6.11549C8.23101 6.89549 7.05001 8.15949 6.38401 9.90749C5.29567 9.09724 4.22151 8.26811 3.16201 7.42049C3.08838 7.38173 3.00428 7.36754 2.92201 7.37999C4.60501 4.13499 7.23501 2.20499 10.812 1.58999",fill:"currentColor",className:"text-red-500"}),l.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.91901 7.37999C3.00401 7.36699 3.08451 7.38049 3.16051 7.42049C4.22001 8.26811 5.29417 9.09724 6.38251 9.90749C6.21125 10.5886 6.10329 11.284 6.06001 11.985C6.09701 12.663 6.20451 13.3285 6.38251 13.9815L3.00001 16.674C1.52701 13.596 1.50001 10.498 2.91901 7.37999Z",fill:"currentColor",className:"text-yellow-500"}),l.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M19.0275 19.935C17.9743 19.0062 16.8717 18.1349 15.7245 17.325C16.8745 16.513 17.5725 15.399 17.8185 13.983H12.183V10.0695C15.433 10.0425 18.6815 10.07 21.9285 10.152C22.5445 13.497 21.833 16.513 19.794 19.2C19.5516 19.4577 19.2947 19.703 19.0275 19.935Z",fill:"currentColor",className:"text-blue-500"}),l.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.38251 13.983C7.61251 17.04 9.86751 18.467 13.1475 18.264C14.0683 18.1574 14.951 17.8357 15.7245 17.325C16.8725 18.137 17.9735 19.007 19.0275 19.935C17.3575 21.4357 15.2282 22.3261 12.987 22.461C12.4778 22.5017 11.9662 22.5017 11.457 22.461C7.63901 22.011 4.82001 20.082 3.00001 16.674L6.38251 13.983Z",fill:"currentColor",className:"text-green-500"})]})})}function x5({className:e,...t}){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,...t,children:l.jsx("path",{d:"M15.5608 12.7042L8.14667 2H2V22H8.43833V11.2967L15.8533 22H22V2H15.5608V12.7042Z",fill:"currentColor",className:"text-lime-500"})})}function y5({className:e,...t}){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,...t,children:l.jsx("path",{d:"M12 3C17.8 3 22.501 6.664 22.501 11.185C22.501 15.705 17.8 19.369 12.001 19.369C11.4236 19.368 10.8468 19.3312 10.274 19.259L5.86598 22.142C5.36498 22.407 5.18798 22.378 5.39398 21.729L6.28598 18.051C3.40598 16.591 1.50098 14.061 1.50098 11.185C1.50098 6.665 6.20098 3 12.001 3M17.909 11.06L19.379 9.636C19.4638 9.54791 19.5111 9.43033 19.511 9.30804C19.5108 9.18575 19.4632 9.0683 19.3782 8.98041C19.2931 8.89252 19.1773 8.84107 19.0551 8.83689C18.9329 8.83271 18.8138 8.87613 18.723 8.958L16.795 10.824V9.282C16.795 9.15682 16.7452 9.03676 16.6567 8.94825C16.5682 8.85973 16.4482 8.81 16.323 8.81C16.1978 8.81 16.0777 8.85973 15.9892 8.94825C15.9007 9.03676 15.851 9.15682 15.851 9.282V11.839C15.8343 11.9121 15.8343 11.9879 15.851 12.061V13.5C15.851 13.6252 15.9007 13.7452 15.9892 13.8338C16.0777 13.9223 16.1978 13.972 16.323 13.972C16.4482 13.972 16.5682 13.9223 16.6567 13.8338C16.7452 13.7452 16.795 13.6252 16.795 13.5V12.137L17.222 11.724L18.65 13.757C18.6856 13.8078 18.7309 13.851 18.7833 13.8842C18.8357 13.9175 18.8941 13.9401 18.9552 13.9508C19.0163 13.9615 19.0789 13.96 19.1394 13.9465C19.1999 13.933 19.2572 13.9077 19.308 13.872C19.3587 13.8363 19.402 13.791 19.4352 13.7387C19.4685 13.6863 19.4911 13.6279 19.5018 13.5668C19.5124 13.5057 19.511 13.4431 19.4975 13.3826C19.4839 13.322 19.4586 13.2648 19.423 13.214L17.909 11.06ZM14.951 12.984H13.491V9.297C13.4854 9.17571 13.4333 9.06123 13.3455 8.97737C13.2576 8.89351 13.1409 8.84672 13.0195 8.84672C12.8981 8.84672 12.7813 8.89351 12.6935 8.97737C12.6057 9.06123 12.5536 9.17571 12.548 9.297V13.456C12.548 13.716 12.758 13.928 13.019 13.928H14.951C15.0762 13.928 15.1962 13.8783 15.2847 13.7898C15.3732 13.7012 15.423 13.5812 15.423 13.456C15.423 13.3308 15.3732 13.2108 15.2847 13.1222C15.1962 13.0337 15.0762 12.984 14.951 12.984ZM9.09398 11.893L9.78998 10.185L10.428 11.892L9.09398 11.893ZM11.617 12.38L11.619 12.364C11.6186 12.2451 11.5733 12.1308 11.492 12.044L10.446 9.244C10.4021 9.11057 10.3186 8.99369 10.2066 8.90899C10.0945 8.8243 9.95931 8.7758 9.81898 8.77C9.67774 8.76994 9.53979 8.81259 9.42325 8.89237C9.30671 8.97215 9.21702 9.08531 9.16598 9.217L7.50398 13.292C7.45664 13.4079 7.45727 13.5379 7.50575 13.6533C7.55423 13.7687 7.64658 13.8602 7.76248 13.9075C7.87838 13.9548 8.00834 13.9542 8.12376 13.9057C8.23919 13.8572 8.33064 13.7649 8.37798 13.649L8.70998 12.836H10.78L11.078 13.636C11.0983 13.6958 11.1304 13.7509 11.1724 13.7981C11.2145 13.8452 11.2655 13.8835 11.3226 13.9105C11.3796 13.9376 11.4416 13.9529 11.5047 13.9557C11.5678 13.9584 11.6308 13.9484 11.6899 13.9263C11.7491 13.9042 11.8032 13.8704 11.8491 13.8271C11.895 13.7837 11.9317 13.7315 11.9571 13.6737C11.9825 13.6158 11.996 13.5535 11.9968 13.4903C11.9977 13.4272 11.9858 13.3645 11.962 13.306L11.617 12.38ZM8.29398 9.302C8.29424 9.24003 8.28225 9.17861 8.25868 9.12129C8.23512 9.06397 8.20045 9.01188 8.15667 8.96801C8.1129 8.92414 8.06088 8.88936 8.00361 8.86568C7.94634 8.84199 7.88495 8.82987 7.82298 8.83H4.57798C4.45279 8.83 4.33274 8.87973 4.24422 8.96825C4.1557 9.05676 4.10598 9.17682 4.10598 9.302C4.10598 9.42718 4.1557 9.54724 4.24422 9.63575C4.33274 9.72427 4.45279 9.774 4.57798 9.774H5.73798V13.51C5.73798 13.6352 5.7877 13.7552 5.87622 13.8438C5.96474 13.9323 6.08479 13.982 6.20998 13.982C6.33516 13.982 6.45521 13.9323 6.54373 13.8438C6.63225 13.7552 6.68198 13.6352 6.68198 13.51V9.774H7.82198C7.88403 9.77426 7.94553 9.76224 8.00292 9.73861C8.0603 9.71498 8.11244 9.68023 8.15632 9.63634C8.2002 9.59246 8.23496 9.54032 8.25859 9.48294C8.28221 9.42555 8.29424 9.36406 8.29398 9.302Z",fill:"currentColor",className:"text-yellow-950"})})}const dI=["top","right","bottom","left"],rl=Math.min,ri=Math.max,em=Math.round,Qh=Math.floor,hs=e=>({x:e,y:e}),fI={left:"right",right:"left",bottom:"top",top:"bottom"},hI={start:"end",end:"start"};function Py(e,t,n){return ri(e,rl(t,n))}function Zs(e,t){return typeof e=="function"?e(t):e}function Qs(e){return e.split("-")[0]}function $u(e){return e.split("-")[1]}function nb(e){return e==="x"?"y":"x"}function rb(e){return e==="y"?"height":"width"}const pI=new Set(["top","bottom"]);function ls(e){return pI.has(Qs(e))?"y":"x"}function ib(e){return nb(ls(e))}function mI(e,t,n){n===void 0&&(n=!1);const r=$u(e),i=ib(e),s=rb(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(a=tm(a)),[a,tm(a)]}function gI(e){const t=tm(e);return[zy(e),t,zy(t)]}function zy(e){return e.replace(/start|end/g,t=>hI[t])}const ak=["left","right"],lk=["right","left"],xI=["top","bottom"],yI=["bottom","top"];function bI(e,t,n){switch(e){case"top":case"bottom":return n?t?lk:ak:t?ak:lk;case"left":case"right":return t?xI:yI;default:return[]}}function vI(e,t,n,r){const i=$u(e);let s=bI(Qs(e),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),t&&(s=s.concat(s.map(zy)))),s}function tm(e){return e.replace(/left|right|bottom|top/g,t=>fI[t])}function wI(e){return{top:0,right:0,bottom:0,left:0,...e}}function b5(e){return typeof e!="number"?wI(e):{top:e,right:e,bottom:e,left:e}}function nm(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function ok(e,t,n){let{reference:r,floating:i}=e;const s=ls(t),a=ib(t),u=rb(a),d=Qs(t),f=s==="y",p=r.x+r.width/2-i.width/2,m=r.y+r.height/2-i.height/2,x=r[u]/2-i[u]/2;let y;switch(d){case"top":y={x:p,y:r.y-i.height};break;case"bottom":y={x:p,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:m};break;case"left":y={x:r.x-i.width,y:m};break;default:y={x:r.x,y:r.y}}switch($u(t)){case"start":y[a]-=x*(n&&f?-1:1);break;case"end":y[a]+=x*(n&&f?-1:1);break}return y}const kI=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,u=s.filter(Boolean),d=await(a.isRTL==null?void 0:a.isRTL(t));let f=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:p,y:m}=ok(f,r,d),x=r,y={},v=0;for(let k=0;k<u.length;k++){const{name:j,fn:C}=u[k],{x:N,y:A,data:z,reset:I}=await C({x:p,y:m,initialPlacement:r,placement:x,strategy:i,middlewareData:y,rects:f,platform:a,elements:{reference:e,floating:t}});p=N??p,m=A??m,y={...y,[j]:{...y[j],...z}},I&&v<=50&&(v++,typeof I=="object"&&(I.placement&&(x=I.placement),I.rects&&(f=I.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):I.rects),{x:p,y:m}=ok(f,x,d)),k=-1)}return{x:p,y:m,placement:x,strategy:i,middlewareData:y}};async function Fd(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:a,elements:u,strategy:d}=e,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:m="floating",altBoundary:x=!1,padding:y=0}=Zs(t,e),v=b5(y),j=u[x?m==="floating"?"reference":"floating":m],C=nm(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(j)))==null||n?j:j.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(u.floating)),boundary:f,rootBoundary:p,strategy:d})),N=m==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u.floating)),z=await(s.isElement==null?void 0:s.isElement(A))?await(s.getScale==null?void 0:s.getScale(A))||{x:1,y:1}:{x:1,y:1},I=nm(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:N,offsetParent:A,strategy:d}):N);return{top:(C.top-I.top+v.top)/z.y,bottom:(I.bottom-C.bottom+v.bottom)/z.y,left:(C.left-I.left+v.left)/z.x,right:(I.right-C.right+v.right)/z.x}}const SI=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:a,elements:u,middlewareData:d}=t,{element:f,padding:p=0}=Zs(e,t)||{};if(f==null)return{};const m=b5(p),x={x:n,y:r},y=ib(i),v=rb(y),k=await a.getDimensions(f),j=y==="y",C=j?"top":"left",N=j?"bottom":"right",A=j?"clientHeight":"clientWidth",z=s.reference[v]+s.reference[y]-x[y]-s.floating[v],I=x[y]-s.reference[y],T=await(a.getOffsetParent==null?void 0:a.getOffsetParent(f));let E=T?T[A]:0;(!E||!await(a.isElement==null?void 0:a.isElement(T)))&&(E=u.floating[A]||s.floating[v]);const M=z/2-I/2,L=E/2-k[v]/2-1,D=rl(m[C],L),V=rl(m[N],L),K=D,J=E-k[v]-V,Z=E/2-k[v]/2+M,q=Py(K,Z,J),F=!d.arrow&&$u(i)!=null&&Z!==q&&s.reference[v]/2-(Z<K?D:V)-k[v]/2<0,W=F?Z<K?Z-K:Z-J:0;return{[y]:x[y]+W,data:{[y]:q,centerOffset:Z-q-W,...F&&{alignmentOffset:W}},reset:F}}}),CI=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:u,platform:d,elements:f}=t,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:x,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:k=!0,...j}=Zs(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const C=Qs(i),N=ls(u),A=Qs(u)===u,z=await(d.isRTL==null?void 0:d.isRTL(f.floating)),I=x||(A||!k?[tm(u)]:gI(u)),T=v!=="none";!x&&T&&I.push(...vI(u,k,v,z));const E=[u,...I],M=await Fd(t,j),L=[];let D=((r=s.flip)==null?void 0:r.overflows)||[];if(p&&L.push(M[C]),m){const Z=mI(i,a,z);L.push(M[Z[0]],M[Z[1]])}if(D=[...D,{placement:i,overflows:L}],!L.every(Z=>Z<=0)){var V,K;const Z=(((V=s.flip)==null?void 0:V.index)||0)+1,q=E[Z];if(q&&(!(m==="alignment"?N!==ls(q):!1)||D.every(R=>ls(R.placement)===N?R.overflows[0]>0:!0)))return{data:{index:Z,overflows:D},reset:{placement:q}};let F=(K=D.filter(W=>W.overflows[0]<=0).sort((W,R)=>W.overflows[1]-R.overflows[1])[0])==null?void 0:K.placement;if(!F)switch(y){case"bestFit":{var J;const W=(J=D.filter(R=>{if(T){const U=ls(R.placement);return U===N||U==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(U=>U>0).reduce((U,_)=>U+_,0)]).sort((R,U)=>R[1]-U[1])[0])==null?void 0:J[0];W&&(F=W);break}case"initialPlacement":F=u;break}if(i!==F)return{reset:{placement:F}}}return{}}}};function uk(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ck(e){return dI.some(t=>e[t]>=0)}const jI=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Zs(e,t);switch(r){case"referenceHidden":{const s=await Fd(t,{...i,elementContext:"reference"}),a=uk(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:ck(a)}}}case"escaped":{const s=await Fd(t,{...i,altBoundary:!0}),a=uk(s,n.floating);return{data:{escapedOffsets:a,escaped:ck(a)}}}default:return{}}}}},v5=new Set(["left","top"]);async function _I(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=Qs(n),u=$u(n),d=ls(n)==="y",f=v5.has(a)?-1:1,p=s&&d?-1:1,m=Zs(t,e);let{mainAxis:x,crossAxis:y,alignmentAxis:v}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return u&&typeof v=="number"&&(y=u==="end"?v*-1:v),d?{x:y*p,y:x*f}:{x:x*f,y:y*p}}const NI=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:a,middlewareData:u}=t,d=await _I(t,e);return a===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:i+d.x,y:s+d.y,data:{...d,placement:a}}}}},EI=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:a=!1,limiter:u={fn:j=>{let{x:C,y:N}=j;return{x:C,y:N}}},...d}=Zs(e,t),f={x:n,y:r},p=await Fd(t,d),m=ls(Qs(i)),x=nb(m);let y=f[x],v=f[m];if(s){const j=x==="y"?"top":"left",C=x==="y"?"bottom":"right",N=y+p[j],A=y-p[C];y=Py(N,y,A)}if(a){const j=m==="y"?"top":"left",C=m==="y"?"bottom":"right",N=v+p[j],A=v-p[C];v=Py(N,v,A)}const k=u.fn({...t,[x]:y,[m]:v});return{...k,data:{x:k.x-n,y:k.y-r,enabled:{[x]:s,[m]:a}}}}}},AI=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=t,{offset:u=0,mainAxis:d=!0,crossAxis:f=!0}=Zs(e,t),p={x:n,y:r},m=ls(i),x=nb(m);let y=p[x],v=p[m];const k=Zs(u,t),j=typeof k=="number"?{mainAxis:k,crossAxis:0}:{mainAxis:0,crossAxis:0,...k};if(d){const A=x==="y"?"height":"width",z=s.reference[x]-s.floating[A]+j.mainAxis,I=s.reference[x]+s.reference[A]-j.mainAxis;y<z?y=z:y>I&&(y=I)}if(f){var C,N;const A=x==="y"?"width":"height",z=v5.has(Qs(i)),I=s.reference[m]-s.floating[A]+(z&&((C=a.offset)==null?void 0:C[m])||0)+(z?0:j.crossAxis),T=s.reference[m]+s.reference[A]+(z?0:((N=a.offset)==null?void 0:N[m])||0)-(z?j.crossAxis:0);v<I?v=I:v>T&&(v=T)}return{[x]:y,[m]:v}}}},DI=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:s,platform:a,elements:u}=t,{apply:d=()=>{},...f}=Zs(e,t),p=await Fd(t,f),m=Qs(i),x=$u(i),y=ls(i)==="y",{width:v,height:k}=s.floating;let j,C;m==="top"||m==="bottom"?(j=m,C=x===(await(a.isRTL==null?void 0:a.isRTL(u.floating))?"start":"end")?"left":"right"):(C=m,j=x==="end"?"top":"bottom");const N=k-p.top-p.bottom,A=v-p.left-p.right,z=rl(k-p[j],N),I=rl(v-p[C],A),T=!t.middlewareData.shift;let E=z,M=I;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(M=A),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(E=N),T&&!x){const D=ri(p.left,0),V=ri(p.right,0),K=ri(p.top,0),J=ri(p.bottom,0);y?M=v-2*(D!==0||V!==0?D+V:ri(p.left,p.right)):E=k-2*(K!==0||J!==0?K+J:ri(p.top,p.bottom))}await d({...t,availableWidth:M,availableHeight:E});const L=await a.getDimensions(u.floating);return v!==L.width||k!==L.height?{reset:{rects:!0}}:{}}}};function Hm(){return typeof window<"u"}function Hu(e){return w5(e)?(e.nodeName||"").toLowerCase():"#document"}function ai(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ks(e){var t;return(t=(w5(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function w5(e){return Hm()?e instanceof Node||e instanceof ai(e).Node:!1}function Hi(e){return Hm()?e instanceof Element||e instanceof ai(e).Element:!1}function xs(e){return Hm()?e instanceof HTMLElement||e instanceof ai(e).HTMLElement:!1}function dk(e){return!Hm()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ai(e).ShadowRoot}const TI=new Set(["inline","contents"]);function pf(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Ui(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!TI.has(i)}const MI=new Set(["table","td","th"]);function OI(e){return MI.has(Hu(e))}const RI=[":popover-open",":modal"];function Um(e){return RI.some(t=>{try{return e.matches(t)}catch{return!1}})}const LI=["transform","translate","scale","rotate","perspective"],PI=["transform","translate","scale","rotate","perspective","filter"],zI=["paint","layout","strict","content"];function sb(e){const t=ab(),n=Hi(e)?Ui(e):e;return LI.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||PI.some(r=>(n.willChange||"").includes(r))||zI.some(r=>(n.contain||"").includes(r))}function II(e){let t=il(e);for(;xs(t)&&!Cu(t);){if(sb(t))return t;if(Um(t))return null;t=il(t)}return null}function ab(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const FI=new Set(["html","body","#document"]);function Cu(e){return FI.has(Hu(e))}function Ui(e){return ai(e).getComputedStyle(e)}function Vm(e){return Hi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function il(e){if(Hu(e)==="html")return e;const t=e.assignedSlot||e.parentNode||dk(e)&&e.host||ks(e);return dk(t)?t.host:t}function k5(e){const t=il(e);return Cu(t)?e.ownerDocument?e.ownerDocument.body:e.body:xs(t)&&pf(t)?t:k5(t)}function Bd(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=k5(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),a=ai(i);if(s){const u=Iy(a);return t.concat(a,a.visualViewport||[],pf(i)?i:[],u&&n?Bd(u):[])}return t.concat(i,Bd(i,[],n))}function Iy(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function S5(e){const t=Ui(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=xs(e),s=i?e.offsetWidth:n,a=i?e.offsetHeight:r,u=em(n)!==s||em(r)!==a;return u&&(n=s,r=a),{width:n,height:r,$:u}}function lb(e){return Hi(e)?e:e.contextElement}function gu(e){const t=lb(e);if(!xs(t))return hs(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=S5(t);let a=(s?em(n.width):n.width)/r,u=(s?em(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!u||!Number.isFinite(u))&&(u=1),{x:a,y:u}}const BI=hs(0);function C5(e){const t=ai(e);return!ab()||!t.visualViewport?BI:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function $I(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ai(e)?!1:t}function Zl(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=lb(e);let a=hs(1);t&&(r?Hi(r)&&(a=gu(r)):a=gu(e));const u=$I(s,n,r)?C5(s):hs(0);let d=(i.left+u.x)/a.x,f=(i.top+u.y)/a.y,p=i.width/a.x,m=i.height/a.y;if(s){const x=ai(s),y=r&&Hi(r)?ai(r):r;let v=x,k=Iy(v);for(;k&&r&&y!==v;){const j=gu(k),C=k.getBoundingClientRect(),N=Ui(k),A=C.left+(k.clientLeft+parseFloat(N.paddingLeft))*j.x,z=C.top+(k.clientTop+parseFloat(N.paddingTop))*j.y;d*=j.x,f*=j.y,p*=j.x,m*=j.y,d+=A,f+=z,v=ai(k),k=Iy(v)}}return nm({width:p,height:m,x:d,y:f})}function ob(e,t){const n=Vm(e).scrollLeft;return t?t.left+n:Zl(ks(e)).left+n}function j5(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:ob(e,r)),s=r.top+t.scrollTop;return{x:i,y:s}}function HI(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",a=ks(r),u=t?Um(t.floating):!1;if(r===a||u&&s)return n;let d={scrollLeft:0,scrollTop:0},f=hs(1);const p=hs(0),m=xs(r);if((m||!m&&!s)&&((Hu(r)!=="body"||pf(a))&&(d=Vm(r)),xs(r))){const y=Zl(r);f=gu(r),p.x=y.x+r.clientLeft,p.y=y.y+r.clientTop}const x=a&&!m&&!s?j5(a,d,!0):hs(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-d.scrollLeft*f.x+p.x+x.x,y:n.y*f.y-d.scrollTop*f.y+p.y+x.y}}function UI(e){return Array.from(e.getClientRects())}function VI(e){const t=ks(e),n=Vm(e),r=e.ownerDocument.body,i=ri(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=ri(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+ob(e);const u=-n.scrollTop;return Ui(r).direction==="rtl"&&(a+=ri(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:u}}function qI(e,t){const n=ai(e),r=ks(e),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,u=0,d=0;if(i){s=i.width,a=i.height;const f=ab();(!f||f&&t==="fixed")&&(u=i.offsetLeft,d=i.offsetTop)}return{width:s,height:a,x:u,y:d}}const GI=new Set(["absolute","fixed"]);function WI(e,t){const n=Zl(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=xs(e)?gu(e):hs(1),a=e.clientWidth*s.x,u=e.clientHeight*s.y,d=i*s.x,f=r*s.y;return{width:a,height:u,x:d,y:f}}function fk(e,t,n){let r;if(t==="viewport")r=qI(e,n);else if(t==="document")r=VI(ks(e));else if(Hi(t))r=WI(t,n);else{const i=C5(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return nm(r)}function _5(e,t){const n=il(e);return n===t||!Hi(n)||Cu(n)?!1:Ui(n).position==="fixed"||_5(n,t)}function YI(e,t){const n=t.get(e);if(n)return n;let r=Bd(e,[],!1).filter(u=>Hi(u)&&Hu(u)!=="body"),i=null;const s=Ui(e).position==="fixed";let a=s?il(e):e;for(;Hi(a)&&!Cu(a);){const u=Ui(a),d=sb(a);!d&&u.position==="fixed"&&(i=null),(s?!d&&!i:!d&&u.position==="static"&&!!i&&GI.has(i.position)||pf(a)&&!d&&_5(e,a))?r=r.filter(p=>p!==a):i=u,a=il(a)}return t.set(e,r),r}function KI(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[...n==="clippingAncestors"?Um(t)?[]:YI(t,this._c):[].concat(n),r],u=a[0],d=a.reduce((f,p)=>{const m=fk(t,p,i);return f.top=ri(m.top,f.top),f.right=rl(m.right,f.right),f.bottom=rl(m.bottom,f.bottom),f.left=ri(m.left,f.left),f},fk(t,u,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function JI(e){const{width:t,height:n}=S5(e);return{width:t,height:n}}function XI(e,t,n){const r=xs(t),i=ks(t),s=n==="fixed",a=Zl(e,!0,s,t);let u={scrollLeft:0,scrollTop:0};const d=hs(0);function f(){d.x=ob(i)}if(r||!r&&!s)if((Hu(t)!=="body"||pf(i))&&(u=Vm(t)),r){const y=Zl(t,!0,s,t);d.x=y.x+t.clientLeft,d.y=y.y+t.clientTop}else i&&f();s&&!r&&i&&f();const p=i&&!r&&!s?j5(i,u):hs(0),m=a.left+u.scrollLeft-d.x-p.x,x=a.top+u.scrollTop-d.y-p.y;return{x:m,y:x,width:a.width,height:a.height}}function ex(e){return Ui(e).position==="static"}function hk(e,t){if(!xs(e)||Ui(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ks(e)===n&&(n=n.ownerDocument.body),n}function N5(e,t){const n=ai(e);if(Um(e))return n;if(!xs(e)){let i=il(e);for(;i&&!Cu(i);){if(Hi(i)&&!ex(i))return i;i=il(i)}return n}let r=hk(e,t);for(;r&&OI(r)&&ex(r);)r=hk(r,t);return r&&Cu(r)&&ex(r)&&!sb(r)?n:r||II(e)||n}const ZI=async function(e){const t=this.getOffsetParent||N5,n=this.getDimensions,r=await n(e.floating);return{reference:XI(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function QI(e){return Ui(e).direction==="rtl"}const eF={convertOffsetParentRelativeRectToViewportRelativeRect:HI,getDocumentElement:ks,getClippingRect:KI,getOffsetParent:N5,getElementRects:ZI,getClientRects:UI,getDimensions:JI,getScale:gu,isElement:Hi,isRTL:QI};function E5(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function tF(e,t){let n=null,r;const i=ks(e);function s(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function a(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),s();const f=e.getBoundingClientRect(),{left:p,top:m,width:x,height:y}=f;if(u||t(),!x||!y)return;const v=Qh(m),k=Qh(i.clientWidth-(p+x)),j=Qh(i.clientHeight-(m+y)),C=Qh(p),A={rootMargin:-v+"px "+-k+"px "+-j+"px "+-C+"px",threshold:ri(0,rl(1,d))||1};let z=!0;function I(T){const E=T[0].intersectionRatio;if(E!==d){if(!z)return a();E?a(!1,E):r=setTimeout(()=>{a(!1,1e-7)},1e3)}E===1&&!E5(f,e.getBoundingClientRect())&&a(),z=!1}try{n=new IntersectionObserver(I,{...A,root:i.ownerDocument})}catch{n=new IntersectionObserver(I,A)}n.observe(e)}return a(!0),s}function nF(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,f=lb(e),p=i||s?[...f?Bd(f):[],...Bd(t)]:[];p.forEach(C=>{i&&C.addEventListener("scroll",n,{passive:!0}),s&&C.addEventListener("resize",n)});const m=f&&u?tF(f,n):null;let x=-1,y=null;a&&(y=new ResizeObserver(C=>{let[N]=C;N&&N.target===f&&y&&(y.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var A;(A=y)==null||A.observe(t)})),n()}),f&&!d&&y.observe(f),y.observe(t));let v,k=d?Zl(e):null;d&&j();function j(){const C=Zl(e);k&&!E5(k,C)&&n(),k=C,v=requestAnimationFrame(j)}return n(),()=>{var C;p.forEach(N=>{i&&N.removeEventListener("scroll",n),s&&N.removeEventListener("resize",n)}),m?.(),(C=y)==null||C.disconnect(),y=null,d&&cancelAnimationFrame(v)}}const rF=NI,iF=EI,sF=CI,aF=DI,lF=jI,pk=SI,oF=AI,uF=(e,t,n)=>{const r=new Map,i={platform:eF,...n},s={...i.platform,_c:r};return kI(e,t,{...i,platform:s})};var cF=typeof document<"u",dF=function(){},Pp=cF?b.useLayoutEffect:dF;function rm(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!rm(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!rm(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function A5(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function mk(e,t){const n=A5(e);return Math.round(t*n)/n}function tx(e){const t=b.useRef(e);return Pp(()=>{t.current=e}),t}function fF(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:u=!0,whileElementsMounted:d,open:f}=e,[p,m]=b.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[x,y]=b.useState(r);rm(x,r)||y(r);const[v,k]=b.useState(null),[j,C]=b.useState(null),N=b.useCallback(R=>{R!==T.current&&(T.current=R,k(R))},[]),A=b.useCallback(R=>{R!==E.current&&(E.current=R,C(R))},[]),z=s||v,I=a||j,T=b.useRef(null),E=b.useRef(null),M=b.useRef(p),L=d!=null,D=tx(d),V=tx(i),K=tx(f),J=b.useCallback(()=>{if(!T.current||!E.current)return;const R={placement:t,strategy:n,middleware:x};V.current&&(R.platform=V.current),uF(T.current,E.current,R).then(U=>{const _={...U,isPositioned:K.current!==!1};Z.current&&!rm(M.current,_)&&(M.current=_,zu.flushSync(()=>{m(_)}))})},[x,t,n,V,K]);Pp(()=>{f===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,m(R=>({...R,isPositioned:!1})))},[f]);const Z=b.useRef(!1);Pp(()=>(Z.current=!0,()=>{Z.current=!1}),[]),Pp(()=>{if(z&&(T.current=z),I&&(E.current=I),z&&I){if(D.current)return D.current(z,I,J);J()}},[z,I,J,D,L]);const q=b.useMemo(()=>({reference:T,floating:E,setReference:N,setFloating:A}),[N,A]),F=b.useMemo(()=>({reference:z,floating:I}),[z,I]),W=b.useMemo(()=>{const R={position:n,left:0,top:0};if(!F.floating)return R;const U=mk(F.floating,p.x),_=mk(F.floating,p.y);return u?{...R,transform:"translate("+U+"px, "+_+"px)",...A5(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:_}},[n,u,F.floating,p.x,p.y]);return b.useMemo(()=>({...p,update:J,refs:q,elements:F,floatingStyles:W}),[p,J,q,F,W])}const hF=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?pk({element:r.current,padding:i}).fn(n):{}:r?pk({element:r,padding:i}).fn(n):{}}}},pF=(e,t)=>({...rF(e),options:[e,t]}),mF=(e,t)=>({...iF(e),options:[e,t]}),gF=(e,t)=>({...oF(e),options:[e,t]}),xF=(e,t)=>({...sF(e),options:[e,t]}),yF=(e,t)=>({...aF(e),options:[e,t]}),bF=(e,t)=>({...lF(e),options:[e,t]}),vF=(e,t)=>({...hF(e),options:[e,t]});var wF="Arrow",D5=b.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...s}=e;return l.jsx(St.svg,{...s,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});D5.displayName=wF;var kF=D5,ub="Popper",[T5,Ss]=ci(ub),[SF,M5]=T5(ub),O5=e=>{const{__scopePopper:t,children:n}=e,[r,i]=b.useState(null);return l.jsx(SF,{scope:t,anchor:r,onAnchorChange:i,children:n})};O5.displayName=ub;var R5="PopperAnchor",L5=b.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,s=M5(R5,n),a=b.useRef(null),u=At(t,a);return b.useEffect(()=>{s.onAnchorChange(r?.current||a.current)}),r?null:l.jsx(St.div,{...i,ref:u})});L5.displayName=R5;var cb="PopperContent",[CF,jF]=T5(cb),P5=b.forwardRef((e,t)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:p=0,sticky:m="partial",hideWhenDetached:x=!1,updatePositionStrategy:y="optimized",onPlaced:v,...k}=e,j=M5(cb,n),[C,N]=b.useState(null),A=At(t,ae=>N(ae)),[z,I]=b.useState(null),T=Bm(z),E=T?.width??0,M=T?.height??0,L=r+(s!=="center"?"-"+s:""),D=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},V=Array.isArray(f)?f:[f],K=V.length>0,J={padding:D,boundary:V.filter(NF),altBoundary:K},{refs:Z,floatingStyles:q,placement:F,isPositioned:W,middlewareData:R}=fF({strategy:"fixed",placement:L,whileElementsMounted:(...ae)=>nF(...ae,{animationFrame:y==="always"}),elements:{reference:j.anchor},middleware:[pF({mainAxis:i+M,alignmentAxis:a}),d&&mF({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?gF():void 0,...J}),d&&xF({...J}),yF({...J,apply:({elements:ae,rects:ke,availableWidth:Ge,availableHeight:He})=>{const{width:Me,height:ze}=ke.reference,ft=ae.floating.style;ft.setProperty("--radix-popper-available-width",`${Ge}px`),ft.setProperty("--radix-popper-available-height",`${He}px`),ft.setProperty("--radix-popper-anchor-width",`${Me}px`),ft.setProperty("--radix-popper-anchor-height",`${ze}px`)}}),z&&vF({element:z,padding:u}),EF({arrowWidth:E,arrowHeight:M}),x&&bF({strategy:"referenceHidden",...J})]}),[U,_]=F5(F),Q=gs(v);jr(()=>{W&&Q?.()},[W,Q]);const G=R.arrow?.x,P=R.arrow?.y,ie=R.arrow?.centerOffset!==0,[H,te]=b.useState();return jr(()=>{C&&te(window.getComputedStyle(C).zIndex)},[C]),l.jsx("div",{ref:Z.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:W?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:H,"--radix-popper-transform-origin":[R.transformOrigin?.x,R.transformOrigin?.y].join(" "),...R.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(CF,{scope:n,placedSide:U,onArrowChange:I,arrowX:G,arrowY:P,shouldHideArrow:ie,children:l.jsx(St.div,{"data-side":U,"data-align":_,...k,ref:A,style:{...k.style,animation:W?void 0:"none"}})})})});P5.displayName=cb;var z5="PopperArrow",_F={top:"bottom",right:"left",bottom:"top",left:"right"},I5=b.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,s=jF(z5,r),a=_F[s.placedSide];return l.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:l.jsx(kF,{...i,ref:n,style:{...i.style,display:"block"}})})});I5.displayName=z5;function NF(e){return e!==null}var EF=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:i}=t,a=i.arrow?.centerOffset!==0,u=a?0:e.arrowWidth,d=a?0:e.arrowHeight,[f,p]=F5(n),m={start:"0%",center:"50%",end:"100%"}[p],x=(i.arrow?.x??0)+u/2,y=(i.arrow?.y??0)+d/2;let v="",k="";return f==="bottom"?(v=a?m:`${x}px`,k=`${-d}px`):f==="top"?(v=a?m:`${x}px`,k=`${r.floating.height+d}px`):f==="right"?(v=`${-d}px`,k=a?m:`${y}px`):f==="left"&&(v=`${r.floating.width+d}px`,k=a?m:`${y}px`),{data:{x:v,y:k}}}});function F5(e){const[t,n="center"]=e.split("-");return[t,n]}var mf=O5,Uu=L5,gf=P5,xf=I5,B5=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),AF="VisuallyHidden",$5=b.forwardRef((e,t)=>l.jsx(St.span,{...e,ref:t,style:{...B5,...e.style}}));$5.displayName=AF;var DF=$5,[qm,Yle]=ci("Tooltip",[Ss]),Gm=Ss(),H5="TooltipProvider",TF=700,Fy="tooltip.open",[MF,db]=qm(H5),U5=e=>{const{__scopeTooltip:t,delayDuration:n=TF,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=e,a=b.useRef(!0),u=b.useRef(!1),d=b.useRef(0);return b.useEffect(()=>{const f=d.current;return()=>window.clearTimeout(f)},[]),l.jsx(MF,{scope:t,isOpenDelayedRef:a,delayDuration:n,onOpen:b.useCallback(()=>{window.clearTimeout(d.current),a.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:u,onPointerInTransitChange:b.useCallback(f=>{u.current=f},[]),disableHoverableContent:i,children:s})};U5.displayName=H5;var $d="Tooltip",[OF,yf]=qm($d),V5=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:i,onOpenChange:s,disableHoverableContent:a,delayDuration:u}=e,d=db($d,e.__scopeTooltip),f=Gm(t),[p,m]=b.useState(null),x=Fi(),y=b.useRef(0),v=a??d.disableHoverableContent,k=u??d.delayDuration,j=b.useRef(!1),[C,N]=$i({prop:r,defaultProp:i??!1,onChange:E=>{E?(d.onOpen(),document.dispatchEvent(new CustomEvent(Fy))):d.onClose(),s?.(E)},caller:$d}),A=b.useMemo(()=>C?j.current?"delayed-open":"instant-open":"closed",[C]),z=b.useCallback(()=>{window.clearTimeout(y.current),y.current=0,j.current=!1,N(!0)},[N]),I=b.useCallback(()=>{window.clearTimeout(y.current),y.current=0,N(!1)},[N]),T=b.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{j.current=!0,N(!0),y.current=0},k)},[k,N]);return b.useEffect(()=>()=>{y.current&&(window.clearTimeout(y.current),y.current=0)},[]),l.jsx(mf,{...f,children:l.jsx(OF,{scope:t,contentId:x,open:C,stateAttribute:A,trigger:p,onTriggerChange:m,onTriggerEnter:b.useCallback(()=>{d.isOpenDelayedRef.current?T():z()},[d.isOpenDelayedRef,T,z]),onTriggerLeave:b.useCallback(()=>{v?I():(window.clearTimeout(y.current),y.current=0)},[I,v]),onOpen:z,onClose:I,disableHoverableContent:v,children:n})})};V5.displayName=$d;var By="TooltipTrigger",q5=b.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=yf(By,n),s=db(By,n),a=Gm(n),u=b.useRef(null),d=At(t,u,i.onTriggerChange),f=b.useRef(!1),p=b.useRef(!1),m=b.useCallback(()=>f.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),l.jsx(Uu,{asChild:!0,...a,children:l.jsx(St.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:d,onPointerMove:Pe(e.onPointerMove,x=>{x.pointerType!=="touch"&&!p.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),p.current=!0)}),onPointerLeave:Pe(e.onPointerLeave,()=>{i.onTriggerLeave(),p.current=!1}),onPointerDown:Pe(e.onPointerDown,()=>{i.open&&i.onClose(),f.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:Pe(e.onFocus,()=>{f.current||i.onOpen()}),onBlur:Pe(e.onBlur,i.onClose),onClick:Pe(e.onClick,i.onClose)})})});q5.displayName=By;var fb="TooltipPortal",[RF,LF]=qm(fb,{forceMount:void 0}),G5=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:i}=e,s=yf(fb,t);return l.jsx(RF,{scope:t,forceMount:n,children:l.jsx(Ir,{present:n||s.open,children:l.jsx(uo,{asChild:!0,container:i,children:r})})})};G5.displayName=fb;var ju="TooltipContent",W5=b.forwardRef((e,t)=>{const n=LF(ju,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=e,a=yf(ju,e.__scopeTooltip);return l.jsx(Ir,{present:r||a.open,children:a.disableHoverableContent?l.jsx(Y5,{side:i,...s,ref:t}):l.jsx(PF,{side:i,...s,ref:t})})}),PF=b.forwardRef((e,t)=>{const n=yf(ju,e.__scopeTooltip),r=db(ju,e.__scopeTooltip),i=b.useRef(null),s=At(t,i),[a,u]=b.useState(null),{trigger:d,onClose:f}=n,p=i.current,{onPointerInTransitChange:m}=r,x=b.useCallback(()=>{u(null),m(!1)},[m]),y=b.useCallback((v,k)=>{const j=v.currentTarget,C={x:v.clientX,y:v.clientY},N=BF(C,j.getBoundingClientRect()),A=$F(C,N),z=HF(k.getBoundingClientRect()),I=VF([...A,...z]);u(I),m(!0)},[m]);return b.useEffect(()=>()=>x(),[x]),b.useEffect(()=>{if(d&&p){const v=j=>y(j,p),k=j=>y(j,d);return d.addEventListener("pointerleave",v),p.addEventListener("pointerleave",k),()=>{d.removeEventListener("pointerleave",v),p.removeEventListener("pointerleave",k)}}},[d,p,y,x]),b.useEffect(()=>{if(a){const v=k=>{const j=k.target,C={x:k.clientX,y:k.clientY},N=d?.contains(j)||p?.contains(j),A=!UF(C,a);N?x():A&&(x(),f())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[d,p,a,f,x]),l.jsx(Y5,{...e,ref:s})}),[zF,IF]=qm($d,{isInside:!1}),FF=HL("TooltipContent"),Y5=b.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...u}=e,d=yf(ju,n),f=Gm(n),{onClose:p}=d;return b.useEffect(()=>(document.addEventListener(Fy,p),()=>document.removeEventListener(Fy,p)),[p]),b.useEffect(()=>{if(d.trigger){const m=x=>{x.target?.contains(d.trigger)&&p()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[d.trigger,p]),l.jsx(oo,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:m=>m.preventDefault(),onDismiss:p,children:l.jsxs(gf,{"data-state":d.stateAttribute,...f,...u,ref:t,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(FF,{children:r}),l.jsx(zF,{scope:n,isInside:!0,children:l.jsx(DF,{id:d.contentId,role:"tooltip",children:i||r})})]})})});W5.displayName=ju;var K5="TooltipArrow",J5=b.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=Gm(n);return IF(K5,n).isInside?null:l.jsx(xf,{...i,...r,ref:t})});J5.displayName=K5;function BF(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function $F(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function HF(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function UF(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,a=t.length-1;s<t.length;a=s++){const u=t[s],d=t[a],f=u.x,p=u.y,m=d.x,x=d.y;p>r!=x>r&&n<(m-f)*(r-p)/(x-p)+f&&(i=!i)}return i}function VF(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),qF(t)}function qF(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const s=t[t.length-1],a=t[t.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const s=n[n.length-1],a=n[n.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var GF=U5,WF=V5,YF=q5,KF=G5,JF=W5,XF=J5;function zp({delayDuration:e=0,...t}){return l.jsx(GF,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function nx({...e}){return l.jsx(zp,{children:l.jsx(WF,{"data-slot":"tooltip",...e})})}function rx({...e}){return l.jsx(YF,{"data-slot":"tooltip-trigger",...e})}function ix({className:e,sideOffset:t=0,children:n,...r}){return l.jsx(KF,{children:l.jsxs(JF,{"data-slot":"tooltip-content",sideOffset:t,className:Ae("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...r,children:[n,l.jsx(XF,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const ns="http://localhost:3001/auth";function ZF({open:e,onOpenChange:t}){const n=ea(),[r,i]=b.useState("login"),[s,a]=b.useState(!1),[u,d]=b.useState(null),[f,p]=b.useState(""),[m,x]=b.useState(""),[y,v]=b.useState(""),[k,j]=b.useState(""),[C,N]=b.useState(""),[A,z]=b.useState(""),[I,T]=b.useState(""),[E,M]=b.useState(!1),[L,D]=b.useState(!1),V=b.useRef(null);b.useEffect(()=>{e||setTimeout(()=>{i("login"),p(""),x(""),v(""),j(""),N(""),z(""),T(""),M(!1),D(!1),d(null)},300)},[e]),b.useEffect(()=>{r==="password_input"&&e&&setTimeout(()=>{V.current?.focus()},100)},[r,e]);const K=H=>{const te=/[a-zA-Z]/.test(H),ae=/\d/.test(H),ke=/[!@#$%^&*(),.?":{}|<>]/.test(H),Ge=H.length>=8;return te&&ae&&ke&&Ge},J=H=>{if(!H)return null;const te=/[a-zA-Z]/.test(H),ae=/\d/.test(H),ke=/[!@#$%^&*(),.?":{}|<>]/.test(H);return H.length>=8?te&&ae&&ke?l.jsx("p",{className:"text-xs text-green-600 font-medium mt-1",children:" !    ."}):te&&ae?l.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"     ."}):te&&ke?l.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"    ."}):ae&&ke?l.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"    ."}):ae?l.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"     ."}):te?l.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"     ."}):l.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"     ."}):l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"  8  ."})},Z=()=>C?k!==C?l.jsx("p",{className:"text-xs text-destructive mt-1",children:"   ."}):l.jsx("p",{className:"text-xs text-green-600 font-medium mt-1",children:"  ."}):null,q=async()=>{if(!f){d(" .");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(f)){d("  .   ");return}a(!0),d(null);try{const te=await fetch(`${ns}/check-email`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:f})}),ae=await te.json();if(!te.ok)throw new Error(ae.message||"  ");if(ae.exists)i("password_input");else{const ke=await fetch(`${ns}/send-verification-code`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:f})}),Ge=await ke.json();if(!ke.ok)throw new Error(Ge.message||"  ");i("verification")}}catch(te){te instanceof Error?d(te.message):d("    .")}finally{a(!1)}},F=async()=>{a(!0),d(null);try{const H=await fetch(`${ns}/send-verification-code`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:f})}),te=await H.json();if(!H.ok)throw new Error(te.message||"  ");alert(" .")}catch(H){H instanceof Error?d(H.message):d("    .")}finally{a(!1)}},W=async()=>{if(m.length!==6){d(" 6 .");return}a(!0),d(null);try{const H=await fetch(`${ns}/verify-code`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:f,code:m})}),te=await H.json();if(!H.ok)throw new Error(te.message||"  ");te.isExistingUser&&alert("  .   ."),i("info")}catch(H){H instanceof Error?d(H.message):d("    .")}finally{a(!1)}},R=async()=>{if(!y||!k||!C){d("  .");return}if(!K(k)){d("  .");return}if(k!==C){d("  .");return}if(!E||!L){d(" .");return}a(!0),d(null);try{const H=await fetch(`${ns}/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:f,password:k,name:y})}),te=await H.json();if(!H.ok)throw new Error(te.message||" ");te.token&&localStorage.setItem("token",te.token),i("completion")}catch(H){H instanceof Error?d(H.message):d("    .")}finally{a(!1)}},U=async()=>{a(!0),d(null);try{const H=await fetch(`${ns}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:f,password:k})}),te=await H.json();if(H.ok&&te.token){const ae=Date.now()+36e5;localStorage.setItem("token",te.token),localStorage.setItem("token_expires_at",ae.toString()),localStorage.setItem("user_email",f),te.user?.id&&localStorage.setItem("user_id",te.user.id),t(!1),n("/front-ai")}else throw new Error(te.message||" ")}catch(H){console.error(H),d("   .")}finally{a(!1)}},_=async()=>{if(!k){d(" .");return}a(!0),d(null);try{const H=await fetch(`${ns}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:f,password:k})}),te=await H.json();if(H.ok&&te.token){const ae=Date.now()+36e5;localStorage.setItem("token",te.token),localStorage.setItem("token_expires_at",ae.toString()),localStorage.setItem("user_email",f),te.user?.id&&localStorage.setItem("user_id",te.user.id),t(!1),n("/front-ai")}else throw new Error(te.message||" ")}catch(H){H instanceof Error?d(H.message):d("    .")}finally{a(!1)}},Q=async()=>{a(!0),d(null),x("");try{const H=await fetch(`${ns}/send-verification-code`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:f})}),te=await H.json();if(!H.ok)throw new Error(te.message||"  ");i("forgot_password_verify")}catch(H){H instanceof Error?d(H.message):d("    .")}finally{a(!1)}},G=async()=>{if(m.length!==6){d(" 6 .");return}a(!0),d(null);try{const H=await fetch(`${ns}/verify-code`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:f,code:m})}),te=await H.json();if(!H.ok)throw new Error(te.message||"  ");i("reset_password")}catch(H){H instanceof Error?d(H.message):d("    .")}finally{a(!1)}},P=async()=>{if(!A||!I){d(" .");return}if(!K(A)){d("  .");return}if(A!==I){d("  .");return}a(!0),d(null);try{const H=await fetch(`${ns}/reset-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:f,code:m,newPassword:A})}),te=await H.json();if(!H.ok)throw new Error(te.message||"  ");i("reset_complete")}catch(H){H instanceof Error?d(H.message):d("    .")}finally{a(!1)}},ie=y&&K(k)&&k===C&&E&&L;return l.jsx(Yn,{open:e,onOpenChange:t,children:l.jsxs(Kn,{className:Ae("bg-background p-6 gap-6 transition-all duration-300","sm:max-w-[400px]"),children:[l.jsx(Jn,{className:"flex flex-row items-center justify-between space-y-0",children:l.jsxs(Xn,{className:"text-lg font-semibold",children:[r==="login"&&"  ",r==="password_input"&&" ",r==="forgot_password_verify"&&" ",r==="reset_password"&&" ",r==="reset_complete"&&"  ",(r==="verification"||r==="info")&&"",r==="completion"&&" "]})}),u&&l.jsx("div",{className:"text-destructive text-sm text-center font-medium",children:u}),r==="password_input"&&l.jsxs("div",{className:"flex flex-col gap-6",children:[l.jsx("div",{className:"flex flex-col gap-2",children:l.jsx("p",{className:"text-sm text-left text-muted-foreground text-center break-keep",children:"  ."})}),l.jsx("div",{className:"flex flex-col gap-2 w-full",children:l.jsxs("div",{className:"relative",children:[l.jsx(Re,{ref:V,type:"password",placeholder:" ",className:"h-[36px] font-bold placeholder:font-bold placeholder:text-muted-foreground pr-10",value:k,onChange:H=>j(H.target.value),onKeyDown:H=>{H.key==="Enter"&&_()},disabled:s}),l.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2",children:l.jsx(zp,{children:l.jsxs(nx,{children:[l.jsx(rx,{asChild:!0,children:l.jsx("div",{className:"bg-accent rounded-sm w-6 h-6 flex items-center justify-center cursor-pointer",children:l.jsx(Hg,{className:"w-4 h-4"})})}),l.jsx(ix,{side:"top",align:"center",children:"+,   8"})]})})})]})}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm cursor-pointer hover:underline",onClick:Q,children:" "}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(xe,{variant:"secondary",className:"h-[36px]",onClick:()=>i("login"),children:""}),l.jsx(xe,{className:"h-[36px]",onClick:_,disabled:s,children:s?l.jsx(Pt,{className:"animate-spin w-4 h-4"}):""})]})]})]}),r==="forgot_password_verify"&&l.jsxs("div",{className:"flex flex-col gap-6",children:[l.jsx("div",{className:"flex flex-col gap-2",children:l.jsx("p",{className:"text-sm text-muted-foreground text-center break-keep",children:"     ."})}),l.jsxs("div",{className:"flex flex-col gap-2 items-center",children:[l.jsx("span",{className:"text-sm font-medium",children:""}),l.jsx(ik,{maxLength:6,value:m,onChange:x,disabled:s,children:l.jsxs(sk,{children:[l.jsx(wi,{index:0,className:"w-[36px] h-[36px]"}),l.jsx(wi,{index:1,className:"w-[36px] h-[36px]"}),l.jsx(wi,{index:2,className:"w-[36px] h-[36px]"}),l.jsx(wi,{index:3,className:"w-[36px] h-[36px]"}),l.jsx(wi,{index:4,className:"w-[36px] h-[36px]"}),l.jsx(wi,{index:5,className:"w-[36px] h-[36px]"})]})}),l.jsxs("p",{className:"text-sm text-muted-foreground text-center mt-2",children:[f,"     "]})]}),l.jsxs("div",{className:"flex gap-2 w-full",children:[l.jsx(xe,{variant:"outline",className:"flex-1 h-[36px]",onClick:F,disabled:s,children:s?l.jsx(Pt,{className:"animate-spin w-4 h-4"}):" "}),l.jsx(xe,{className:"flex-1 h-[36px]",onClick:G,disabled:s,children:s?l.jsx(Pt,{className:"animate-spin w-4 h-4"}):""})]})]}),r==="reset_password"&&l.jsxs("div",{className:"flex flex-col gap-6",children:[l.jsx("div",{className:"flex flex-col gap-2",children:l.jsx("p",{className:"text-sm text-muted-foreground text-center break-keep",children:"  ."})}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-sm font-bold",children:""}),l.jsxs("div",{className:"relative",children:[l.jsx(Re,{type:"password",placeholder:" ",className:"h-[36px] font-bold placeholder:font-bold placeholder:text-muted-foreground pr-10",value:A,onChange:H=>z(H.target.value),disabled:s}),l.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2",children:l.jsx(zp,{children:l.jsxs(nx,{children:[l.jsx(rx,{asChild:!0,children:l.jsx("div",{className:"bg-accent rounded-sm w-6 h-6 flex items-center justify-center cursor-pointer",children:l.jsx(Hg,{className:"w-4 h-4"})})}),l.jsx(ix,{side:"top",align:"center",children:"+,   8"})]})})})]}),J(A)]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-sm font-bold",children:""}),l.jsx(Re,{type:"password",placeholder:"  ",className:"h-[36px] font-bold placeholder:font-bold placeholder:text-muted-foreground",value:I,onChange:H=>T(H.target.value),disabled:s})]})]}),l.jsxs("div",{className:"flex gap-2 w-full",children:[l.jsx(xe,{variant:"secondary",className:"flex-1 h-[36px]",onClick:()=>i("login"),children:""}),l.jsx(xe,{className:"flex-1 h-[36px]",onClick:P,disabled:s,children:s?l.jsx(Pt,{className:"animate-spin w-4 h-4"}):" "})]})]}),r==="reset_complete"&&l.jsxs("div",{className:"flex flex-col gap-6",children:[l.jsx("div",{className:"flex flex-col gap-2",children:l.jsx("p",{className:"text-sm text-muted-foreground text-center break-keep",children:"  ."})}),l.jsxs("div",{className:"flex gap-2 w-full",children:[l.jsx(xe,{variant:"secondary",className:"flex-1 h-[36px]",onClick:()=>t(!1),children:""}),l.jsx(xe,{className:"flex-1 h-[36px]",onClick:()=>i("password_input"),children:" "})]})]}),r==="login"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex flex-col gap-2",children:l.jsx("p",{className:"text-sm text-left text-muted-foreground text-center break-keep",children:"SSO         ."})}),l.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[l.jsxs("button",{type:"button",className:"flex items-center justify-center gap-2 w-full h-[40px] bg-primary-foreground text-primary border border-gray-200 rounded-md shadow-sm hover:bg-gray-50 transition-colors",children:[l.jsx("div",{className:"size-[24px] flex items-center justify-center overflow-hidden",children:l.jsx(g5,{className:"relative shrink-0 size-[24px]"})}),l.jsx("span",{className:"text-base text-primary",children:"Google"})]}),l.jsxs("button",{type:"button",className:"flex items-center justify-center gap-2 w-full h-[40px] bg-primary-foreground text-primary border border-gray-200 rounded-md shadow-sm hover:bg-gray-50 transition-colors",children:[l.jsx("div",{className:"size-[24px] flex items-center justify-center overflow-hidden",children:l.jsx(x5,{className:"relative shrink-0 size-[24px]"})}),l.jsx("span",{className:"text-base text-primary",children:"NAVER"})]}),l.jsxs("button",{type:"button",className:"flex items-center justify-center gap-2 w-full h-[40px] bg-yellow-400 text-yellow-900 border border-gray-200 rounded-md shadow-sm hover:bg-yellow-300 transition-colors",children:[l.jsx("div",{className:"size-[24px] flex items-center justify-center overflow-hidden",children:l.jsx(y5,{className:"relative shrink-0 size-[24px]"})}),l.jsx("span",{className:"text-base text-black",children:"KAKAO"})]})]}),l.jsxs("div",{className:"flex items-center gap-2 w-full",children:[l.jsx(Xa,{className:"flex-1"}),l.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:""}),l.jsx(Xa,{className:"flex-1"})]}),l.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[l.jsx(Re,{type:"email",placeholder:" ",className:"h-[36px]",value:f,onChange:H=>p(H.target.value),onKeyDown:H=>{H.key==="Enter"&&q()},disabled:s}),l.jsx(xe,{className:"w-full h-[36px]",onClick:q,disabled:s,children:s?l.jsx(Pt,{className:"animate-spin w-4 h-4"}):""})]})]}),r==="verification"&&l.jsxs("div",{className:"flex flex-col gap-6",children:[l.jsx("div",{className:"flex flex-col gap-2",children:l.jsx("p",{className:"text-sm text-muted-foreground text-center break-keep",children:"     ."})}),l.jsxs("div",{className:"flex flex-col gap-2 items-center",children:[l.jsx("span",{className:"text-sm font-medium",children:""}),l.jsx(ik,{maxLength:6,value:m,onChange:x,disabled:s,children:l.jsxs(sk,{children:[l.jsx(wi,{index:0,className:"w-[36px] h-[36px]"}),l.jsx(wi,{index:1,className:"w-[36px] h-[36px]"}),l.jsx(wi,{index:2,className:"w-[36px] h-[36px]"}),l.jsx(wi,{index:3,className:"w-[36px] h-[36px]"}),l.jsx(wi,{index:4,className:"w-[36px] h-[36px]"}),l.jsx(wi,{index:5,className:"w-[36px] h-[36px]"})]})}),l.jsxs("p",{className:"text-sm text-muted-foreground text-center mt-2",children:[f||"abc@naver.com","     "]})]}),l.jsxs("div",{className:"flex gap-2 w-full",children:[l.jsx(xe,{variant:"outline",className:"flex-1 h-[36px]",onClick:F,disabled:s,children:s?l.jsx(Pt,{className:"animate-spin w-4 h-4"}):" "}),l.jsx(xe,{className:"flex-1 h-[36px]",onClick:W,disabled:s,children:s?l.jsx(Pt,{className:"animate-spin w-4 h-4"}):""})]})]}),r==="info"&&l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsx("div",{className:"flex flex-col gap-2",children:l.jsx("p",{className:"text-sm font-bold text-muted-foreground break-keep",children:"      ."})}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-sm font-bold",children:""}),l.jsx(Re,{placeholder:" ",className:"h-[36px] font-bold placeholder:font-bold placeholder:text-muted-foreground",value:y,onChange:H=>v(H.target.value),disabled:s})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-sm font-bold",children:""}),l.jsxs("div",{className:"relative",children:[l.jsx(Re,{type:"password",placeholder:" ",className:"h-[36px] font-bold placeholder:font-bold placeholder:text-muted-foreground pr-10",value:k,onChange:H=>j(H.target.value),disabled:s}),l.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2",children:l.jsx(zp,{children:l.jsxs(nx,{children:[l.jsx(rx,{asChild:!0,children:l.jsx("div",{className:"bg-accent rounded-sm w-6 h-6 flex items-center justify-center cursor-pointer",children:l.jsx(Hg,{className:"w-4 h-4"})})}),l.jsx(ix,{side:"top",align:"center",children:"+,   8"})]})})})]}),J(k)]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-sm font-bold",children:""}),l.jsx(Re,{type:"password",placeholder:"  ",className:"h-[36px] font-bold placeholder:font-bold placeholder:text-muted-foreground",value:C,onChange:H=>N(H.target.value),disabled:s}),Z()]}),l.jsx("div",{className:"border rounded-md p-4 space-y-4",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(m5,{id:"terms",checked:E,onCheckedChange:H=>M(H),disabled:!L||s}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("label",{htmlFor:"terms",className:"text-sm font-bold leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:""}),l.jsx(xe,{variant:"outline",size:"sm",className:"h-[32px] text-sm font-bold",onClick:()=>D(!0),disabled:s,children:""})]}),l.jsx("p",{className:"text-[10px] text-muted-foreground mt-1",children:""})]})]})}),!L&&l.jsx("p",{className:"text-sm font-bold text-muted-foreground text-center",children:"       ."})]}),l.jsxs("div",{className:"flex gap-2 mt-2",children:[l.jsx(xe,{variant:"secondary",className:"flex-1 h-[36px] font-bold",onClick:()=>i("login"),disabled:s,children:""}),l.jsx(xe,{className:"flex-1 h-[36px] font-bold",onClick:R,disabled:!ie||s,children:s?l.jsx(Pt,{className:"animate-spin w-4 h-4"}):""})]})]}),r==="completion"&&l.jsxs("div",{className:"flex flex-col gap-6",children:[l.jsx("div",{className:"flex flex-col gap-2",children:l.jsx("p",{className:"text-sm text-muted-foreground text-center break-keep",children:" ."})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-sm font-medium text-center",children:"( )"}),l.jsx("p",{className:"text-sm text-muted-foreground text-center",children:f||"abc@naver.com"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-sm font-medium text-center",children:""}),l.jsx("p",{className:"text-sm text-muted-foreground text-center",children:y||""})]})]}),l.jsx("p",{className:"text-sm text-muted-foreground text-center break-keep",children:"  AI    ."}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(xe,{variant:"secondary",className:"flex-1 h-[36px]",onClick:()=>t(!1),disabled:s,children:""}),l.jsx(xe,{className:"flex-1 h-[36px]",onClick:U,disabled:s,children:s?l.jsx(Pt,{className:"animate-spin w-4 h-4"}):" "})]})]})]})})}function Wm(e){const t=e+"CollectionProvider",[n,r]=ci(t),[i,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=k=>{const{scope:j,children:C}=k,N=Ve.useRef(null),A=Ve.useRef(new Map).current;return l.jsx(i,{scope:j,itemMap:A,collectionRef:N,children:C})};a.displayName=t;const u=e+"CollectionSlot",d=nl(u),f=Ve.forwardRef((k,j)=>{const{scope:C,children:N}=k,A=s(u,C),z=At(j,A.collectionRef);return l.jsx(d,{ref:z,children:N})});f.displayName=u;const p=e+"CollectionItemSlot",m="data-radix-collection-item",x=nl(p),y=Ve.forwardRef((k,j)=>{const{scope:C,children:N,...A}=k,z=Ve.useRef(null),I=At(j,z),T=s(p,C);return Ve.useEffect(()=>(T.itemMap.set(z,{ref:z,...A}),()=>void T.itemMap.delete(z))),l.jsx(x,{[m]:"",ref:I,children:N})});y.displayName=p;function v(k){const j=s(e+"CollectionConsumer",k);return Ve.useCallback(()=>{const N=j.collectionRef.current;if(!N)return[];const A=Array.from(N.querySelectorAll(`[${m}]`));return Array.from(j.itemMap.values()).sort((T,E)=>A.indexOf(T.ref.current)-A.indexOf(E.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:a,Slot:f,ItemSlot:y},v,r]}var QF=b.createContext(void 0);function Ym(e){const t=b.useContext(QF);return e||t||"ltr"}var sx="rovingFocusGroup.onEntryFocus",eB={bubbles:!1,cancelable:!0},bf="RovingFocusGroup",[$y,X5,tB]=Wm(bf),[nB,Z5]=ci(bf,[tB]),[rB,iB]=nB(bf),Q5=b.forwardRef((e,t)=>l.jsx($y.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx($y.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(sB,{...e,ref:t})})}));Q5.displayName=bf;var sB=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:d,onEntryFocus:f,preventScrollOnEntryFocus:p=!1,...m}=e,x=b.useRef(null),y=At(t,x),v=Ym(s),[k,j]=$i({prop:a,defaultProp:u??null,onChange:d,caller:bf}),[C,N]=b.useState(!1),A=gs(f),z=X5(n),I=b.useRef(!1),[T,E]=b.useState(0);return b.useEffect(()=>{const M=x.current;if(M)return M.addEventListener(sx,A),()=>M.removeEventListener(sx,A)},[A]),l.jsx(rB,{scope:n,orientation:r,dir:v,loop:i,currentTabStopId:k,onItemFocus:b.useCallback(M=>j(M),[j]),onItemShiftTab:b.useCallback(()=>N(!0),[]),onFocusableItemAdd:b.useCallback(()=>E(M=>M+1),[]),onFocusableItemRemove:b.useCallback(()=>E(M=>M-1),[]),children:l.jsx(St.div,{tabIndex:C||T===0?-1:0,"data-orientation":r,...m,ref:y,style:{outline:"none",...e.style},onMouseDown:Pe(e.onMouseDown,()=>{I.current=!0}),onFocus:Pe(e.onFocus,M=>{const L=!I.current;if(M.target===M.currentTarget&&L&&!C){const D=new CustomEvent(sx,eB);if(M.currentTarget.dispatchEvent(D),!D.defaultPrevented){const V=z().filter(F=>F.focusable),K=V.find(F=>F.active),J=V.find(F=>F.id===k),q=[K,J,...V].filter(Boolean).map(F=>F.ref.current);n_(q,p)}}I.current=!1}),onBlur:Pe(e.onBlur,()=>N(!1))})})}),e_="RovingFocusGroupItem",t_=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:a,...u}=e,d=Fi(),f=s||d,p=iB(e_,n),m=p.currentTabStopId===f,x=X5(n),{onFocusableItemAdd:y,onFocusableItemRemove:v,currentTabStopId:k}=p;return b.useEffect(()=>{if(r)return y(),()=>v()},[r,y,v]),l.jsx($y.ItemSlot,{scope:n,id:f,focusable:r,active:i,children:l.jsx(St.span,{tabIndex:m?0:-1,"data-orientation":p.orientation,...u,ref:t,onMouseDown:Pe(e.onMouseDown,j=>{r?p.onItemFocus(f):j.preventDefault()}),onFocus:Pe(e.onFocus,()=>p.onItemFocus(f)),onKeyDown:Pe(e.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){p.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const C=oB(j,p.orientation,p.dir);if(C!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let A=x().filter(z=>z.focusable).map(z=>z.ref.current);if(C==="last")A.reverse();else if(C==="prev"||C==="next"){C==="prev"&&A.reverse();const z=A.indexOf(j.currentTarget);A=p.loop?uB(A,z+1):A.slice(z+1)}setTimeout(()=>n_(A))}}),children:typeof a=="function"?a({isCurrentTabStop:m,hasTabStop:k!=null}):a})})});t_.displayName=e_;var aB={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function lB(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function oB(e,t,n){const r=lB(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return aB[r]}function n_(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function uB(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var cB=Q5,dB=t_,Hy=["Enter"," "],fB=["ArrowDown","PageUp","Home"],r_=["ArrowUp","PageDown","End"],hB=[...fB,...r_],pB={ltr:[...Hy,"ArrowRight"],rtl:[...Hy,"ArrowLeft"]},mB={ltr:["ArrowLeft"],rtl:["ArrowRight"]},vf="Menu",[Hd,gB,xB]=Wm(vf),[co,i_]=ci(vf,[xB,Ss,Z5]),Km=Ss(),s_=Z5(),[yB,fo]=co(vf),[bB,wf]=co(vf),a_=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:s,modal:a=!0}=e,u=Km(t),[d,f]=b.useState(null),p=b.useRef(!1),m=gs(s),x=Ym(i);return b.useEffect(()=>{const y=()=>{p.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>p.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),l.jsx(mf,{...u,children:l.jsx(yB,{scope:t,open:n,onOpenChange:m,content:d,onContentChange:f,children:l.jsx(bB,{scope:t,onClose:b.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:p,dir:x,modal:a,children:r})})})};a_.displayName=vf;var vB="MenuAnchor",hb=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=Km(n);return l.jsx(Uu,{...i,...r,ref:t})});hb.displayName=vB;var pb="MenuPortal",[wB,l_]=co(pb,{forceMount:void 0}),o_=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,s=fo(pb,t);return l.jsx(wB,{scope:t,forceMount:n,children:l.jsx(Ir,{present:n||s.open,children:l.jsx(uo,{asChild:!0,container:i,children:r})})})};o_.displayName=pb;var Ni="MenuContent",[kB,mb]=co(Ni),u_=b.forwardRef((e,t)=>{const n=l_(Ni,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,s=fo(Ni,e.__scopeMenu),a=wf(Ni,e.__scopeMenu);return l.jsx(Hd.Provider,{scope:e.__scopeMenu,children:l.jsx(Ir,{present:r||s.open,children:l.jsx(Hd.Slot,{scope:e.__scopeMenu,children:a.modal?l.jsx(SB,{...i,ref:t}):l.jsx(CB,{...i,ref:t})})})})}),SB=b.forwardRef((e,t)=>{const n=fo(Ni,e.__scopeMenu),r=b.useRef(null),i=At(t,r);return b.useEffect(()=>{const s=r.current;if(s)return zm(s)},[]),l.jsx(gb,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Pe(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),CB=b.forwardRef((e,t)=>{const n=fo(Ni,e.__scopeMenu);return l.jsx(gb,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),jB=nl("MenuContent.ScrollLock"),gb=b.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:u,onEntryFocus:d,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:m,onInteractOutside:x,onDismiss:y,disableOutsideScroll:v,...k}=e,j=fo(Ni,n),C=wf(Ni,n),N=Km(n),A=s_(n),z=gB(n),[I,T]=b.useState(null),E=b.useRef(null),M=At(t,E,j.onContentChange),L=b.useRef(0),D=b.useRef(""),V=b.useRef(0),K=b.useRef(null),J=b.useRef("right"),Z=b.useRef(0),q=v?hf:b.Fragment,F=v?{as:jB,allowPinchZoom:!0}:void 0,W=U=>{const _=D.current+U,Q=z().filter(ae=>!ae.disabled),G=document.activeElement,P=Q.find(ae=>ae.ref.current===G)?.textValue,ie=Q.map(ae=>ae.textValue),H=zB(ie,_,P),te=Q.find(ae=>ae.textValue===H)?.ref.current;(function ae(ke){D.current=ke,window.clearTimeout(L.current),ke!==""&&(L.current=window.setTimeout(()=>ae(""),1e3))})(_),te&&setTimeout(()=>te.focus())};b.useEffect(()=>()=>window.clearTimeout(L.current),[]),Lm();const R=b.useCallback(U=>J.current===K.current?.side&&FB(U,K.current?.area),[]);return l.jsx(kB,{scope:n,searchRef:D,onItemEnter:b.useCallback(U=>{R(U)&&U.preventDefault()},[R]),onItemLeave:b.useCallback(U=>{R(U)||(E.current?.focus(),T(null))},[R]),onTriggerLeave:b.useCallback(U=>{R(U)&&U.preventDefault()},[R]),pointerGraceTimerRef:V,onPointerGraceIntentChange:b.useCallback(U=>{K.current=U},[]),children:l.jsx(q,{...F,children:l.jsx(ff,{asChild:!0,trapped:i,onMountAutoFocus:Pe(s,U=>{U.preventDefault(),E.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:l.jsx(oo,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:m,onInteractOutside:x,onDismiss:y,children:l.jsx(cB,{asChild:!0,...A,dir:C.dir,orientation:"vertical",loop:r,currentTabStopId:I,onCurrentTabStopIdChange:T,onEntryFocus:Pe(d,U=>{C.isUsingKeyboardRef.current||U.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(gf,{role:"menu","aria-orientation":"vertical","data-state":j_(j.open),"data-radix-menu-content":"",dir:C.dir,...N,...k,ref:M,style:{outline:"none",...k.style},onKeyDown:Pe(k.onKeyDown,U=>{const Q=U.target.closest("[data-radix-menu-content]")===U.currentTarget,G=U.ctrlKey||U.altKey||U.metaKey,P=U.key.length===1;Q&&(U.key==="Tab"&&U.preventDefault(),!G&&P&&W(U.key));const ie=E.current;if(U.target!==ie||!hB.includes(U.key))return;U.preventDefault();const te=z().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);r_.includes(U.key)&&te.reverse(),LB(te)}),onBlur:Pe(e.onBlur,U=>{U.currentTarget.contains(U.target)||(window.clearTimeout(L.current),D.current="")}),onPointerMove:Pe(e.onPointerMove,Ud(U=>{const _=U.target,Q=Z.current!==U.clientX;if(U.currentTarget.contains(_)&&Q){const G=U.clientX>Z.current?"right":"left";J.current=G,Z.current=U.clientX}}))})})})})})})});u_.displayName=Ni;var _B="MenuGroup",xb=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(St.div,{role:"group",...r,ref:t})});xb.displayName=_B;var NB="MenuLabel",c_=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(St.div,{...r,ref:t})});c_.displayName=NB;var im="MenuItem",gk="menu.itemSelect",Jm=b.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,s=b.useRef(null),a=wf(im,e.__scopeMenu),u=mb(im,e.__scopeMenu),d=At(t,s),f=b.useRef(!1),p=()=>{const m=s.current;if(!n&&m){const x=new CustomEvent(gk,{bubbles:!0,cancelable:!0});m.addEventListener(gk,y=>r?.(y),{once:!0}),lj(m,x),x.defaultPrevented?f.current=!1:a.onClose()}};return l.jsx(d_,{...i,ref:d,disabled:n,onClick:Pe(e.onClick,p),onPointerDown:m=>{e.onPointerDown?.(m),f.current=!0},onPointerUp:Pe(e.onPointerUp,m=>{f.current||m.currentTarget?.click()}),onKeyDown:Pe(e.onKeyDown,m=>{const x=u.searchRef.current!=="";n||x&&m.key===" "||Hy.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});Jm.displayName=im;var d_=b.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=e,a=mb(im,n),u=s_(n),d=b.useRef(null),f=At(t,d),[p,m]=b.useState(!1),[x,y]=b.useState("");return b.useEffect(()=>{const v=d.current;v&&y((v.textContent??"").trim())},[s.children]),l.jsx(Hd.ItemSlot,{scope:n,disabled:r,textValue:i??x,children:l.jsx(dB,{asChild:!0,...u,focusable:!r,children:l.jsx(St.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:f,onPointerMove:Pe(e.onPointerMove,Ud(v=>{r?a.onItemLeave(v):(a.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Pe(e.onPointerLeave,Ud(v=>a.onItemLeave(v))),onFocus:Pe(e.onFocus,()=>m(!0)),onBlur:Pe(e.onBlur,()=>m(!1))})})})}),EB="MenuCheckboxItem",f_=b.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return l.jsx(x_,{scope:e.__scopeMenu,checked:n,children:l.jsx(Jm,{role:"menuitemcheckbox","aria-checked":sm(n)?"mixed":n,...i,ref:t,"data-state":bb(n),onSelect:Pe(i.onSelect,()=>r?.(sm(n)?!0:!n),{checkForDefaultPrevented:!1})})})});f_.displayName=EB;var h_="MenuRadioGroup",[AB,DB]=co(h_,{value:void 0,onValueChange:()=>{}}),p_=b.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,s=gs(r);return l.jsx(AB,{scope:e.__scopeMenu,value:n,onValueChange:s,children:l.jsx(xb,{...i,ref:t})})});p_.displayName=h_;var m_="MenuRadioItem",g_=b.forwardRef((e,t)=>{const{value:n,...r}=e,i=DB(m_,e.__scopeMenu),s=n===i.value;return l.jsx(x_,{scope:e.__scopeMenu,checked:s,children:l.jsx(Jm,{role:"menuitemradio","aria-checked":s,...r,ref:t,"data-state":bb(s),onSelect:Pe(r.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});g_.displayName=m_;var yb="MenuItemIndicator",[x_,TB]=co(yb,{checked:!1}),y_=b.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,s=TB(yb,n);return l.jsx(Ir,{present:r||sm(s.checked)||s.checked===!0,children:l.jsx(St.span,{...i,ref:t,"data-state":bb(s.checked)})})});y_.displayName=yb;var MB="MenuSeparator",b_=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(St.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});b_.displayName=MB;var OB="MenuArrow",v_=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=Km(n);return l.jsx(xf,{...i,...r,ref:t})});v_.displayName=OB;var RB="MenuSub",[Kle,w_]=co(RB),yd="MenuSubTrigger",k_=b.forwardRef((e,t)=>{const n=fo(yd,e.__scopeMenu),r=wf(yd,e.__scopeMenu),i=w_(yd,e.__scopeMenu),s=mb(yd,e.__scopeMenu),a=b.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:d}=s,f={__scopeMenu:e.__scopeMenu},p=b.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return b.useEffect(()=>p,[p]),b.useEffect(()=>{const m=u.current;return()=>{window.clearTimeout(m),d(null)}},[u,d]),l.jsx(hb,{asChild:!0,...f,children:l.jsx(d_,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":j_(n.open),...e,ref:Rm(t,i.onTriggerChange),onClick:m=>{e.onClick?.(m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Pe(e.onPointerMove,Ud(m=>{s.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!n.open&&!a.current&&(s.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),p()},100))})),onPointerLeave:Pe(e.onPointerLeave,Ud(m=>{p();const x=n.content?.getBoundingClientRect();if(x){const y=n.content?.dataset.side,v=y==="right",k=v?-5:5,j=x[v?"left":"right"],C=x[v?"right":"left"];s.onPointerGraceIntentChange({area:[{x:m.clientX+k,y:m.clientY},{x:j,y:x.top},{x:C,y:x.top},{x:C,y:x.bottom},{x:j,y:x.bottom}],side:y}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(m),m.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Pe(e.onKeyDown,m=>{const x=s.searchRef.current!=="";e.disabled||x&&m.key===" "||pB[r.dir].includes(m.key)&&(n.onOpenChange(!0),n.content?.focus(),m.preventDefault())})})})});k_.displayName=yd;var S_="MenuSubContent",C_=b.forwardRef((e,t)=>{const n=l_(Ni,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,s=fo(Ni,e.__scopeMenu),a=wf(Ni,e.__scopeMenu),u=w_(S_,e.__scopeMenu),d=b.useRef(null),f=At(t,d);return l.jsx(Hd.Provider,{scope:e.__scopeMenu,children:l.jsx(Ir,{present:r||s.open,children:l.jsx(Hd.Slot,{scope:e.__scopeMenu,children:l.jsx(gb,{id:u.contentId,"aria-labelledby":u.triggerId,...i,ref:f,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{a.isUsingKeyboardRef.current&&d.current?.focus(),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:Pe(e.onFocusOutside,p=>{p.target!==u.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Pe(e.onEscapeKeyDown,p=>{a.onClose(),p.preventDefault()}),onKeyDown:Pe(e.onKeyDown,p=>{const m=p.currentTarget.contains(p.target),x=mB[a.dir].includes(p.key);m&&x&&(s.onOpenChange(!1),u.trigger?.focus(),p.preventDefault())})})})})})});C_.displayName=S_;function j_(e){return e?"open":"closed"}function sm(e){return e==="indeterminate"}function bb(e){return sm(e)?"indeterminate":e?"checked":"unchecked"}function LB(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function PB(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function zB(e,t,n){const i=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let a=PB(e,Math.max(s,0));i.length===1&&(a=a.filter(f=>f!==n));const d=a.find(f=>f.toLowerCase().startsWith(i.toLowerCase()));return d!==n?d:void 0}function IB(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,a=t.length-1;s<t.length;a=s++){const u=t[s],d=t[a],f=u.x,p=u.y,m=d.x,x=d.y;p>r!=x>r&&n<(m-f)*(r-p)/(x-p)+f&&(i=!i)}return i}function FB(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return IB(n,t)}function Ud(e){return t=>t.pointerType==="mouse"?e(t):void 0}var BB=a_,$B=hb,HB=o_,UB=u_,VB=xb,qB=c_,GB=Jm,WB=f_,YB=p_,KB=g_,JB=y_,XB=b_,ZB=v_,QB=k_,e$=C_,Xm="DropdownMenu",[t$,Jle]=ci(Xm,[i_]),Fr=i_(),[n$,__]=t$(Xm),N_=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:a,modal:u=!0}=e,d=Fr(t),f=b.useRef(null),[p,m]=$i({prop:i,defaultProp:s??!1,onChange:a,caller:Xm});return l.jsx(n$,{scope:t,triggerId:Fi(),triggerRef:f,contentId:Fi(),open:p,onOpenChange:m,onOpenToggle:b.useCallback(()=>m(x=>!x),[m]),modal:u,children:l.jsx(BB,{...d,open:p,onOpenChange:m,dir:r,modal:u,children:n})})};N_.displayName=Xm;var E_="DropdownMenuTrigger",A_=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,s=__(E_,n),a=Fr(n);return l.jsx($B,{asChild:!0,...a,children:l.jsx(St.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Rm(t,s.triggerRef),onPointerDown:Pe(e.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(s.onOpenToggle(),s.open||u.preventDefault())}),onKeyDown:Pe(e.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&s.onOpenToggle(),u.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});A_.displayName=E_;var r$="DropdownMenuPortal",D_=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Fr(t);return l.jsx(HB,{...r,...n})};D_.displayName=r$;var T_="DropdownMenuContent",M_=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=__(T_,n),s=Fr(n),a=b.useRef(!1);return l.jsx(UB,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:t,onCloseAutoFocus:Pe(e.onCloseAutoFocus,u=>{a.current||i.triggerRef.current?.focus(),a.current=!1,u.preventDefault()}),onInteractOutside:Pe(e.onInteractOutside,u=>{const d=u.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0,p=d.button===2||f;(!i.modal||p)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});M_.displayName=T_;var i$="DropdownMenuGroup",O_=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Fr(n);return l.jsx(VB,{...i,...r,ref:t})});O_.displayName=i$;var s$="DropdownMenuLabel",R_=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Fr(n);return l.jsx(qB,{...i,...r,ref:t})});R_.displayName=s$;var a$="DropdownMenuItem",L_=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Fr(n);return l.jsx(GB,{...i,...r,ref:t})});L_.displayName=a$;var l$="DropdownMenuCheckboxItem",o$=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Fr(n);return l.jsx(WB,{...i,...r,ref:t})});o$.displayName=l$;var u$="DropdownMenuRadioGroup",c$=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Fr(n);return l.jsx(YB,{...i,...r,ref:t})});c$.displayName=u$;var d$="DropdownMenuRadioItem",f$=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Fr(n);return l.jsx(KB,{...i,...r,ref:t})});f$.displayName=d$;var h$="DropdownMenuItemIndicator",p$=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Fr(n);return l.jsx(JB,{...i,...r,ref:t})});p$.displayName=h$;var m$="DropdownMenuSeparator",g$=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Fr(n);return l.jsx(XB,{...i,...r,ref:t})});g$.displayName=m$;var x$="DropdownMenuArrow",y$=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Fr(n);return l.jsx(ZB,{...i,...r,ref:t})});y$.displayName=x$;var b$="DropdownMenuSubTrigger",v$=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Fr(n);return l.jsx(QB,{...i,...r,ref:t})});v$.displayName=b$;var w$="DropdownMenuSubContent",k$=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Fr(n);return l.jsx(e$,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});k$.displayName=w$;var S$=N_,C$=A_,j$=D_,_$=M_,N$=O_,E$=R_,A$=L_;function D$({...e}){return l.jsx(S$,{"data-slot":"dropdown-menu",...e})}function T$({...e}){return l.jsx(C$,{"data-slot":"dropdown-menu-trigger",...e})}function M$({className:e,sideOffset:t=4,...n}){return l.jsx(j$,{children:l.jsx(_$,{"data-slot":"dropdown-menu-content",sideOffset:t,className:Ae("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...n})})}function O$({...e}){return l.jsx(N$,{"data-slot":"dropdown-menu-group",...e})}function R$({className:e,inset:t,variant:n="default",...r}){return l.jsx(A$,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":n,className:Ae("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r})}function L$({className:e,inset:t,...n}){return l.jsx(E$,{"data-slot":"dropdown-menu-label","data-inset":t,className:Ae("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",e),...n})}function P$(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const P_=Ve.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),kf=()=>{const e=Ve.useContext(P_);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};P$(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function z$(){const e=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function I$(){return vb(/^Mac/)}function F$(){return vb(/^iPhone/)}function xk(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function B$(){return vb(/^iPad/)||I$()&&navigator.maxTouchPoints>1}function z_(){return F$()||B$()}function vb(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const $$=24,H$=typeof window<"u"?b.useLayoutEffect:b.useEffect;function yk(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}const ax=typeof document<"u"&&window.visualViewport;function bk(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function I_(e){for(bk(e)&&(e=e.parentElement);e&&!bk(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const U$=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let ep=0,lx;function V$(e={}){let{isDisabled:t}=e;H$(()=>{if(!t)return ep++,ep===1&&z_()&&(lx=q$()),()=>{ep--,ep===0&&lx?.()}},[t])}function q$(){let e,t=0,n=m=>{e=I_(m.target),!(e===document.documentElement&&e===document.body)&&(t=m.changedTouches[0].pageY)},r=m=>{if(!e||e===document.documentElement||e===document.body){m.preventDefault();return}let x=m.changedTouches[0].pageY,y=e.scrollTop,v=e.scrollHeight-e.clientHeight;v!==0&&((y<=0&&x>t||y>=v&&x<t)&&m.preventDefault(),t=x)},i=m=>{let x=m.target;Uy(x)&&x!==document.activeElement&&(m.preventDefault(),x.style.transform="translateY(-2000px)",x.focus(),requestAnimationFrame(()=>{x.style.transform=""}))},s=m=>{let x=m.target;Uy(x)&&(x.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{x.style.transform="",ax&&(ax.height<window.innerHeight?requestAnimationFrame(()=>{vk(x)}):ax.addEventListener("resize",()=>vk(x),{once:!0}))}))},a=()=>{window.scrollTo(0,0)},u=window.pageXOffset,d=window.pageYOffset,f=yk(G$(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let p=yk(Xc(document,"touchstart",n,{passive:!1,capture:!0}),Xc(document,"touchmove",r,{passive:!1,capture:!0}),Xc(document,"touchend",i,{passive:!1,capture:!0}),Xc(document,"focus",s,!0),Xc(window,"scroll",a));return()=>{f(),p(),window.scrollTo(u,d)}}function G$(e,t,n){let r=e.style[t];return e.style[t]=n,()=>{e.style[t]=r}}function Xc(e,t,n,r){return e.addEventListener(t,n,r),()=>{e.removeEventListener(t,n,r)}}function vk(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let n=I_(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let r=n.getBoundingClientRect().top,i=e.getBoundingClientRect().top,s=e.getBoundingClientRect().bottom;const a=n.getBoundingClientRect().bottom+$$;s>a&&(n.scrollTop+=i-r)}e=n.parentElement}}function Uy(e){return e instanceof HTMLInputElement&&!U$.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function W$(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Y$(...e){return t=>e.forEach(n=>W$(n,t))}function F_(...e){return b.useCallback(Y$(...e),e)}const B_=new WeakMap;function Gn(e,t,n=!1){if(!e||!(e instanceof HTMLElement))return;let r={};Object.entries(t).forEach(([i,s])=>{if(i.startsWith("--")){e.style.setProperty(i,s);return}r[i]=e.style[i],e.style[i]=s}),!n&&B_.set(e,r)}function K$(e,t){if(!e||!(e instanceof HTMLElement))return;let n=B_.get(e);n&&(e.style[t]=n[t])}const Bn=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function tp(e,t){if(!e)return null;const n=window.getComputedStyle(e),r=n.transform||n.webkitTransform||n.mozTransform;let i=r.match(/^matrix3d\((.+)\)$/);return i?parseFloat(i[1].split(", ")[Bn(t)?13:12]):(i=r.match(/^matrix\((.+)\)$/),i?parseFloat(i[1].split(", ")[Bn(t)?5:4]):null)}function J$(e){return 8*(Math.log(e+1)-2)}function ox(e,t){if(!e)return()=>{};const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function X$(...e){return(...t)=>{for(const n of e)typeof n=="function"&&n(...t)}}const wn={DURATION:.5,EASE:[.32,.72,0,1]},$_=.4,Z$=.25,Q$=100,H_=8,Rl=16,Vy=26,ux="vaul-dragging";function U_(e){const t=Ve.useRef(e);return Ve.useEffect(()=>{t.current=e}),Ve.useMemo(()=>(...n)=>t.current==null?void 0:t.current.call(t,...n),[])}function eH({defaultProp:e,onChange:t}){const n=Ve.useState(e),[r]=n,i=Ve.useRef(r),s=U_(t);return Ve.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}function V_({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=eH({defaultProp:t,onChange:n}),s=e!==void 0,a=s?e:r,u=U_(n),d=Ve.useCallback(f=>{if(s){const m=typeof f=="function"?f(e):f;m!==e&&u(m)}else i(f)},[s,e,i,u]);return[a,d]}function tH({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:n,drawerRef:r,overlayRef:i,fadeFromIndex:s,onSnapPointChange:a,direction:u="bottom",container:d,snapToSequentialPoint:f}){const[p,m]=V_({prop:e,defaultProp:n?.[0],onChange:t}),[x,y]=Ve.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);Ve.useEffect(()=>{function E(){y({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)},[]);const v=Ve.useMemo(()=>p===n?.[n.length-1]||null,[n,p]),k=Ve.useMemo(()=>{var E;return(E=n?.findIndex(M=>M===p))!=null?E:null},[n,p]),j=n&&n.length>0&&(s||s===0)&&!Number.isNaN(s)&&n[s]===p||!n,C=Ve.useMemo(()=>{const E=d?{width:d.getBoundingClientRect().width,height:d.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var M;return(M=n?.map(L=>{const D=typeof L=="string";let V=0;if(D&&(V=parseInt(L,10)),Bn(u)){const J=D?V:x?L*E.height:0;return x?u==="bottom"?E.height-J:-E.height+J:J}const K=D?V:x?L*E.width:0;return x?u==="right"?E.width-K:-E.width+K:K}))!=null?M:[]},[n,x,d]),N=Ve.useMemo(()=>k!==null?C?.[k]:null,[C,k]),A=Ve.useCallback(E=>{var M;const L=(M=C?.findIndex(D=>D===E))!=null?M:null;a(L),Gn(r.current,{transition:`transform ${wn.DURATION}s cubic-bezier(${wn.EASE.join(",")})`,transform:Bn(u)?`translate3d(0, ${E}px, 0)`:`translate3d(${E}px, 0, 0)`}),C&&L!==C.length-1&&s!==void 0&&L!==s&&L<s?Gn(i.current,{transition:`opacity ${wn.DURATION}s cubic-bezier(${wn.EASE.join(",")})`,opacity:"0"}):Gn(i.current,{transition:`opacity ${wn.DURATION}s cubic-bezier(${wn.EASE.join(",")})`,opacity:"1"}),m(n?.[Math.max(L,0)])},[r.current,n,C,s,i,m]);Ve.useEffect(()=>{if(p||e){var E;const M=(E=n?.findIndex(L=>L===e||L===p))!=null?E:-1;C&&M!==-1&&typeof C[M]=="number"&&A(C[M])}},[p,e,n,C,A]);function z({draggedDistance:E,closeDrawer:M,velocity:L,dismissible:D}){if(s===void 0)return;const V=u==="bottom"||u==="right"?(N??0)-E:(N??0)+E,K=k===s-1,J=k===0,Z=E>0;if(K&&Gn(i.current,{transition:`opacity ${wn.DURATION}s cubic-bezier(${wn.EASE.join(",")})`}),!f&&L>2&&!Z){D?M():A(C[0]);return}if(!f&&L>2&&Z&&C&&n){A(C[n.length-1]);return}const q=C?.reduce((W,R)=>typeof W!="number"||typeof R!="number"?W:Math.abs(R-V)<Math.abs(W-V)?R:W),F=Bn(u)?window.innerHeight:window.innerWidth;if(L>$_&&Math.abs(E)<F*.4){const W=Z?1:-1;if(W>0&&v&&n){A(C[n.length-1]);return}if(J&&W<0&&D&&M(),k===null)return;A(C[k+W]);return}A(q)}function I({draggedDistance:E}){if(N===null)return;const M=u==="bottom"||u==="right"?N-E:N+E;(u==="bottom"||u==="right")&&M<C[C.length-1]||(u==="top"||u==="left")&&M>C[C.length-1]||Gn(r.current,{transform:Bn(u)?`translate3d(0, ${M}px, 0)`:`translate3d(${M}px, 0, 0)`})}function T(E,M){if(!n||typeof k!="number"||!C||s===void 0)return null;const L=k===s-1;if(k>=s&&M)return 0;if(L&&!M)return 1;if(!j&&!L)return null;const V=L?k+1:k-1,K=L?C[V]-C[V-1]:C[V+1]-C[V],J=E/Math.abs(K);return L?1-J:J}return{isLastSnapPoint:v,activeSnapPoint:p,shouldFade:j,getPercentageDragged:T,setActiveSnapPoint:m,activeSnapPointIndex:k,onRelease:z,onDrag:I,snapPointsOffset:C}}const nH=()=>()=>{};function rH(){const{direction:e,isOpen:t,shouldScaleBackground:n,setBackgroundColorOnScale:r,noBodyStyles:i}=kf(),s=Ve.useRef(null),a=b.useMemo(()=>document.body.style.backgroundColor,[]);function u(){return(window.innerWidth-Vy)/window.innerWidth}Ve.useEffect(()=>{if(t&&n){s.current&&clearTimeout(s.current);const d=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!d)return;X$(r&&!i?ox(document.body,{background:"black"}):nH,ox(d,{transformOrigin:Bn(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${wn.DURATION}s`,transitionTimingFunction:`cubic-bezier(${wn.EASE.join(",")})`}));const f=ox(d,{borderRadius:`${H_}px`,overflow:"hidden",...Bn(e)?{transform:`scale(${u()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${u()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{f(),s.current=window.setTimeout(()=>{a?document.body.style.background=a:document.body.style.removeProperty("background")},wn.DURATION*1e3)}}},[t,n,a])}let Zc=null;function iH({isOpen:e,modal:t,nested:n,hasBeenOpened:r,preventScrollRestoration:i,noBodyStyles:s}){const[a,u]=Ve.useState(()=>typeof window<"u"?window.location.href:""),d=Ve.useRef(0),f=Ve.useCallback(()=>{if(xk()&&Zc===null&&e&&!s){Zc={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:m,innerHeight:x}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-d.current}px`,left:`${-m}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const y=x-window.innerHeight;y&&d.current>=x&&(document.body.style.top=`${-(d.current+y)}px`)}),300)}},[e]),p=Ve.useCallback(()=>{if(xk()&&Zc!==null&&!s){const m=-parseInt(document.body.style.top,10),x=-parseInt(document.body.style.left,10);Object.assign(document.body.style,Zc),window.requestAnimationFrame(()=>{if(i&&a!==window.location.href){u(window.location.href);return}window.scrollTo(x,m)}),Zc=null}},[a]);return Ve.useEffect(()=>{function m(){d.current=window.scrollY}return m(),window.addEventListener("scroll",m),()=>{window.removeEventListener("scroll",m)}},[]),Ve.useEffect(()=>{if(t)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||p()}},[t,p]),Ve.useEffect(()=>{n||!r||(e?(!window.matchMedia("(display-mode: standalone)").matches&&f(),t||window.setTimeout(()=>{p()},500)):p())},[e,r,a,t,n,f,p]),{restorePositionSetting:p}}function sH({open:e,onOpenChange:t,children:n,onDrag:r,onRelease:i,snapPoints:s,shouldScaleBackground:a=!1,setBackgroundColorOnScale:u=!0,closeThreshold:d=Z$,scrollLockTimeout:f=Q$,dismissible:p=!0,handleOnly:m=!1,fadeFromIndex:x=s&&s.length-1,activeSnapPoint:y,setActiveSnapPoint:v,fixed:k,modal:j=!0,onClose:C,nested:N,noBodyStyles:A=!1,direction:z="bottom",defaultOpen:I=!1,disablePreventScroll:T=!0,snapToSequentialPoint:E=!1,preventScrollRestoration:M=!1,repositionInputs:L=!0,onAnimationEnd:D,container:V,autoFocus:K=!1}){var J,Z;const[q=!1,F]=V_({defaultProp:I,prop:e,onChange:Be=>{t?.(Be),!Be&&!N&&Ce(),setTimeout(()=>{D?.(Be)},wn.DURATION*1e3),Be&&!j&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),Be||(document.body.style.pointerEvents="auto")}}),[W,R]=Ve.useState(!1),[U,_]=Ve.useState(!1),[Q,G]=Ve.useState(!1),P=Ve.useRef(null),ie=Ve.useRef(null),H=Ve.useRef(null),te=Ve.useRef(null),ae=Ve.useRef(null),ke=Ve.useRef(!1),Ge=Ve.useRef(null),He=Ve.useRef(0),Me=Ve.useRef(!1),ze=Ve.useRef(!I),ft=Ve.useRef(0),we=Ve.useRef(null),le=Ve.useRef(((J=we.current)==null?void 0:J.getBoundingClientRect().height)||0),Ke=Ve.useRef(((Z=we.current)==null?void 0:Z.getBoundingClientRect().width)||0),Y=Ve.useRef(0),Ne=Ve.useCallback(Be=>{s&&Be===Ot.length-1&&(ie.current=new Date)},[]),{activeSnapPoint:Le,activeSnapPointIndex:Xe,setActiveSnapPoint:zt,onRelease:Mt,snapPointsOffset:Ot,onDrag:tn,shouldFade:Yt,getPercentageDragged:pe}=tH({snapPoints:s,activeSnapPointProp:y,setActiveSnapPointProp:v,drawerRef:we,fadeFromIndex:x,overlayRef:P,onSnapPointChange:Ne,direction:z,container:V,snapToSequentialPoint:E});V$({isDisabled:!q||U||!j||Q||!W||!L||!T});const{restorePositionSetting:Ce}=iH({isOpen:q,modal:j,nested:N??!1,hasBeenOpened:W,preventScrollRestoration:M,noBodyStyles:A});function Fe(){return(window.innerWidth-Vy)/window.innerWidth}function Ue(Be){var pt,ot;!p&&!s||we.current&&!we.current.contains(Be.target)||(le.current=((pt=we.current)==null?void 0:pt.getBoundingClientRect().height)||0,Ke.current=((ot=we.current)==null?void 0:ot.getBoundingClientRect().width)||0,_(!0),H.current=new Date,z_()&&window.addEventListener("touchend",()=>ke.current=!1,{once:!0}),Be.target.setPointerCapture(Be.pointerId),He.current=Bn(z)?Be.pageY:Be.pageX)}function ue(Be,pt){var ot;let jt=Be;const Xt=(ot=window.getSelection())==null?void 0:ot.toString(),gn=we.current?tp(we.current,z):null,pn=new Date;if(jt.tagName==="SELECT"||jt.hasAttribute("data-vaul-no-drag")||jt.closest("[data-vaul-no-drag]"))return!1;if(z==="right"||z==="left")return!0;if(ie.current&&pn.getTime()-ie.current.getTime()<500)return!1;if(gn!==null&&(z==="bottom"?gn>0:gn<0))return!0;if(Xt&&Xt.length>0)return!1;if(ae.current&&pn.getTime()-ae.current.getTime()<f&&gn===0||pt)return ae.current=pn,!1;for(;jt;){if(jt.scrollHeight>jt.clientHeight){if(jt.scrollTop!==0)return ae.current=new Date,!1;if(jt.getAttribute("role")==="dialog")return!0}jt=jt.parentNode}return!0}function Ze(Be){if(we.current&&U){const pt=z==="bottom"||z==="right"?1:-1,ot=(He.current-(Bn(z)?Be.pageY:Be.pageX))*pt,jt=ot>0,Xt=s&&!p&&!jt;if(Xt&&Xe===0)return;const gn=Math.abs(ot),pn=document.querySelector("[data-vaul-drawer-wrapper]"),xn=z==="bottom"||z==="top"?le.current:Ke.current;let yn=gn/xn;const Dr=pe(gn,jt);if(Dr!==null&&(yn=Dr),Xt&&yn>=1||!ke.current&&!ue(Be.target,jt))return;if(we.current.classList.add(ux),ke.current=!0,Gn(we.current,{transition:"none"}),Gn(P.current,{transition:"none"}),s&&tn({draggedDistance:ot}),jt&&!s){const Dn=J$(ot),X=Math.min(Dn*-1,0)*pt;Gn(we.current,{transform:Bn(z)?`translate3d(0, ${X}px, 0)`:`translate3d(${X}px, 0, 0)`});return}const di=1-yn;if((Yt||x&&Xe===x-1)&&(r?.(Be,yn),Gn(P.current,{opacity:`${di}`,transition:"none"},!0)),pn&&P.current&&a){const Dn=Math.min(Fe()+yn*(1-Fe()),1),X=8-yn*8,se=Math.max(0,14-yn*14);Gn(pn,{borderRadius:`${X}px`,transform:Bn(z)?`scale(${Dn}) translate3d(0, ${se}px, 0)`:`scale(${Dn}) translate3d(${se}px, 0, 0)`,transition:"none"},!0)}if(!s){const Dn=gn*pt;Gn(we.current,{transform:Bn(z)?`translate3d(0, ${Dn}px, 0)`:`translate3d(${Dn}px, 0, 0)`})}}}Ve.useEffect(()=>{window.requestAnimationFrame(()=>{ze.current=!0})},[]),Ve.useEffect(()=>{var Be;function pt(){if(!we.current||!L)return;const ot=document.activeElement;if(Uy(ot)||Me.current){var jt;const Xt=((jt=window.visualViewport)==null?void 0:jt.height)||0,gn=window.innerHeight;let pn=gn-Xt;const xn=we.current.getBoundingClientRect().height||0,yn=xn>gn*.8;Y.current||(Y.current=xn);const Dr=we.current.getBoundingClientRect().top;if(Math.abs(ft.current-pn)>60&&(Me.current=!Me.current),s&&s.length>0&&Ot&&Xe){const di=Ot[Xe]||0;pn+=di}if(ft.current=pn,xn>Xt||Me.current){const di=we.current.getBoundingClientRect().height;let Dn=di;di>Xt&&(Dn=Xt-(yn?Dr:Vy)),k?we.current.style.height=`${di-Math.max(pn,0)}px`:we.current.style.height=`${Math.max(Dn,Xt-Dr)}px`}else z$()||(we.current.style.height=`${Y.current}px`);s&&s.length>0&&!Me.current?we.current.style.bottom="0px":we.current.style.bottom=`${Math.max(pn,0)}px`}}return(Be=window.visualViewport)==null||Be.addEventListener("resize",pt),()=>{var ot;return(ot=window.visualViewport)==null?void 0:ot.removeEventListener("resize",pt)}},[Xe,s,Ot]);function $(Be){Te(),C?.(),Be||F(!1),setTimeout(()=>{s&&zt(s[0])},wn.DURATION*1e3)}function ne(){if(!we.current)return;const Be=document.querySelector("[data-vaul-drawer-wrapper]"),pt=tp(we.current,z);Gn(we.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${wn.DURATION}s cubic-bezier(${wn.EASE.join(",")})`}),Gn(P.current,{transition:`opacity ${wn.DURATION}s cubic-bezier(${wn.EASE.join(",")})`,opacity:"1"}),a&&pt&&pt>0&&q&&Gn(Be,{borderRadius:`${H_}px`,overflow:"hidden",...Bn(z)?{transform:`scale(${Fe()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Fe()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${wn.DURATION}s`,transitionTimingFunction:`cubic-bezier(${wn.EASE.join(",")})`},!0)}function Te(){!U||!we.current||(we.current.classList.remove(ux),ke.current=!1,_(!1),te.current=new Date)}function nt(Be){if(!U||!we.current)return;we.current.classList.remove(ux),ke.current=!1,_(!1),te.current=new Date;const pt=tp(we.current,z);if(!Be||!ue(Be.target,!1)||!pt||Number.isNaN(pt)||H.current===null)return;const ot=te.current.getTime()-H.current.getTime(),jt=He.current-(Bn(z)?Be.pageY:Be.pageX),Xt=Math.abs(jt)/ot;if(Xt>.05&&(G(!0),setTimeout(()=>{G(!1)},200)),s){Mt({draggedDistance:jt*(z==="bottom"||z==="right"?1:-1),closeDrawer:$,velocity:Xt,dismissible:p}),i?.(Be,!0);return}if(z==="bottom"||z==="right"?jt>0:jt<0){ne(),i?.(Be,!0);return}if(Xt>$_){$(),i?.(Be,!1);return}var gn;const pn=Math.min((gn=we.current.getBoundingClientRect().height)!=null?gn:0,window.innerHeight);var xn;const yn=Math.min((xn=we.current.getBoundingClientRect().width)!=null?xn:0,window.innerWidth),Dr=z==="left"||z==="right";if(Math.abs(pt)>=(Dr?yn:pn)*d){$(),i?.(Be,!1);return}i?.(Be,!0),ne()}Ve.useEffect(()=>(q&&(Gn(document.documentElement,{scrollBehavior:"auto"}),ie.current=new Date),()=>{K$(document.documentElement,"scrollBehavior")}),[q]);function We(Be){const pt=Be?(window.innerWidth-Rl)/window.innerWidth:1,ot=Be?-Rl:0;Ge.current&&window.clearTimeout(Ge.current),Gn(we.current,{transition:`transform ${wn.DURATION}s cubic-bezier(${wn.EASE.join(",")})`,transform:Bn(z)?`scale(${pt}) translate3d(0, ${ot}px, 0)`:`scale(${pt}) translate3d(${ot}px, 0, 0)`}),!Be&&we.current&&(Ge.current=setTimeout(()=>{const jt=tp(we.current,z);Gn(we.current,{transition:"none",transform:Bn(z)?`translate3d(0, ${jt}px, 0)`:`translate3d(${jt}px, 0, 0)`})},500))}function Ye(Be,pt){if(pt<0)return;const ot=(window.innerWidth-Rl)/window.innerWidth,jt=ot+pt*(1-ot),Xt=-Rl+pt*Rl;Gn(we.current,{transform:Bn(z)?`scale(${jt}) translate3d(0, ${Xt}px, 0)`:`scale(${jt}) translate3d(${Xt}px, 0, 0)`,transition:"none"})}function wt(Be,pt){const ot=Bn(z)?window.innerHeight:window.innerWidth,jt=pt?(ot-Rl)/ot:1,Xt=pt?-Rl:0;pt&&Gn(we.current,{transition:`transform ${wn.DURATION}s cubic-bezier(${wn.EASE.join(",")})`,transform:Bn(z)?`scale(${jt}) translate3d(0, ${Xt}px, 0)`:`scale(${jt}) translate3d(${Xt}px, 0, 0)`})}return Ve.useEffect(()=>{j||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[j]),Ve.createElement(Lj,{defaultOpen:I,onOpenChange:Be=>{!p&&!Be||(Be?R(!0):$(!0),F(Be))},open:q},Ve.createElement(P_.Provider,{value:{activeSnapPoint:Le,snapPoints:s,setActiveSnapPoint:zt,drawerRef:we,overlayRef:P,onOpenChange:t,onPress:Ue,onRelease:nt,onDrag:Ze,dismissible:p,shouldAnimate:ze,handleOnly:m,isOpen:q,isDragging:U,shouldFade:Yt,closeDrawer:$,onNestedDrag:Ye,onNestedOpenChange:We,onNestedRelease:wt,keyboardIsOpen:Me,modal:j,snapPointsOffset:Ot,activeSnapPointIndex:Xe,direction:z,shouldScaleBackground:a,setBackgroundColorOnScale:u,noBodyStyles:A,container:V,autoFocus:K}},n))}const q_=Ve.forwardRef(function({...e},t){const{overlayRef:n,snapPoints:r,onRelease:i,shouldFade:s,isOpen:a,modal:u,shouldAnimate:d}=kf(),f=F_(t,n),p=r&&r.length>0;if(!u)return null;const m=Ve.useCallback(x=>i(x),[i]);return Ve.createElement(zj,{onMouseUp:m,ref:f,"data-vaul-overlay":"","data-vaul-snap-points":a&&p?"true":"false","data-vaul-snap-points-overlay":a&&s?"true":"false","data-vaul-animate":d?.current?"true":"false",...e})});q_.displayName="Drawer.Overlay";const G_=Ve.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:n,...r},i){const{drawerRef:s,onPress:a,onRelease:u,onDrag:d,keyboardIsOpen:f,snapPointsOffset:p,activeSnapPointIndex:m,modal:x,isOpen:y,direction:v,snapPoints:k,container:j,handleOnly:C,shouldAnimate:N,autoFocus:A}=kf(),[z,I]=Ve.useState(!1),T=F_(i,s),E=Ve.useRef(null),M=Ve.useRef(null),L=Ve.useRef(!1),D=k&&k.length>0;rH();const V=(J,Z,q=0)=>{if(L.current)return!0;const F=Math.abs(J.y),W=Math.abs(J.x),R=W>F,U=["bottom","right"].includes(Z)?1:-1;if(Z==="left"||Z==="right"){if(!(J.x*U<0)&&W>=0&&W<=q)return R}else if(!(J.y*U<0)&&F>=0&&F<=q)return!R;return L.current=!0,!0};Ve.useEffect(()=>{D&&window.requestAnimationFrame(()=>{I(!0)})},[]);function K(J){E.current=null,L.current=!1,u(J)}return Ve.createElement(Ij,{"data-vaul-drawer-direction":v,"data-vaul-drawer":"","data-vaul-delayed-snap-points":z?"true":"false","data-vaul-snap-points":y&&D?"true":"false","data-vaul-custom-container":j?"true":"false","data-vaul-animate":N?.current?"true":"false",...r,ref:T,style:p&&p.length>0?{"--snap-point-height":`${p[m??0]}px`,...t}:t,onPointerDown:J=>{C||(r.onPointerDown==null||r.onPointerDown.call(r,J),E.current={x:J.pageX,y:J.pageY},a(J))},onOpenAutoFocus:J=>{n?.(J),A||J.preventDefault()},onPointerDownOutside:J=>{if(e?.(J),!x||J.defaultPrevented){J.preventDefault();return}f.current&&(f.current=!1)},onFocusOutside:J=>{if(!x){J.preventDefault();return}},onPointerMove:J=>{if(M.current=J,C||(r.onPointerMove==null||r.onPointerMove.call(r,J),!E.current))return;const Z=J.pageY-E.current.y,q=J.pageX-E.current.x,F=J.pointerType==="touch"?10:2;V({x:q,y:Z},v,F)?d(J):(Math.abs(q)>F||Math.abs(Z)>F)&&(E.current=null)},onPointerUp:J=>{r.onPointerUp==null||r.onPointerUp.call(r,J),E.current=null,L.current=!1,u(J)},onPointerOut:J=>{r.onPointerOut==null||r.onPointerOut.call(r,J),K(M.current)},onContextMenu:J=>{r.onContextMenu==null||r.onContextMenu.call(r,J),M.current&&K(M.current)}})});G_.displayName="Drawer.Content";const aH=250,lH=120,oH=Ve.forwardRef(function({preventCycle:e=!1,children:t,...n},r){const{closeDrawer:i,isDragging:s,snapPoints:a,activeSnapPoint:u,setActiveSnapPoint:d,dismissible:f,handleOnly:p,isOpen:m,onPress:x,onDrag:y}=kf(),v=Ve.useRef(null),k=Ve.useRef(!1);function j(){if(k.current){A();return}window.setTimeout(()=>{C()},lH)}function C(){if(s||e||k.current){A();return}if(A(),!a||a.length===0){f||i();return}if(u===a[a.length-1]&&f){i();return}const I=a.findIndex(E=>E===u);if(I===-1)return;const T=a[I+1];d(T)}function N(){v.current=window.setTimeout(()=>{k.current=!0},aH)}function A(){v.current&&window.clearTimeout(v.current),k.current=!1}return Ve.createElement("div",{onClick:j,onPointerCancel:A,onPointerDown:z=>{p&&x(z),N()},onPointerMove:z=>{p&&y(z)},ref:r,"data-vaul-drawer-visible":m?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n},Ve.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});oH.displayName="Drawer.Handle";function uH(e){const t=kf(),{container:n=t.container,...r}=e;return Ve.createElement(Pj,{container:n,...r})}const cl={Root:sH,Content:G_,Overlay:q_,Trigger:az,Portal:uH,Close:$j,Title:Fj,Description:Bj};function cH({...e}){return l.jsx(cl.Root,{"data-slot":"drawer",...e})}function dH({...e}){return l.jsx(cl.Trigger,{"data-slot":"drawer-trigger",...e})}function fH({...e}){return l.jsx(cl.Portal,{"data-slot":"drawer-portal",...e})}function hH({...e}){return l.jsx(cl.Close,{"data-slot":"drawer-close",...e})}function pH({className:e,...t}){return l.jsx(cl.Overlay,{"data-slot":"drawer-overlay",className:Ae("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function mH({className:e,children:t,...n}){return l.jsxs(fH,{"data-slot":"drawer-portal",children:[l.jsx(pH,{}),l.jsxs(cl.Content,{"data-slot":"drawer-content",className:Ae("group/drawer-content bg-background fixed z-50 flex h-auto flex-col","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-3/4 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:sm:max-w-sm","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",e),...n,children:[l.jsx("div",{className:"bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block"}),t]})]})}function gH({className:e,...t}){return l.jsx("div",{"data-slot":"drawer-header",className:Ae("flex flex-col gap-0.5 p-4 group-data-[vaul-drawer-direction=bottom]/drawer-content:text-center group-data-[vaul-drawer-direction=top]/drawer-content:text-center md:gap-1.5 md:text-left",e),...t})}function xH({className:e,...t}){return l.jsx("div",{"data-slot":"drawer-footer",className:Ae("mt-auto flex flex-col gap-2 p-4",e),...t})}function yH({className:e,...t}){return l.jsx(cl.Title,{"data-slot":"drawer-title",className:Ae("text-foreground font-semibold",e),...t})}function bH({className:e,...t}){return l.jsx(cl.Description,{"data-slot":"drawer-description",className:Ae("text-muted-foreground text-sm",e),...t})}function W_({className:e,...t}){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,...t,children:l.jsx("path",{d:"M10.8206 1C12.5546 1.00015 14.0957 1.82153 15.0632 3.09087C17.3422 2.44903 19.8615 3.37767 21.1059 5.49159H21.1047C21.5547 6.25266 21.8008 7.11691 21.8182 8.00087C21.8328 8.74179 21.6833 9.4743 21.3886 10.1505C23.093 11.7726 23.5321 14.3857 22.2864 16.5023L22.2852 16.5046C21.8322 17.2663 21.1959 17.9027 20.4342 18.3557C19.7863 18.741 19.0645 18.9809 18.3186 19.0659C17.739 21.3331 15.6514 22.9997 13.1816 23C12.304 23.0024 11.4393 22.7892 10.6645 22.3769C9.98831 22.017 9.39925 21.5156 8.93562 20.9091C6.6563 21.5503 4.13614 20.6215 2.89177 18.5073V18.5061C2.44276 17.7453 2.19766 16.8813 2.18053 15.998C2.16622 15.2571 2.31409 14.5244 2.60908 13.8483C0.906637 12.2263 0.468458 9.6153 1.71353 7.49879L1.71466 7.49652C2.16788 6.73458 2.8048 6.09841 3.56682 5.64538C4.21456 5.26034 4.93563 5.01901 5.68133 4.9341C6.26079 2.66722 8.3487 1 10.8206 1ZM17.3213 12.3308L15.6251 11.3334L15.5279 17.0248C15.5243 17.2294 15.4129 17.4167 15.235 17.5178L10.1263 20.4127C10.1039 20.4254 10.0799 20.4365 10.0573 20.4489C10.3839 20.815 10.7727 21.1227 11.2084 21.3546C11.8151 21.6775 12.4922 21.8452 13.1793 21.8432H13.1816L13.3953 21.8375C15.5907 21.7282 17.3213 19.9495 17.3213 17.7903V12.3308ZM3.56795 14.5709C3.4084 15.0204 3.3291 15.4963 3.33841 15.9765C3.35177 16.6607 3.54102 17.33 3.88909 17.9192L3.89022 17.9204C5.03108 19.8587 7.56775 20.5304 9.55527 19.4051L14.3757 16.6731L14.4084 14.7541L9.32686 17.5234C9.15129 17.6191 8.93886 17.6163 8.76488 17.5178L3.65502 14.6229C3.62553 14.6062 3.59699 14.5881 3.56795 14.5709ZM5.52302 6.12824C5.04312 6.21746 4.5805 6.38947 4.15821 6.6405C3.56225 6.99482 3.06417 7.49317 2.70972 8.08907L2.70859 8.08794C1.5736 10.0205 2.24527 12.4942 4.22492 13.6154L9.05435 16.3508L10.7652 15.419L5.80684 12.4992C5.63018 12.3952 5.52189 12.2056 5.52189 12.0006V6.21079C5.52189 6.18322 5.52259 6.15571 5.52302 6.12824ZM9.62877 10.5441V13.405L11.9513 14.7733L14.4311 13.422L14.4786 10.6594L12.0441 9.2278L9.62877 10.5441ZM20.1074 6.07961C18.9665 4.14122 16.4309 3.46974 14.4435 4.59599L9.62877 7.32351V9.22554L14.673 6.47766C14.8487 6.382 15.0621 6.38473 15.2362 6.48332L20.3449 9.3782C20.3736 9.39446 20.4014 9.41237 20.4297 9.42908C20.5892 8.9795 20.6698 8.50376 20.6604 8.02348C20.6468 7.33919 20.4568 6.66992 20.1086 6.08075L20.1074 6.07961ZM18.4769 17.8717C18.9568 17.7825 19.4194 17.6117 19.8417 17.3606C20.363 17.0506 20.8091 16.6306 21.15 16.1314L21.2902 15.912C22.4249 13.9807 21.7547 11.5068 19.775 10.3858L14.9444 7.64918L13.2302 8.58211L18.1942 11.5019C18.3709 11.6059 18.4791 11.7955 18.4791 12.0006V17.7903C18.4791 17.8175 18.4773 17.8446 18.4769 17.8717ZM6.67978 11.6692L8.47088 12.7243V6.98653C8.47092 6.77827 8.58271 6.58618 8.76375 6.48332L13.8725 3.58843C13.8958 3.5752 13.9202 3.56283 13.9437 3.54998C13.1848 2.69816 12.0683 2.15809 10.8206 2.15795C8.52244 2.15795 6.67978 3.9817 6.67978 6.21079V11.6692Z",fill:"currentColor",className:e})})}function Y_({className:e,...t}){return l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,...t,children:[l.jsx("g",{clipPath:"url(#clip0_26_2463)",children:l.jsx("path",{d:"M4.71397 15.956L9.43197 13.308L9.51097 13.078L9.43097 12.95H9.20097L8.41097 12.902L5.71597 12.829L3.37897 12.732L1.11397 12.61L0.543972 12.489L0.00897217 11.785L0.0639722 11.432L0.543972 11.111L1.22897 11.171L2.74697 11.275L5.02397 11.432L6.67497 11.53L9.12197 11.785H9.51097L9.56497 11.627L9.43197 11.53L9.32897 11.432L6.97297 9.836L4.42297 8.148L3.08697 7.176L2.36497 6.685L1.99997 6.223L1.84197 5.215L2.49797 4.493L3.37797 4.553L3.60197 4.614L4.49497 5.3L6.40097 6.776L8.89097 8.609L9.25497 8.913L9.40097 8.809L9.41897 8.737L9.25497 8.463L7.90097 6.017L6.45597 3.527L5.81197 2.495L5.64197 1.876C5.57784 1.63815 5.54324 1.39331 5.53897 1.147L6.28697 0.133L6.69997 0L7.69497 0.134L8.11497 0.498L8.73397 1.913L9.73497 4.14L11.29 7.17L11.745 8.068L11.988 8.9L12.078 9.155H12.237V9.01L12.364 7.304L12.601 5.209L12.831 2.514L12.911 1.754L13.287 0.844L14.034 0.352L14.617 0.632L15.097 1.317L15.03 1.761L14.744 3.612L14.186 6.515L13.821 8.457H14.034L14.277 8.215L15.26 6.909L16.912 4.845L17.64 4.025L18.49 3.121L19.037 2.69H20.069L20.828 3.819L20.488 4.985L19.425 6.332L18.545 7.474L17.282 9.174L16.492 10.534L16.566 10.644L16.754 10.624L19.607 10.018L21.149 9.738L22.989 9.423L23.821 9.811L23.911 10.206L23.584 11.013L21.617 11.499L19.31 11.961L15.874 12.774L15.831 12.804L15.88 12.865L17.428 13.011L18.09 13.047H19.71L22.728 13.272L23.518 13.794L23.991 14.432L23.911 14.917L22.698 15.537L21.058 15.148L17.233 14.238L15.923 13.909H15.74V14.019L16.833 15.087L18.836 16.897L21.344 19.227L21.471 19.805L21.15 20.26L20.81 20.211L18.606 18.554L17.756 17.807L15.831 16.187H15.704V16.357L16.147 17.006L18.49 20.527L18.612 21.607L18.442 21.96L17.835 22.173L17.167 22.051L15.795 20.127L14.38 17.959L13.239 16.016L13.099 16.096L12.425 23.35L12.109 23.72L11.381 24L10.774 23.539L10.452 22.792L10.774 21.316L11.162 19.392L11.478 17.862L11.763 15.962L11.933 15.33L11.921 15.288L11.781 15.306L10.349 17.273L8.16897 20.218L6.44497 22.063L6.03197 22.227L5.31597 21.857L5.38197 21.195L5.78297 20.606L8.16897 17.57L9.60797 15.688L10.537 14.602L10.531 14.444H10.476L4.13797 18.56L3.00797 18.706L2.52297 18.25L2.58297 17.504L2.81397 17.261L4.72097 15.949L4.71397 15.956Z",fill:"currentColor",className:e})}),l.jsx("defs",{children:l.jsx("clipPath",{id:"clip0_26_2463",children:l.jsx("rect",{width:"24",height:"24",fill:"white"})})})]})}function K_({className:e,...t}){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,...t,children:l.jsx("path",{d:"M6 2V22H10V2H6ZM13.9984 2V22H18V2H13.9984Z",fill:"currentColor",className:e})})}function J_({className:e,...t}){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,...t,children:l.jsx("path",{d:"M22.9956 12.0198C20.1412 12.1944 17.4492 13.4073 15.427 15.4299C13.4048 17.4525 12.1922 20.145 12.0176 23H11.9736C11.6216 17.0984 6.8993 12.3763 1 12.0198V11.9758C6.8993 11.6237 11.6216 6.90048 11.978 1H12.022C12.3784 6.90048 17.1007 11.6237 23 11.9802V12.0198H22.9956Z",fill:"currentColor",className:e})})}function X_({className:e,...t}){return l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,...t,children:[l.jsx("path",{d:"M9.26904 14.7636L17.2479 8.87699C17.639 8.58841 18.1981 8.70097 18.3845 9.14925C19.3655 11.5133 18.9272 14.3543 16.9755 16.3049C15.0238 18.2555 12.3082 18.6833 9.82611 17.709L7.11461 18.9637C11.0037 21.6204 15.7263 20.9634 18.6774 18.0119C21.0182 15.6724 21.7432 12.4835 21.0653 9.60774L21.0714 9.61385C20.0884 5.38925 21.3131 3.70063 23.8219 0.247664C23.8812 0.165792 23.9406 0.0839191 24 0L20.6987 3.29946V3.28922L9.26702 14.7657",fill:"currentColor",className:e}),l.jsx("path",{d:"M7.62253 16.1944C4.83114 13.5294 5.31241 9.40506 7.69418 7.02672C9.4554 5.26644 12.341 4.54802 14.86 5.60417L17.5653 4.35561C17.078 4.00356 16.4533 3.6249 15.7365 3.35882C12.4967 2.02635 8.61781 2.68951 5.98414 5.31966C3.45081 7.85156 2.65416 11.7446 4.0222 15.0666C5.04412 17.5494 3.36889 19.3055 1.68137 21.0781C1.08337 21.7064 0.483316 22.3348 0 23L7.62045 16.1964",fill:"currentColor",className:e})]})}function Z_({className:e,...t}){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,...t,children:l.jsx("path",{d:"M19.9105 19H10.2506C10.075 16.9429 7.68928 15.7143 6.5184 15.3571V15.5714C8.62602 16.2571 9.44565 18.1429 9.59201 19H1.68842C-1.12174 10.4286 5.34748 7.57143 8.93337 7.21429C9.81154 9.95714 12.5192 10.5 13.7633 10.4286V10.2143H13.5438C9.50416 9.87143 8.64062 5.92857 8.7138 4C9.59198 4.42857 12.4461 5.07143 17.9346 7.42857C22.3255 9.31429 23.1305 12.2143 22.9842 13.4286C19.8227 14.8 18.5933 16.8571 18.3737 17.7143L19.9105 19Z",fill:"currentColor",className:e})})}function Q_({className:e,...t}){return l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,...t,children:[l.jsx("path",{d:"M5.4049 12.1958C5.43899 12.1961 5.47253 12.2051 5.50186 12.2214L8.59816 15.4963C8.62699 15.5123 8.65071 15.5352 8.66733 15.5624C8.68392 15.5896 8.69281 15.6205 8.69285 15.6518C8.69285 15.6832 8.68396 15.7145 8.66733 15.7418C8.65075 15.7689 8.62687 15.7914 8.59816 15.8074L5.50186 16.7218C5.47254 16.738 5.43899 16.7465 5.4049 16.7468C5.37084 16.7471 5.33701 16.7392 5.30738 16.7235C5.27768 16.7077 5.25255 16.6844 5.23537 16.6568C5.21831 16.6293 5.20932 16.598 5.20929 16.5662V12.3769C5.2093 12.345 5.2182 12.3134 5.23537 12.2858C5.25255 12.2582 5.2777 12.2355 5.30738 12.2197C5.33703 12.204 5.37081 12.1955 5.4049 12.1958Z",fill:"currentColor",className:e}),l.jsx("path",{d:"M13.4255 5.95042C13.4975 5.92023 13.5811 5.95151 13.6143 6.02097C13.6472 6.0907 13.6175 6.17378 13.5474 6.20819C13.3402 6.30977 13.227 6.4335 13.1692 6.56151C13.1106 6.69155 13.1019 6.84262 13.1323 7.00872C13.1943 7.34673 13.4105 7.70949 13.6035 7.99314C13.6372 8.04267 13.6358 8.1078 13.6001 8.15591C13.5642 8.20393 13.5014 8.22496 13.443 8.20869C12.4359 7.92677 11.804 7.861 11.2511 7.9287C10.6934 7.99701 10.2052 8.20151 9.47245 8.48868C9.40854 8.51361 9.33516 8.49104 9.29725 8.43479C9.25953 8.3785 9.26741 8.30359 9.31596 8.25591C9.74675 7.83375 9.82921 7.40566 9.76898 7.04261C9.70713 6.67079 9.49302 6.35502 9.31596 6.18152C9.26694 6.13335 9.25953 6.05735 9.29839 6.00097C9.33743 5.94483 9.41207 5.92372 9.47585 5.95042C11.0524 6.61235 12.7699 6.22562 13.4255 5.95042Z",fill:"currentColor",className:e}),l.jsx("path",{d:"M10.455 3.16327C10.4911 3.1047 10.5654 3.07884 10.6308 3.10272C11.516 3.42798 12.4841 3.23755 12.8511 3.10272C12.9245 3.07586 13.0067 3.11177 13.0365 3.18272C13.066 3.254 13.0324 3.33563 12.9605 3.3666C12.8505 3.41376 12.8001 3.46691 12.7768 3.5116C12.7536 3.55669 12.7475 3.61324 12.7621 3.68381C12.7934 3.83358 12.9072 4.00316 13.0178 4.14547C13.0549 4.19336 13.057 4.25957 13.0235 4.30991C12.9896 4.36033 12.9268 4.384 12.867 4.36935C12.2945 4.22914 11.9397 4.19752 11.6321 4.23046C11.3208 4.26386 11.0486 4.364 10.628 4.50823C10.5624 4.53071 10.4895 4.50426 10.4545 4.44546C10.4199 4.38669 10.4318 4.31131 10.484 4.26657C10.7131 4.06997 10.7478 3.88257 10.7192 3.73159C10.688 3.56821 10.5777 3.42366 10.484 3.34327C10.4316 3.29802 10.4193 3.22207 10.455 3.16327Z",fill:"currentColor",className:e}),l.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.3577 0.0950224C11.5901 -0.0363895 11.878 -0.0310824 12.1055 0.108355L21.5606 5.90431C21.5676 5.9086 21.5742 5.91368 21.581 5.9182C21.5937 5.9266 21.6063 5.9352 21.6184 5.94431C21.6313 5.95404 21.6437 5.96437 21.6558 5.97486C21.6673 5.98484 21.6785 5.99534 21.6893 6.00597C21.6972 6.01376 21.705 6.02175 21.7125 6.02986C21.7242 6.04252 21.7352 6.05588 21.746 6.0693C21.7544 6.0799 21.7631 6.0905 21.7709 6.10152C21.7793 6.11331 21.7866 6.12594 21.7942 6.13819C21.8012 6.14958 21.8087 6.16088 21.8151 6.17263C21.8236 6.18815 21.8311 6.2043 21.8384 6.22041C21.8429 6.23036 21.848 6.24026 21.852 6.25041C21.8612 6.27369 21.8686 6.29785 21.8752 6.32207C21.8784 6.33358 21.8812 6.34539 21.8837 6.35707C21.8874 6.37357 21.8915 6.39026 21.8939 6.40707L21.8945 6.41318C21.8969 6.43055 21.8974 6.44833 21.8985 6.46596L21.9013 6.50096L22 17.8784C22.0022 18.1359 21.862 18.3747 21.6337 18.5023L11.9553 23.9066C11.8151 23.9849 11.6549 24.014 11.5 23.9938C11.345 24.014 11.1849 23.9849 11.0447 23.9066L1.36627 18.5023C1.13989 18.3758 1 18.1399 1 17.8845V6.50707C1.00002 6.48266 1.00202 6.45827 1.00454 6.43429C1.002 6.40886 1.00028 6.38297 1.00057 6.35707C1.00349 6.10598 1.14093 5.8749 1.36287 5.74931L11.3577 0.0950224ZM2.45148 17.4712L10.6784 22.065V12.5213L5.25635 9.29644L2.45148 7.73037V17.4712ZM19.4423 14.9818C19.1722 14.4874 18.3623 15.2299 18.0923 15.4774C17.8766 15.6756 17.8224 16.2199 17.8224 16.4674C17.8222 16.9624 15.6628 17.7048 15.6628 17.4573C15.6628 17.2097 15.6628 16.7146 15.3929 16.7146C15.1769 16.7146 14.5828 17.0451 14.3128 17.2101C14.1328 17.2927 13.7731 17.5072 13.773 17.7051C13.773 17.9526 13.7731 18.4475 14.0429 18.6951C14.3128 18.9426 15.6624 18.6953 16.2026 18.4479C16.7425 18.2003 17.8227 17.7047 18.9025 16.7146C19.7662 15.9225 19.6223 15.2294 19.4423 14.9818ZM15.5783 12.7647C15.2578 12.7649 14.9978 13.2094 14.9977 13.5235V14.6613C14.9978 14.9752 15.2578 15.0401 15.5783 15.0402C15.899 15.0402 16.1589 14.596 16.1589 14.2819V13.1441C16.1589 12.83 15.8989 12.7647 15.5783 12.7647ZM17.8372 11.3775C17.5166 11.3775 17.2568 11.8216 17.2566 12.1358V13.2735C17.2566 13.5877 17.5165 13.653 17.8372 13.653C18.1578 13.653 18.4177 13.2088 18.4178 12.8947V11.7569C18.4177 11.4428 18.1578 11.3775 17.8372 11.3775ZM3.14944 6.38041L5.98493 8.06703L11.4983 11.1453L19.7655 6.48151L11.7052 1.54054L3.14944 6.38041Z",fill:"currentColor",className:e})]})}function eN({className:e,...t}){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,...t,children:l.jsx("path",{d:"M12 1C18.0751 1 22.9999 5.92485 23 12C23 17.4219 19.0778 21.927 13.916 22.834L13.2803 22.9463L13.4082 22.3135C13.5338 21.6941 13.6265 20.6844 13.4932 19.7002C13.3581 18.7041 13.0058 17.8268 12.3311 17.3447C11.419 16.6933 10.3218 16.4893 9.07617 16.8389C7.81498 17.1929 6.38412 18.1219 4.86621 19.7744L4.55566 20.1113L4.23145 19.7881C2.23576 17.7972 1 15.0423 1 12C1.0001 5.92485 5.92493 1 12 1ZM12 1.87988C6.41094 1.87988 1.87998 6.41087 1.87988 12C1.87988 14.6362 2.88732 17.0366 4.53906 18.8379C5.69936 17.6392 6.84699 16.8032 7.95215 16.3135C8.4244 15.913 8.95701 15.2482 9.375 14.4688C9.76082 13.7492 10.0279 12.9699 10.0811 12.2539C9.79251 12.2271 9.49631 12.1782 9.20508 12.0918C8.22438 11.8008 7.28681 11.1202 6.88477 9.78027L6.6748 9.07812L7.39355 9.22168C7.61131 9.26518 7.95021 9.30315 8.24805 9.28027C8.30293 9.27605 8.35368 9.26935 8.39941 9.26172C8.069 8.83076 7.75253 8.25702 7.63672 7.62012C7.55641 7.17838 7.57141 6.69886 7.75391 6.22168C7.93677 5.7437 8.27708 5.29566 8.80273 4.90137L9.60449 4.2998L9.50391 5.29688C9.45754 5.76053 9.446 6.46612 9.55176 7.06934C9.55561 7.09128 9.56034 7.11339 9.56445 7.13477C9.74481 6.74467 10.0736 6.365 10.6006 6.04883L11.3926 5.57324L11.2617 6.48926C11.2265 6.73625 11.2697 7.14754 11.5303 7.51465C11.7766 7.86135 12.2535 8.21906 13.1787 8.33105C13.9613 8.23648 15.1139 8.27175 16.1016 8.70898C16.6151 8.93639 17.0985 9.27805 17.4521 9.7793C17.7505 10.2022 17.9406 10.7197 17.9951 11.3379C18.1925 11.4085 18.3678 11.5202 18.5156 11.6748C18.8131 11.9862 18.9575 12.4159 19.0264 12.8301C19.1645 13.6619 19.0343 14.6655 18.8818 15.3262L18.5537 16.748L18.041 15.3818C18.018 15.3204 17.9935 15.2607 17.9688 15.2041C17.6778 15.4085 17.3253 15.5229 17.0195 15.5869C16.589 15.6769 16.1345 15.6951 15.7725 15.6826L14.1641 18.6309C14.2573 18.9456 14.3226 19.2667 14.3652 19.5811C14.474 20.3834 14.4483 21.1913 14.3721 21.8398C18.8166 20.7724 22.1201 16.7719 22.1201 12C22.12 6.41087 17.5891 1.87988 12 1.87988ZM8.5752 6.53613C8.45952 6.83867 8.44541 7.1518 8.50195 7.46289C8.61791 8.10031 9.02714 8.69803 9.37793 9.04883L9.60156 9.27344L9.45996 9.55664C9.33814 9.80022 9.12673 9.94271 8.92969 10.0244C8.73318 10.1058 8.51556 10.1428 8.31543 10.1582C8.2132 10.1661 8.10907 10.1684 8.00684 10.167C8.3596 10.7544 8.88659 11.0791 9.45605 11.248C10.2277 11.4768 11.0688 11.4129 11.5996 11.2803C11.8353 11.2214 12.0749 11.3649 12.1338 11.6006C12.1924 11.8361 12.0489 12.0748 11.8135 12.1338C11.5737 12.1937 11.2827 12.2416 10.9629 12.2646C10.9074 13.1607 10.5813 14.0829 10.1514 14.8848C9.97037 15.2223 9.76621 15.5445 9.55176 15.8418C10.7653 15.6683 11.8853 15.9459 12.8418 16.6289C13.212 16.8934 13.4996 17.2288 13.7227 17.6025L15.0449 15.1777C14.7323 14.0731 14.9761 13.1831 15.4492 12.5273C15.9221 11.872 16.6036 11.4769 17.1074 11.3018C17.0536 10.8791 16.917 10.5477 16.7324 10.2861C16.4903 9.94311 16.1479 9.69101 15.7451 9.5127C14.9268 9.15053 13.9152 9.11786 13.2314 9.20898L13.1777 9.2168L13.125 9.21094C11.9671 9.08225 11.2323 8.61476 10.8125 8.02344C10.6498 7.79418 10.54 7.55395 10.4707 7.32031C10.3803 7.4495 10.3272 7.57232 10.2988 7.68164C10.2299 7.9472 10.2862 8.17564 10.3398 8.2832L10.7686 9.13867L9.83984 8.90723C9.44908 8.80948 9.18676 8.53125 9.0166 8.23047C8.84808 7.93242 8.74635 7.57383 8.68457 7.22168C8.64163 6.97684 8.61611 6.72164 8.60254 6.47168C8.59316 6.49334 8.58342 6.51464 8.5752 6.53613ZM15.8164 13.8525C15.7671 14.1295 15.7725 14.4451 15.8574 14.8047C16.1529 14.8115 16.5115 14.7933 16.8398 14.7246C17.1503 14.6596 17.3632 14.5647 17.4951 14.46C16.9465 13.8664 16.2536 13.7865 15.8164 13.8525ZM17.3818 12.1387C17.0338 12.2625 16.5646 12.534 16.2266 12.958C16.8495 12.9898 17.5949 13.232 18.1953 13.9189C18.2133 13.591 18.2072 13.2628 18.1592 12.9736C18.1033 12.6378 18.001 12.411 17.8789 12.2832C17.8163 12.2177 17.7342 12.1639 17.6104 12.1426C17.5981 12.1436 17.5858 12.1465 17.5732 12.1465C17.5364 12.1465 17.501 12.1404 17.4668 12.1318C17.44 12.1326 17.4117 12.1354 17.3818 12.1387Z",fill:"currentColor",className:e})})}function Vd({className:e,...t}){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,...t,children:l.jsx("path",{d:"M20 0C22.2091 2.57702e-07 24 1.79086 24 4V20C24 22.2091 22.2091 24 20 24H4C1.79086 24 6.44266e-08 22.2091 0 20V4C2.57706e-07 1.79086 1.79086 6.44256e-08 4 0H20ZM2 8V15H3.99512V12.6895H4.68555L5.97559 15H8.14258L6.64941 12.3887C7.03061 12.2145 7.33026 11.9685 7.54688 11.6475C7.7813 11.3034 7.89844 10.8802 7.89844 10.3789C7.89844 9.88216 7.78486 9.45605 7.55762 9.10059C7.33041 8.74524 7.01241 8.47328 6.60352 8.28418C6.19447 8.09505 5.71727 8 5.17188 8H2ZM8.74902 8V15H11.5762C12.3224 15 12.9698 14.8609 13.5176 14.583C14.0654 14.3027 14.4891 13.9017 14.7881 13.3799C15.0871 12.8558 15.2363 12.2291 15.2363 11.5C15.2363 10.771 15.0855 10.1458 14.7842 9.62402C14.4852 9.09995 14.0594 8.69889 13.5068 8.4209C12.9567 8.14062 12.3037 8 11.5479 8H8.74902ZM15.6133 8V9.53125H17.8232V15H19.79V9.53125H22V8H15.6133ZM11.4473 9.61328C11.8298 9.61328 12.153 9.66872 12.416 9.78027C12.6815 9.8919 12.8822 10.0851 13.0186 10.3584C13.1573 10.6318 13.2275 11.0124 13.2275 11.5C13.2275 11.9876 13.1588 12.3682 13.0225 12.6416C12.8885 12.915 12.6928 13.1081 12.4346 13.2197C12.1786 13.3314 11.8685 13.3867 11.5049 13.3867H10.7441V9.61328H11.4473ZM4.69824 9.51758C4.93266 9.51758 5.1328 9.54785 5.29785 9.60938C5.4652 9.66862 5.59317 9.76307 5.68164 9.89062C5.77233 10.0159 5.81738 10.1786 5.81738 10.3789C5.81738 10.5771 5.77254 10.7383 5.68164 10.8613C5.5932 10.9842 5.46503 11.0739 5.29785 11.1309C5.1328 11.1855 4.93266 11.2129 4.69824 11.2129H3.99512V9.51758H4.69824Z",fill:"currentColor",className:e})})}function tN({className:e,...t}){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,...t,children:l.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M17.1204 2C19.603 2 21.6156 4.01259 21.6156 6.49525C21.6156 8.9035 19.7218 10.8692 17.3423 10.9849L20.6834 14.326C22.4389 16.0815 22.4389 18.9279 20.6834 20.6834C18.9279 22.4389 16.0815 22.4389 14.326 20.6834L10.9849 17.3423C10.8692 19.7218 8.9035 21.6156 6.49525 21.6156C4.01259 21.6156 2 19.603 2 17.1204V6.49525C2 4.01259 4.01259 2 6.49525 2H17.1204ZM10.9905 10.9905V13.8798L16.0604 18.9498C16.8584 19.7476 18.1518 19.7477 18.9498 18.9498C19.7477 18.1518 19.7476 16.8584 18.9498 16.0604L13.8798 10.9905H10.9905ZM6.49525 4.45195C5.36677 4.45195 4.45195 5.36677 4.45195 6.49525V17.1204C4.45195 18.2489 5.36677 19.1637 6.49525 19.1637C7.62373 19.1637 8.53854 18.2489 8.53854 17.1204V6.49525C8.53854 5.36677 7.62373 4.45195 6.49525 4.45195ZM10.4988 4.45195C10.8124 5.06515 10.9905 5.75923 10.9905 6.49525V8.53854H17.1204C18.2489 8.53854 19.1637 7.62373 19.1637 6.49525C19.1637 5.36677 18.2489 4.45195 17.1204 4.45195H10.4988Z",fill:"currentColor",className:e})})}function qy({className:e,...t}){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,...t,children:l.jsx("path",{d:"M7.39551 15.8096L7.43262 15.8135H7.4707C7.64328 15.8135 8.32861 15.9279 8.99707 16.4531C9.07453 16.5227 9.15758 16.5942 9.24512 16.667C8.89303 16.8813 8.53216 17.0618 8.1748 17.2158H4.57324L5.76953 16.3066L5.77637 16.3027L5.78223 16.2979C5.8639 16.2331 6.11774 16.0859 6.46387 15.9648C6.80725 15.8448 7.14374 15.7848 7.39551 15.8096ZM15.7578 12.999L15.8203 13.0098H15.8818C16.0263 13.0098 16.935 13.1994 17.8564 14.4209C18.4505 15.3258 19.218 16.3987 20.1211 17.2158H13.2646C12.9107 17.1147 12.5167 16.9569 12.1016 16.7461C11.9914 16.6902 11.8822 16.6314 11.7744 16.5713C11.8186 16.5256 11.8638 16.4806 11.9072 16.4336L11.9102 16.4297L11.9141 16.4268L13.8779 14.2451L13.8984 14.2178C14.0761 13.9809 14.4094 13.6201 14.7969 13.3467C15.2048 13.0589 15.5355 12.9621 15.7578 12.999ZM12 6C18.075 6.00006 23 10.9249 23 17C23 17.0052 22.9991 17.0104 22.999 17.0156C22.901 17.0141 22.8048 17.0055 22.71 16.9883C22.3158 16.9167 21.9004 16.7109 21.4668 16.376C20.5865 15.6957 19.781 14.6035 19.1016 13.5664L19.0889 13.5469L19.0742 13.5273L18.9658 13.3877C17.8806 12.0139 16.6569 11.5319 15.9492 11.5029C15.1586 11.3935 14.4338 11.7547 13.9268 12.1123C13.4053 12.4802 12.9742 12.9415 12.7168 13.2773L10.7979 15.4092C10.6966 15.5188 10.5919 15.6236 10.4854 15.7246C10.2965 15.5801 10.1268 15.4408 9.98438 15.3115L9.96582 15.2939L9.94629 15.2783L9.76758 15.1436C8.8963 14.5173 7.9915 14.3163 7.50977 14.3057C6.96263 14.2591 6.40416 14.3858 5.96582 14.5391C5.52797 14.6921 5.11436 14.9045 4.85742 15.1045L3.47461 16.1533C2.67289 16.6691 2.27354 16.8916 1.97266 16.999C1.7078 17.0935 1.4999 17.1064 1.00195 17.1064C1.00069 17.071 1 17.0355 1 17C1 10.9249 5.92493 6 12 6Z",fill:"currentColor",className:e})})}function nN({className:e,...t}){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,...t,children:l.jsx("path",{d:"M2.70667 7.24356C5.26336 4.43667 8.9127 2.00618 15.649 3.40958C21.0382 4.53235 22.7664 9.03213 22.9469 10.9887C23.197 13.6994 22.6356 16.7871 19.8287 18.8481C17.0663 20.8763 13.0305 20.7197 12.0006 20.5326C11.327 20.3081 10.3165 19.9707 10.0358 18.8481C9.75509 16.8833 9.38051 15.6669 8.91272 14.9184C8.01453 15.3675 6.10536 15.4799 5.26331 15.4799C2.34453 15.4797 1.24045 13.4211 1.05334 12.392C0.828834 10.1467 1.30346 8.64693 2.70667 7.24356ZM16.7721 13.515C15.997 13.515 15.3688 14.1433 15.3688 14.9184C15.3688 15.6935 15.997 16.3217 16.7721 16.3217C17.5471 16.3216 18.1754 15.6934 18.1754 14.9184C18.1754 14.1433 17.5471 13.5151 16.7721 13.515ZM4.42151 11.269C3.9566 11.2691 3.57971 11.6468 3.57971 12.1117C3.57986 12.5766 3.95669 12.9534 4.42151 12.9535C4.88647 12.9535 5.26414 12.5767 5.26428 12.1117C5.26428 11.6467 4.88656 11.269 4.42151 11.269ZM18.4557 9.58536C17.6808 9.58557 17.0524 10.2137 17.0524 10.9887C17.0524 11.7637 17.6808 12.3918 18.4557 12.392C19.2308 12.392 19.86 11.7638 19.86 10.9887C19.86 10.2136 19.2308 9.58536 18.4557 9.58536ZM8.3512 5.65567C7.57621 5.65579 6.94788 6.28395 6.94788 7.05899C6.94788 7.83403 7.57621 8.46219 8.3512 8.46231C9.12629 8.46231 9.75452 7.8341 9.75452 7.05899C9.75452 6.28388 9.12629 5.65567 8.3512 5.65567ZM16.7721 5.65567C15.997 5.65567 15.3688 6.28388 15.3688 7.05899C15.3688 7.8341 15.997 8.46231 16.7721 8.46231C17.5471 8.46224 18.1754 7.83406 18.1754 7.05899C18.1754 6.28392 17.5471 5.65574 16.7721 5.65567ZM12.2809 3.9711C11.506 3.97117 10.8778 4.59954 10.8776 5.37442C10.8776 6.14949 11.5058 6.77865 12.2809 6.77872C13.056 6.77872 13.6842 6.14953 13.6842 5.37442C13.684 4.5995 13.0558 3.9711 12.2809 3.9711Z",fill:"currentColor",className:e})})}function vH({className:e,...t}){return l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,...t,children:[l.jsx("path",{d:"M15.1411 14.4417C15.1411 15.4134 14.9078 16.2438 14.4414 16.9329C13.9749 17.6042 13.2753 18.1166 12.3423 18.47C11.4094 18.8233 10.2523 19 8.87085 19C7.84824 19 6.96916 18.9293 6.2336 18.788C5.49803 18.6643 4.76247 18.4523 4.02691 18.1519V14.8922C4.81629 15.2456 5.66847 15.5371 6.58344 15.7668C7.4984 15.9965 8.30573 16.1113 9.00541 16.1113C9.79479 16.1113 10.3509 15.9965 10.6739 15.7668C11.0147 15.5371 11.1852 15.2367 11.1852 14.8657C11.1852 14.6184 11.1134 14.3975 10.9699 14.2032C10.8443 14.0088 10.5573 13.788 10.1088 13.5406C9.66024 13.2933 8.96056 12.9753 8.00971 12.5866C7.09474 12.1979 6.34124 11.818 5.7492 11.447C5.15716 11.0583 4.71762 10.5989 4.43057 10.0689C4.14352 9.5212 4 8.84099 4 8.02827C4 6.68551 4.52925 5.67845 5.58774 5.00707C6.64623 4.33569 8.05456 4 9.81273 4C10.7277 4 11.5978 4.08834 12.4231 4.26502C13.2483 4.4417 13.5623 4.60071 14.4414 5.00707V8.02827C12.8985 7.52648 13.3471 7.68549 12.8985 7.52648C12.45 7.36747 11.4812 7.13604 11.0506 7.0477C10.638 6.95936 10.2074 6.9152 9.75891 6.9152C9.16687 6.9152 8.71836 6.9947 8.41337 7.15371C8.12632 7.31272 7.9828 7.55124 7.9828 7.86926C7.9828 8.09894 8.05456 8.31095 8.19808 8.5053C8.35955 8.68198 8.65557 8.87633 9.08614 9.08834C9.53465 9.30035 10.1895 9.58304 11.0506 9.9364C11.8938 10.2721 12.6204 10.6254 13.2304 10.9965C13.8404 11.3498 14.3068 11.8004 14.6298 12.3481C14.9706 12.8781 15.1411 13.576 15.1411 14.4417Z",fill:"currentColor",className:e}),l.jsx("path",{d:"M20 17.0966C20 18.113 19.1633 18.937 18.1312 18.937C17.0991 18.937 16.2624 18.113 16.2624 17.0966C16.2624 16.0801 17.0991 15.2562 18.1312 15.2562C19.1633 15.2562 20 16.0801 20 17.0966Z",fill:"currentColor",className:e})]})}function rN({className:e,...t}){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,...t,children:l.jsx("path",{d:"M8.95996 22L3.12598 16.124H8.95996V22ZM21.6992 12.7236C21.6992 19.0194 16.7325 21.0552 14.249 21.2861L9.08594 16.124H12.6328C15.252 16.124 15.7247 13.8569 15.6338 12.7236V2.02051H21.6992V12.7236ZM8.98145 16.082L3 10.1006V2H8.98145V16.082Z",fill:"currentColor",className:e})})}const wH={chatgpt:W_,claude:Y_,gemini:J_,grok:X_,elevenlabs:K_,playai:Q_,polly:eN,runway:tN,pika:Z_,stable_diffusion:nN,stable_video:vH,stable_audio:qy,udio:rN,reduct:Vd,google:g5,kakao:y5,naver:x5},kH=[{value:"chatgpt",label:"ChatGPT"},{value:"claude",label:"Claude"},{value:"gemini",label:"Gemini"},{value:"grok",label:"Grok"},{value:"elevenlabs",label:"ElevenLabs"},{value:"playai",label:"PlayAI"},{value:"polly",label:"Polly"},{value:"runway",label:"Runway"},{value:"pika",label:"Pika"},{value:"stable_diffusion",label:"Stable Diffusion"},{value:"stable_video",label:"Stable Video"},{value:"stable_audio",label:"Stable Audio"},{value:"udio",label:"Udio"},{value:"reduct",label:"Reduct"},{value:"google",label:"Google"},{value:"kakao",label:"Kakao"},{value:"naver",label:"Naver"}];function qd({logoKey:e,className:t,...n}){if(!e)return null;const r=wH[e];return r?l.jsx(r,{className:t,...n}):null}function SH({className:e,...t}){return l.jsx("div",{"data-slot":"card",className:Ae("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function CH({className:e,...t}){return l.jsx("div",{"data-slot":"card-header",className:Ae("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function jH({className:e,...t}){return l.jsx("div",{"data-slot":"card-title",className:Ae("leading-none font-semibold",e),...t})}function _H({className:e,...t}){return l.jsx("div",{"data-slot":"card-description",className:Ae("text-muted-foreground text-sm",e),...t})}function NH({className:e,...t}){return l.jsx("div",{"data-slot":"card-content",className:Ae("px-6",e),...t})}function EH({className:e,...t}){return l.jsx("div",{"data-slot":"card-footer",className:Ae("flex items-center px-6 [.border-t]:pt-6",e),...t})}var AH="Label",iN=b.forwardRef((e,t)=>l.jsx(St.label,{...e,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(e.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));iN.displayName=AH;var DH=iN;function be({className:e,...t}){return l.jsx(DH,{"data-slot":"label",className:Ae("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function am(e,[t,n]){return Math.min(n,Math.max(t,e))}var TH=[" ","Enter","ArrowUp","ArrowDown"],MH=[" ","Enter"],Ql="Select",[Zm,Qm,OH]=Wm(Ql),[Vu,Xle]=ci(Ql,[OH,Ss]),e0=Ss(),[RH,dl]=Vu(Ql),[LH,PH]=Vu(Ql),sN=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:s,value:a,defaultValue:u,onValueChange:d,dir:f,name:p,autoComplete:m,disabled:x,required:y,form:v}=e,k=e0(t),[j,C]=b.useState(null),[N,A]=b.useState(null),[z,I]=b.useState(!1),T=Ym(f),[E,M]=$i({prop:r,defaultProp:i??!1,onChange:s,caller:Ql}),[L,D]=$i({prop:a,defaultProp:u,onChange:d,caller:Ql}),V=b.useRef(null),K=j?v||!!j.closest("form"):!0,[J,Z]=b.useState(new Set),q=Array.from(J).map(F=>F.props.value).join(";");return l.jsx(mf,{...k,children:l.jsxs(RH,{required:y,scope:t,trigger:j,onTriggerChange:C,valueNode:N,onValueNodeChange:A,valueNodeHasChildren:z,onValueNodeHasChildrenChange:I,contentId:Fi(),value:L,onValueChange:D,open:E,onOpenChange:M,dir:T,triggerPointerDownPosRef:V,disabled:x,children:[l.jsx(Zm.Provider,{scope:t,children:l.jsx(LH,{scope:e.__scopeSelect,onNativeOptionAdd:b.useCallback(F=>{Z(W=>new Set(W).add(F))},[]),onNativeOptionRemove:b.useCallback(F=>{Z(W=>{const R=new Set(W);return R.delete(F),R})},[]),children:n})}),K?l.jsxs(NN,{"aria-hidden":!0,required:y,tabIndex:-1,name:p,autoComplete:m,value:L,onChange:F=>D(F.target.value),disabled:x,form:v,children:[L===void 0?l.jsx("option",{value:""}):null,Array.from(J)]},q):null]})})};sN.displayName=Ql;var aN="SelectTrigger",lN=b.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,s=e0(n),a=dl(aN,n),u=a.disabled||r,d=At(t,a.onTriggerChange),f=Qm(n),p=b.useRef("touch"),[m,x,y]=AN(k=>{const j=f().filter(A=>!A.disabled),C=j.find(A=>A.value===a.value),N=DN(j,k,C);N!==void 0&&a.onValueChange(N.value)}),v=k=>{u||(a.onOpenChange(!0),y()),k&&(a.triggerPointerDownPosRef.current={x:Math.round(k.pageX),y:Math.round(k.pageY)})};return l.jsx(Uu,{asChild:!0,...s,children:l.jsx(St.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":EN(a.value)?"":void 0,...i,ref:d,onClick:Pe(i.onClick,k=>{k.currentTarget.focus(),p.current!=="mouse"&&v(k)}),onPointerDown:Pe(i.onPointerDown,k=>{p.current=k.pointerType;const j=k.target;j.hasPointerCapture(k.pointerId)&&j.releasePointerCapture(k.pointerId),k.button===0&&k.ctrlKey===!1&&k.pointerType==="mouse"&&(v(k),k.preventDefault())}),onKeyDown:Pe(i.onKeyDown,k=>{const j=m.current!=="";!(k.ctrlKey||k.altKey||k.metaKey)&&k.key.length===1&&x(k.key),!(j&&k.key===" ")&&TH.includes(k.key)&&(v(),k.preventDefault())})})})});lN.displayName=aN;var oN="SelectValue",uN=b.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:a="",...u}=e,d=dl(oN,n),{onValueNodeHasChildrenChange:f}=d,p=s!==void 0,m=At(t,d.onValueNodeChange);return jr(()=>{f(p)},[f,p]),l.jsx(St.span,{...u,ref:m,style:{pointerEvents:"none"},children:EN(d.value)?l.jsx(l.Fragment,{children:a}):s})});uN.displayName=oN;var zH="SelectIcon",cN=b.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return l.jsx(St.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});cN.displayName=zH;var IH="SelectPortal",dN=e=>l.jsx(uo,{asChild:!0,...e});dN.displayName=IH;var eo="SelectContent",fN=b.forwardRef((e,t)=>{const n=dl(eo,e.__scopeSelect),[r,i]=b.useState();if(jr(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?zu.createPortal(l.jsx(hN,{scope:e.__scopeSelect,children:l.jsx(Zm.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),s):null}return l.jsx(pN,{...e,ref:t})});fN.displayName=eo;var zi=10,[hN,fl]=Vu(eo),FH="SelectContentImpl",BH=nl("SelectContent.RemoveScroll"),pN=b.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:u,sideOffset:d,align:f,alignOffset:p,arrowPadding:m,collisionBoundary:x,collisionPadding:y,sticky:v,hideWhenDetached:k,avoidCollisions:j,...C}=e,N=dl(eo,n),[A,z]=b.useState(null),[I,T]=b.useState(null),E=At(t,ae=>z(ae)),[M,L]=b.useState(null),[D,V]=b.useState(null),K=Qm(n),[J,Z]=b.useState(!1),q=b.useRef(!1);b.useEffect(()=>{if(A)return zm(A)},[A]),Lm();const F=b.useCallback(ae=>{const[ke,...Ge]=K().map(ze=>ze.ref.current),[He]=Ge.slice(-1),Me=document.activeElement;for(const ze of ae)if(ze===Me||(ze?.scrollIntoView({block:"nearest"}),ze===ke&&I&&(I.scrollTop=0),ze===He&&I&&(I.scrollTop=I.scrollHeight),ze?.focus(),document.activeElement!==Me))return},[K,I]),W=b.useCallback(()=>F([M,A]),[F,M,A]);b.useEffect(()=>{J&&W()},[J,W]);const{onOpenChange:R,triggerPointerDownPosRef:U}=N;b.useEffect(()=>{if(A){let ae={x:0,y:0};const ke=He=>{ae={x:Math.abs(Math.round(He.pageX)-(U.current?.x??0)),y:Math.abs(Math.round(He.pageY)-(U.current?.y??0))}},Ge=He=>{ae.x<=10&&ae.y<=10?He.preventDefault():A.contains(He.target)||R(!1),document.removeEventListener("pointermove",ke),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",ke),document.addEventListener("pointerup",Ge,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ke),document.removeEventListener("pointerup",Ge,{capture:!0})}}},[A,R,U]),b.useEffect(()=>{const ae=()=>R(!1);return window.addEventListener("blur",ae),window.addEventListener("resize",ae),()=>{window.removeEventListener("blur",ae),window.removeEventListener("resize",ae)}},[R]);const[_,Q]=AN(ae=>{const ke=K().filter(Me=>!Me.disabled),Ge=ke.find(Me=>Me.ref.current===document.activeElement),He=DN(ke,ae,Ge);He&&setTimeout(()=>He.ref.current.focus())}),G=b.useCallback((ae,ke,Ge)=>{const He=!q.current&&!Ge;(N.value!==void 0&&N.value===ke||He)&&(L(ae),He&&(q.current=!0))},[N.value]),P=b.useCallback(()=>A?.focus(),[A]),ie=b.useCallback((ae,ke,Ge)=>{const He=!q.current&&!Ge;(N.value!==void 0&&N.value===ke||He)&&V(ae)},[N.value]),H=r==="popper"?Gy:mN,te=H===Gy?{side:u,sideOffset:d,align:f,alignOffset:p,arrowPadding:m,collisionBoundary:x,collisionPadding:y,sticky:v,hideWhenDetached:k,avoidCollisions:j}:{};return l.jsx(hN,{scope:n,content:A,viewport:I,onViewportChange:T,itemRefCallback:G,selectedItem:M,onItemLeave:P,itemTextRefCallback:ie,focusSelectedItem:W,selectedItemText:D,position:r,isPositioned:J,searchRef:_,children:l.jsx(hf,{as:BH,allowPinchZoom:!0,children:l.jsx(ff,{asChild:!0,trapped:N.open,onMountAutoFocus:ae=>{ae.preventDefault()},onUnmountAutoFocus:Pe(i,ae=>{N.trigger?.focus({preventScroll:!0}),ae.preventDefault()}),children:l.jsx(oo,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:ae=>ae.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:l.jsx(H,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:ae=>ae.preventDefault(),...C,...te,onPlaced:()=>Z(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:Pe(C.onKeyDown,ae=>{const ke=ae.ctrlKey||ae.altKey||ae.metaKey;if(ae.key==="Tab"&&ae.preventDefault(),!ke&&ae.key.length===1&&Q(ae.key),["ArrowUp","ArrowDown","Home","End"].includes(ae.key)){let He=K().filter(Me=>!Me.disabled).map(Me=>Me.ref.current);if(["ArrowUp","End"].includes(ae.key)&&(He=He.slice().reverse()),["ArrowUp","ArrowDown"].includes(ae.key)){const Me=ae.target,ze=He.indexOf(Me);He=He.slice(ze+1)}setTimeout(()=>F(He)),ae.preventDefault()}})})})})})})});pN.displayName=FH;var $H="SelectItemAlignedPosition",mN=b.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,s=dl(eo,n),a=fl(eo,n),[u,d]=b.useState(null),[f,p]=b.useState(null),m=At(t,E=>p(E)),x=Qm(n),y=b.useRef(!1),v=b.useRef(!0),{viewport:k,selectedItem:j,selectedItemText:C,focusSelectedItem:N}=a,A=b.useCallback(()=>{if(s.trigger&&s.valueNode&&u&&f&&k&&j&&C){const E=s.trigger.getBoundingClientRect(),M=f.getBoundingClientRect(),L=s.valueNode.getBoundingClientRect(),D=C.getBoundingClientRect();if(s.dir!=="rtl"){const Me=D.left-M.left,ze=L.left-Me,ft=E.left-ze,we=E.width+ft,le=Math.max(we,M.width),Ke=window.innerWidth-zi,Y=am(ze,[zi,Math.max(zi,Ke-le)]);u.style.minWidth=we+"px",u.style.left=Y+"px"}else{const Me=M.right-D.right,ze=window.innerWidth-L.right-Me,ft=window.innerWidth-E.right-ze,we=E.width+ft,le=Math.max(we,M.width),Ke=window.innerWidth-zi,Y=am(ze,[zi,Math.max(zi,Ke-le)]);u.style.minWidth=we+"px",u.style.right=Y+"px"}const V=x(),K=window.innerHeight-zi*2,J=k.scrollHeight,Z=window.getComputedStyle(f),q=parseInt(Z.borderTopWidth,10),F=parseInt(Z.paddingTop,10),W=parseInt(Z.borderBottomWidth,10),R=parseInt(Z.paddingBottom,10),U=q+F+J+R+W,_=Math.min(j.offsetHeight*5,U),Q=window.getComputedStyle(k),G=parseInt(Q.paddingTop,10),P=parseInt(Q.paddingBottom,10),ie=E.top+E.height/2-zi,H=K-ie,te=j.offsetHeight/2,ae=j.offsetTop+te,ke=q+F+ae,Ge=U-ke;if(ke<=ie){const Me=V.length>0&&j===V[V.length-1].ref.current;u.style.bottom="0px";const ze=f.clientHeight-k.offsetTop-k.offsetHeight,ft=Math.max(H,te+(Me?P:0)+ze+W),we=ke+ft;u.style.height=we+"px"}else{const Me=V.length>0&&j===V[0].ref.current;u.style.top="0px";const ft=Math.max(ie,q+k.offsetTop+(Me?G:0)+te)+Ge;u.style.height=ft+"px",k.scrollTop=ke-ie+k.offsetTop}u.style.margin=`${zi}px 0`,u.style.minHeight=_+"px",u.style.maxHeight=K+"px",r?.(),requestAnimationFrame(()=>y.current=!0)}},[x,s.trigger,s.valueNode,u,f,k,j,C,s.dir,r]);jr(()=>A(),[A]);const[z,I]=b.useState();jr(()=>{f&&I(window.getComputedStyle(f).zIndex)},[f]);const T=b.useCallback(E=>{E&&v.current===!0&&(A(),N?.(),v.current=!1)},[A,N]);return l.jsx(UH,{scope:n,contentWrapper:u,shouldExpandOnScrollRef:y,onScrollButtonChange:T,children:l.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:z},children:l.jsx(St.div,{...i,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});mN.displayName=$H;var HH="SelectPopperPosition",Gy=b.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=zi,...s}=e,a=e0(n);return l.jsx(gf,{...a,...s,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Gy.displayName=HH;var[UH,wb]=Vu(eo,{}),Wy="SelectViewport",gN=b.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,s=fl(Wy,n),a=wb(Wy,n),u=At(t,s.onViewportChange),d=b.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(Zm.Slot,{scope:n,children:l.jsx(St.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Pe(i.onScroll,f=>{const p=f.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:x}=a;if(x?.current&&m){const y=Math.abs(d.current-p.scrollTop);if(y>0){const v=window.innerHeight-zi*2,k=parseFloat(m.style.minHeight),j=parseFloat(m.style.height),C=Math.max(k,j);if(C<v){const N=C+y,A=Math.min(v,N),z=N-A;m.style.height=A+"px",m.style.bottom==="0px"&&(p.scrollTop=z>0?z:0,m.style.justifyContent="flex-end")}}}d.current=p.scrollTop})})})]})});gN.displayName=Wy;var xN="SelectGroup",[VH,qH]=Vu(xN),GH=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Fi();return l.jsx(VH,{scope:n,id:i,children:l.jsx(St.div,{role:"group","aria-labelledby":i,...r,ref:t})})});GH.displayName=xN;var yN="SelectLabel",WH=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=qH(yN,n);return l.jsx(St.div,{id:i.id,...r,ref:t})});WH.displayName=yN;var lm="SelectItem",[YH,bN]=Vu(lm),vN=b.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...a}=e,u=dl(lm,n),d=fl(lm,n),f=u.value===r,[p,m]=b.useState(s??""),[x,y]=b.useState(!1),v=At(t,N=>d.itemRefCallback?.(N,r,i)),k=Fi(),j=b.useRef("touch"),C=()=>{i||(u.onValueChange(r),u.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(YH,{scope:n,value:r,disabled:i,textId:k,isSelected:f,onItemTextChange:b.useCallback(N=>{m(A=>A||(N?.textContent??"").trim())},[]),children:l.jsx(Zm.ItemSlot,{scope:n,value:r,disabled:i,textValue:p,children:l.jsx(St.div,{role:"option","aria-labelledby":k,"data-highlighted":x?"":void 0,"aria-selected":f&&x,"data-state":f?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:v,onFocus:Pe(a.onFocus,()=>y(!0)),onBlur:Pe(a.onBlur,()=>y(!1)),onClick:Pe(a.onClick,()=>{j.current!=="mouse"&&C()}),onPointerUp:Pe(a.onPointerUp,()=>{j.current==="mouse"&&C()}),onPointerDown:Pe(a.onPointerDown,N=>{j.current=N.pointerType}),onPointerMove:Pe(a.onPointerMove,N=>{j.current=N.pointerType,i?d.onItemLeave?.():j.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Pe(a.onPointerLeave,N=>{N.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:Pe(a.onKeyDown,N=>{d.searchRef?.current!==""&&N.key===" "||(MH.includes(N.key)&&C(),N.key===" "&&N.preventDefault())})})})})});vN.displayName=lm;var bd="SelectItemText",wN=b.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...s}=e,a=dl(bd,n),u=fl(bd,n),d=bN(bd,n),f=PH(bd,n),[p,m]=b.useState(null),x=At(t,C=>m(C),d.onItemTextChange,C=>u.itemTextRefCallback?.(C,d.value,d.disabled)),y=p?.textContent,v=b.useMemo(()=>l.jsx("option",{value:d.value,disabled:d.disabled,children:y},d.value),[d.disabled,d.value,y]),{onNativeOptionAdd:k,onNativeOptionRemove:j}=f;return jr(()=>(k(v),()=>j(v)),[k,j,v]),l.jsxs(l.Fragment,{children:[l.jsx(St.span,{id:d.textId,...s,ref:x}),d.isSelected&&a.valueNode&&!a.valueNodeHasChildren?zu.createPortal(s.children,a.valueNode):null]})});wN.displayName=bd;var kN="SelectItemIndicator",SN=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return bN(kN,n).isSelected?l.jsx(St.span,{"aria-hidden":!0,...r,ref:t}):null});SN.displayName=kN;var Yy="SelectScrollUpButton",CN=b.forwardRef((e,t)=>{const n=fl(Yy,e.__scopeSelect),r=wb(Yy,e.__scopeSelect),[i,s]=b.useState(!1),a=At(t,r.onScrollButtonChange);return jr(()=>{if(n.viewport&&n.isPositioned){let u=function(){const f=d.scrollTop>0;s(f)};const d=n.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),i?l.jsx(_N,{...e,ref:a,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=n;u&&d&&(u.scrollTop=u.scrollTop-d.offsetHeight)}}):null});CN.displayName=Yy;var Ky="SelectScrollDownButton",jN=b.forwardRef((e,t)=>{const n=fl(Ky,e.__scopeSelect),r=wb(Ky,e.__scopeSelect),[i,s]=b.useState(!1),a=At(t,r.onScrollButtonChange);return jr(()=>{if(n.viewport&&n.isPositioned){let u=function(){const f=d.scrollHeight-d.clientHeight,p=Math.ceil(d.scrollTop)<f;s(p)};const d=n.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),i?l.jsx(_N,{...e,ref:a,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=n;u&&d&&(u.scrollTop=u.scrollTop+d.offsetHeight)}}):null});jN.displayName=Ky;var _N=b.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,s=fl("SelectScrollButton",n),a=b.useRef(null),u=Qm(n),d=b.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return b.useEffect(()=>()=>d(),[d]),jr(()=>{u().find(p=>p.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[u]),l.jsx(St.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Pe(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:Pe(i.onPointerMove,()=>{s.onItemLeave?.(),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:Pe(i.onPointerLeave,()=>{d()})})}),KH="SelectSeparator",JH=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return l.jsx(St.div,{"aria-hidden":!0,...r,ref:t})});JH.displayName=KH;var Jy="SelectArrow",XH=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=e0(n),s=dl(Jy,n),a=fl(Jy,n);return s.open&&a.position==="popper"?l.jsx(xf,{...i,...r,ref:t}):null});XH.displayName=Jy;var ZH="SelectBubbleInput",NN=b.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const i=b.useRef(null),s=At(r,i),a=Fm(t);return b.useEffect(()=>{const u=i.current;if(!u)return;const d=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(d,"value").set;if(a!==t&&p){const m=new Event("change",{bubbles:!0});p.call(u,t),u.dispatchEvent(m)}},[a,t]),l.jsx(St.select,{...n,style:{...B5,...n.style},ref:s,defaultValue:t})});NN.displayName=ZH;function EN(e){return e===""||e===void 0}function AN(e){const t=gs(e),n=b.useRef(""),r=b.useRef(0),i=b.useCallback(a=>{const u=n.current+a;t(u),function d(f){n.current=f,window.clearTimeout(r.current),f!==""&&(r.current=window.setTimeout(()=>d(""),1e3))}(u)},[t]),s=b.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function DN(e,t,n){const i=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let a=QH(e,Math.max(s,0));i.length===1&&(a=a.filter(f=>f!==n));const d=a.find(f=>f.textValue.toLowerCase().startsWith(i.toLowerCase()));return d!==n?d:void 0}function QH(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var eU=sN,tU=lN,nU=uN,rU=cN,iU=dN,sU=fN,aU=gN,lU=vN,oU=wN,uU=SN,cU=CN,dU=jN;function rt({...e}){return l.jsx(eU,{"data-slot":"select",...e})}function it({...e}){return l.jsx(nU,{"data-slot":"select-value",...e})}function st({className:e,size:t="default",children:n,...r}){return l.jsxs(tU,{"data-slot":"select-trigger","data-size":t,className:Ae("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r,children:[n,l.jsx(rU,{asChild:!0,children:l.jsx(Su,{className:"size-4 opacity-50"})})]})}function at({className:e,children:t,position:n="popper",...r}){return l.jsx(iU,{children:l.jsxs(sU,{"data-slot":"select-content",className:Ae("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[l.jsx(fU,{}),l.jsx(aU,{className:Ae("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),l.jsx(hU,{})]})})}function ye({className:e,children:t,...n}){return l.jsxs(lU,{"data-slot":"select-item",className:Ae("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[l.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:l.jsx(uU,{children:l.jsx(J8,{className:"size-4"})})}),l.jsx(oU,{children:t})]})}function fU({className:e,...t}){return l.jsx(cU,{"data-slot":"select-scroll-up-button",className:Ae("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(jR,{className:"size-4"})})}function hU({className:e,...t}){return l.jsx(dU,{"data-slot":"select-scroll-down-button",className:Ae("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(Su,{className:"size-4"})})}var TN=["PageUp","PageDown"],MN=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ON={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},qu="Slider",[Xy,pU,mU]=Wm(qu),[RN,Zle]=ci(qu,[mU]),[gU,t0]=RN(qu),LN=b.forwardRef((e,t)=>{const{name:n,min:r=0,max:i=100,step:s=1,orientation:a="horizontal",disabled:u=!1,minStepsBetweenThumbs:d=0,defaultValue:f=[r],value:p,onValueChange:m=()=>{},onValueCommit:x=()=>{},inverted:y=!1,form:v,...k}=e,j=b.useRef(new Set),C=b.useRef(0),A=a==="horizontal"?xU:yU,[z=[],I]=$i({prop:p,defaultProp:f,onChange:V=>{[...j.current][C.current]?.focus(),m(V)}}),T=b.useRef(z);function E(V){const K=SU(z,V);D(V,K)}function M(V){D(V,C.current)}function L(){const V=T.current[C.current];z[C.current]!==V&&x(z)}function D(V,K,{commit:J}={commit:!1}){const Z=NU(s),q=EU(Math.round((V-r)/s)*s+r,Z),F=am(q,[r,i]);I((W=[])=>{const R=wU(W,F,K);if(_U(R,d*s)){C.current=R.indexOf(F);const U=String(R)!==String(W);return U&&J&&x(R),U?R:W}else return W})}return l.jsx(gU,{scope:e.__scopeSlider,name:n,disabled:u,min:r,max:i,valueIndexToChangeRef:C,thumbs:j.current,values:z,orientation:a,form:v,children:l.jsx(Xy.Provider,{scope:e.__scopeSlider,children:l.jsx(Xy.Slot,{scope:e.__scopeSlider,children:l.jsx(A,{"aria-disabled":u,"data-disabled":u?"":void 0,...k,ref:t,onPointerDown:Pe(k.onPointerDown,()=>{u||(T.current=z)}),min:r,max:i,inverted:y,onSlideStart:u?void 0:E,onSlideMove:u?void 0:M,onSlideEnd:u?void 0:L,onHomeKeyDown:()=>!u&&D(r,0,{commit:!0}),onEndKeyDown:()=>!u&&D(i,z.length-1,{commit:!0}),onStepKeyDown:({event:V,direction:K})=>{if(!u){const q=TN.includes(V.key)||V.shiftKey&&MN.includes(V.key)?10:1,F=C.current,W=z[F],R=s*q*K;D(W+R,F,{commit:!0})}}})})})})});LN.displayName=qu;var[PN,zN]=RN(qu,{startEdge:"left",endEdge:"right",size:"width",direction:1}),xU=b.forwardRef((e,t)=>{const{min:n,max:r,dir:i,inverted:s,onSlideStart:a,onSlideMove:u,onSlideEnd:d,onStepKeyDown:f,...p}=e,[m,x]=b.useState(null),y=At(t,A=>x(A)),v=b.useRef(void 0),k=Ym(i),j=k==="ltr",C=j&&!s||!j&&s;function N(A){const z=v.current||m.getBoundingClientRect(),I=[0,z.width],E=kb(I,C?[n,r]:[r,n]);return v.current=z,E(A-z.left)}return l.jsx(PN,{scope:e.__scopeSlider,startEdge:C?"left":"right",endEdge:C?"right":"left",direction:C?1:-1,size:"width",children:l.jsx(IN,{dir:k,"data-orientation":"horizontal",...p,ref:y,style:{...p.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:A=>{const z=N(A.clientX);a?.(z)},onSlideMove:A=>{const z=N(A.clientX);u?.(z)},onSlideEnd:()=>{v.current=void 0,d?.()},onStepKeyDown:A=>{const I=ON[C?"from-left":"from-right"].includes(A.key);f?.({event:A,direction:I?-1:1})}})})}),yU=b.forwardRef((e,t)=>{const{min:n,max:r,inverted:i,onSlideStart:s,onSlideMove:a,onSlideEnd:u,onStepKeyDown:d,...f}=e,p=b.useRef(null),m=At(t,p),x=b.useRef(void 0),y=!i;function v(k){const j=x.current||p.current.getBoundingClientRect(),C=[0,j.height],A=kb(C,y?[r,n]:[n,r]);return x.current=j,A(k-j.top)}return l.jsx(PN,{scope:e.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:l.jsx(IN,{"data-orientation":"vertical",...f,ref:m,style:{...f.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:k=>{const j=v(k.clientY);s?.(j)},onSlideMove:k=>{const j=v(k.clientY);a?.(j)},onSlideEnd:()=>{x.current=void 0,u?.()},onStepKeyDown:k=>{const C=ON[y?"from-bottom":"from-top"].includes(k.key);d?.({event:k,direction:C?-1:1})}})})}),IN=b.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:a,onEndKeyDown:u,onStepKeyDown:d,...f}=e,p=t0(qu,n);return l.jsx(St.span,{...f,ref:t,onKeyDown:Pe(e.onKeyDown,m=>{m.key==="Home"?(a(m),m.preventDefault()):m.key==="End"?(u(m),m.preventDefault()):TN.concat(MN).includes(m.key)&&(d(m),m.preventDefault())}),onPointerDown:Pe(e.onPointerDown,m=>{const x=m.target;x.setPointerCapture(m.pointerId),m.preventDefault(),p.thumbs.has(x)?x.focus():r(m)}),onPointerMove:Pe(e.onPointerMove,m=>{m.target.hasPointerCapture(m.pointerId)&&i(m)}),onPointerUp:Pe(e.onPointerUp,m=>{const x=m.target;x.hasPointerCapture(m.pointerId)&&(x.releasePointerCapture(m.pointerId),s(m))})})}),FN="SliderTrack",BN=b.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=t0(FN,n);return l.jsx(St.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:t})});BN.displayName=FN;var Zy="SliderRange",$N=b.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=t0(Zy,n),s=zN(Zy,n),a=b.useRef(null),u=At(t,a),d=i.values.length,f=i.values.map(x=>VN(x,i.min,i.max)),p=d>1?Math.min(...f):0,m=100-Math.max(...f);return l.jsx(St.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:u,style:{...e.style,[s.startEdge]:p+"%",[s.endEdge]:m+"%"}})});$N.displayName=Zy;var Qy="SliderThumb",HN=b.forwardRef((e,t)=>{const n=pU(e.__scopeSlider),[r,i]=b.useState(null),s=At(t,u=>i(u)),a=b.useMemo(()=>r?n().findIndex(u=>u.ref.current===r):-1,[n,r]);return l.jsx(bU,{...e,ref:s,index:a})}),bU=b.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:i,...s}=e,a=t0(Qy,n),u=zN(Qy,n),[d,f]=b.useState(null),p=At(t,N=>f(N)),m=d?a.form||!!d.closest("form"):!0,x=Bm(d),y=a.values[r],v=y===void 0?0:VN(y,a.min,a.max),k=kU(r,a.values.length),j=x?.[u.size],C=j?CU(j,v,u.direction):0;return b.useEffect(()=>{if(d)return a.thumbs.add(d),()=>{a.thumbs.delete(d)}},[d,a.thumbs]),l.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[u.startEdge]:`calc(${v}% + ${C}px)`},children:[l.jsx(Xy.ItemSlot,{scope:e.__scopeSlider,children:l.jsx(St.span,{role:"slider","aria-label":e["aria-label"]||k,"aria-valuemin":a.min,"aria-valuenow":y,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...s,ref:p,style:y===void 0?{display:"none"}:e.style,onFocus:Pe(e.onFocus,()=>{a.valueIndexToChangeRef.current=r})})}),m&&l.jsx(UN,{name:i??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:y},r)]})});HN.displayName=Qy;var vU="RadioBubbleInput",UN=b.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{const i=b.useRef(null),s=At(i,r),a=Fm(t);return b.useEffect(()=>{const u=i.current;if(!u)return;const d=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(d,"value").set;if(a!==t&&p){const m=new Event("input",{bubbles:!0});p.call(u,t),u.dispatchEvent(m)}},[a,t]),l.jsx(St.input,{style:{display:"none"},...n,ref:s,defaultValue:t})});UN.displayName=vU;function wU(e=[],t,n){const r=[...e];return r[n]=t,r.sort((i,s)=>i-s)}function VN(e,t,n){const s=100/(n-t)*(e-t);return am(s,[0,100])}function kU(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function SU(e,t){if(e.length===1)return 0;const n=e.map(i=>Math.abs(i-t)),r=Math.min(...n);return n.indexOf(r)}function CU(e,t,n){const r=e/2,s=kb([0,50],[0,r]);return(r-s(t)*n)*n}function jU(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function _U(e,t){if(t>0){const n=jU(e);return Math.min(...n)>=t}return!0}function kb(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function NU(e){return(String(e).split(".")[1]||"").length}function EU(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var AU=LN,DU=BN,TU=$N,MU=HN;function OU({className:e,defaultValue:t,value:n,min:r=0,max:i=100,...s}){const a=b.useMemo(()=>Array.isArray(n)?n:Array.isArray(t)?t:[r,i],[n,t,r,i]);return l.jsxs(AU,{"data-slot":"slider",defaultValue:t,value:n,min:r,max:i,className:Ae("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",e),...s,children:[l.jsx(DU,{"data-slot":"slider-track",className:Ae("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:l.jsx(TU,{"data-slot":"slider-range",className:Ae("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:a.length},(u,d)=>l.jsx(MU,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},d))]})}function _u(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}function cx(e){return typeof e=="string"?e:null}function Ip(e){return typeof e=="number"&&Number.isFinite(e)?e:null}function Zo(e,t,n){let r=e;return typeof t=="number"&&(r=Math.max(t,r)),typeof n=="number"&&(r=Math.min(n,r)),r}function RU(e){if(!_u(e))return{};const t={};for(const[n,r]of Object.entries(e))typeof r=="boolean"&&(t[n]=r);return t}function LU(e){if(!_u(e))return{};const t={};for(const[n,r]of Object.entries(e)){const i=Ip(r);i!==null&&(t[n]=i)}return t}function PU(e){if(!_u(e))return{};const t={};for(const[n,r]of Object.entries(e)){if(!_u(r))continue;const i=cx(r.type);if(i!=="enum"&&i!=="int"&&i!=="number")continue;const s=cx(r.label)??void 0,a=cx(r.description)??void 0;if(i==="enum"){const p=r.values,m=Array.isArray(p)?p.map(x=>String(x)):[];if(!m.length)continue;t[n]={type:"enum",values:m,label:s,description:a};continue}const u=Ip(r.min)??void 0,d=Ip(r.max)??void 0,f=Ip(r.step)??void 0;t[n]=i==="int"?{type:"int",min:u,max:d,label:s,description:a}:{type:"number",min:u,max:d,step:f,label:s,description:a}}return t}function zU(e){return _u(e)?e:{}}function wk(e,t){if(t==="n"&&typeof e.max_images_per_request=="number")return e.max_images_per_request;const n=e[`max_${t}`];if(typeof n=="number")return n;const r=e[`${t}_max`];if(typeof r=="number")return r;const i=e[`max_${t}_per_request`];if(typeof i=="number")return i}function kk(e,t){return typeof e=="number"&&typeof t=="number"?Math.min(e,t):typeof e=="number"?e:t}function IU(e,t,n){const r=n[e];return t.type==="enum"?typeof r=="string"&&t.values.includes(r)?r:t.values[0]:t.type==="int"?typeof r=="number"&&Number.isFinite(r)?Math.floor(r):typeof t.min=="number"?Math.floor(t.min):0:typeof r=="number"&&Number.isFinite(r)?r:typeof t.min=="number"?t.min:0}function FU({capabilities:e,value:t,onApply:n,className:r}){const i=_u(e)?e:{},s=b.useMemo(()=>PU(i.options),[i.options]),a=b.useMemo(()=>zU(i.defaults),[i.defaults]),u=b.useMemo(()=>RU(i.supports),[i.supports]),d=b.useMemo(()=>LU(i.limits),[i.limits]),f=b.useMemo(()=>Object.keys(s).sort((C,N)=>C.localeCompare(N)),[s]),p=b.useMemo(()=>f.filter(C=>u[C]!==!1),[f,u]),m=b.useMemo(()=>{const C={};for(const N of p)C[N]=IU(N,s[N],a);return C},[p,s,a]),x=b.useMemo(()=>{const C={...m};for(const N of Object.keys(m))N in t&&(C[N]=t[N]);return C},[m,t]),[y,v]=b.useState(x),k=b.useCallback(C=>{const N={};for(const A of p){const z=s[A],I=wk(d,A),T=kk(z.type==="enum"?void 0:z.max,I),E=z.type==="enum"?void 0:z.min,M=C[A];if(z.type==="enum"){const L=typeof M=="string"&&z.values.includes(M)?M:z.values[0];N[A]=L}else if(z.type==="int"){const L=typeof M=="number"&&Number.isFinite(M)?Math.floor(M):Number.isFinite(Number(M))?Math.floor(Number(M)):0;N[A]=Zo(L,E,T)}else{const L=typeof M=="number"&&Number.isFinite(M)?M:Number.isFinite(Number(M))?Number(M):0;N[A]=Zo(L,E,T)}}return N},[d,s,p]);if(!p.length)return l.jsx("div",{className:Ae("text-sm text-muted-foreground",r),children:"   ."});const j=C=>{v(C),n(k(C))};return l.jsx("div",{className:Ae("w-full",r),children:l.jsxs(SH,{className:"py-4",children:[l.jsxs(CH,{className:"px-4",children:[l.jsx(jH,{children:"Generate Options"}),l.jsx(_H,{children:"capabilities.options  (  )"})]}),l.jsx(NH,{className:"px-4",children:l.jsx("div",{className:"flex flex-col gap-4",children:p.map(C=>{const N=s[C],A=N.label||C,z=N.description,I=wk(d,C),T=N.type==="enum"?void 0:kk(N.max,I),E=N.type==="enum"?void 0:N.min,M=N.type==="enum"?"":typeof E=="number"||typeof T=="number"?`: ${typeof E=="number"?E:"-"} ~ ${typeof T=="number"?T:""}${typeof I=="number"&&typeof N.max=="number"&&I!==N.max?` (limits: ${I})`:""}`:typeof I=="number"?`limits: ${I}`:"";if(N.type==="enum"){const K=typeof y[C]=="string"?y[C]:N.values[0],J=N.values.includes(K)?K:N.values[0];return l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx(be,{className:"text-sm",children:A}),z&&l.jsx("p",{className:"text-xs text-muted-foreground",children:z})]}),l.jsxs(rt,{value:J,onValueChange:Z=>{const q={...y,[C]:Z};j(q)},children:[l.jsx(st,{className:"w-full",children:l.jsx(it,{placeholder:""})}),l.jsx(at,{children:N.values.map(Z=>l.jsx(ye,{value:Z,children:Z},Z))})]})]},C)}if(N.type==="int"){const K=typeof y[C]=="number"&&Number.isFinite(y[C])?y[C]:Number(y[C])||0;return l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx(be,{className:"text-sm",children:A}),z&&l.jsx("p",{className:"text-xs text-muted-foreground",children:z}),M&&l.jsx("p",{className:"text-xs text-muted-foreground",children:M})]}),l.jsx(Re,{type:"number",step:1,min:typeof E=="number"?E:void 0,max:typeof T=="number"?T:void 0,value:String(Math.floor(K)),onChange:J=>{const Z=Math.floor(Number(J.target.value));if(!Number.isFinite(Z))return;const q={...y,[C]:Zo(Z,E,T)};j(q)}})]},C)}const L=typeof y[C]=="number"&&Number.isFinite(y[C])?y[C]:Number(y[C])||0,D=typeof N.step=="number"?N.step:.1,V=typeof E=="number"&&typeof T=="number";return l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs("div",{className:"flex items-center justify-between gap-3",children:[l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx(be,{className:"text-sm",children:A}),z&&l.jsx("p",{className:"text-xs text-muted-foreground",children:z}),M&&l.jsx("p",{className:"text-xs text-muted-foreground",children:M})]}),l.jsx("div",{className:"text-sm tabular-nums",children:L})]}),V?l.jsx(OU,{value:[Zo(L,E,T)],min:E,max:T,step:D,onValueChange:K=>{const J=typeof K?.[0]=="number"?K[0]:L,Z={...y,[C]:Zo(J,E,T)};j(Z)}}):l.jsx(Re,{type:"number",step:D,value:String(L),onChange:K=>{const J=Number(K.target.value);if(!Number.isFinite(J))return;const Z={...y,[C]:Zo(J,E,T)};j(Z)}})]},C)})})}),l.jsx(EH,{className:"px-4 flex items-center justify-end gap-2",children:l.jsx(xe,{type:"button",variant:"outline",onClick:()=>{j(m)},children:"Reset to Defaults"})})]})})}function Sk({className:e}){return l.jsx("div",{className:Ae("flex items-center gap-2",e),children:l.jsxs("div",{className:"bg-primary flex gap-[10px] items-center justify-center px-[12px] py-[6px] rounded-full shadow-sm shrink-0",children:[l.jsx("p",{className:"font-medium leading-[20px] text-primary-foreground text-[14px]",children:":Pro"}),l.jsx("div",{className:"bg-primary-foreground flex flex-col gap-[10px] h-[20px] items-center justify-center px-[4px] py-[2px] rounded-full shrink-0",children:l.jsx("p",{className:"font-medium leading-[16px] text-primary text-[12px] font-mono",children:"20.000"})})]})})}const BU="/api/ai/chat-ui/config",$U="/api/ai/chat-ui/prompt-suggestions",HU="/api/ai/chat/run";function Ck(e){return{text:"",image:"",video:"",music:"",audio:"",multimodal:"",embedding:"",code:""}[e]||e}function dx(e,t){const n=String(e||"").replace(/\s+/g," ").trim();return n.length<=t?n:n.slice(0,t)}function Pa(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}function vd(e){return typeof e=="string"?e:null}function UU(e){let t=(e||"").trim();if(t.startsWith("```")){const i=t.indexOf(`
`),s=t.lastIndexOf("```");i>-1&&s>i&&(t=t.slice(i+1,s).trim())}const n=t.indexOf("{"),r=t.lastIndexOf("}");if(n>-1&&r>n&&(t=t.slice(n,r+1)),!t.startsWith("{"))return{displayText:e};try{const i=JSON.parse(t);if(!Pa(i))return{displayText:e};const s=i,a=s.blocks;if(!Array.isArray(a))return{displayText:e};const u=typeof s.title=="string"?s.title:"",d=typeof s.summary=="string"?s.summary:"",f=[];for(const m of a){if(!Pa(m))continue;const x=vd(m.type);if(x){if(x==="markdown"){const y=vd(m.markdown);y!==null&&f.push({type:"markdown",markdown:y});continue}if(x==="code"){const y=vd(m.language)??"plain",v=vd(m.code)??"";f.push({type:"code",language:y,code:v});continue}if(x==="table"){const y=m.headers,v=m.rows,k=Array.isArray(y)?y.map(C=>String(C)):[],j=Array.isArray(v)?v.map(C=>Array.isArray(C)?C.map(N=>String(N)):[]).filter(C=>C.length>0):[];f.push({type:"table",headers:k,rows:j});continue}}}const p=[];u&&p.push(u),d&&p.push(d);for(const m of f)m.type==="markdown"?p.push(m.markdown):m.type==="code"?p.push(`[code:${String(m.language||"plain")}]
${String(m.code||"")}`):m?.type==="table"&&p.push(`[table]
${m.headers.join(" | ")}
${m.rows.map(x=>x.join(" | ")).join(`
`)}`);return{parsed:s,displayText:p.filter(Boolean).join(`

`)||e}}catch{return{displayText:e}}}function Sb({className:e,variant:t="default",onMessage:n,submitMode:r="send",onSubmit:i,initialSelectedModel:s,initialProviderSlug:a,initialModelType:u,initialOptions:d,autoSendPrompt:f,conversationId:p,onConversationId:m,sessionLanguage:x}){const y=t==="compact",v=b.useCallback(()=>{const $=localStorage.getItem("token");return $?{Authorization:`Bearer ${$}`}:{}},[]),[k,j]=b.useState(!1),[C,N]=b.useState(null),[A,z]=b.useState("text"),[I,T]=b.useState(""),[E,M]=b.useState(""),[L,D]=b.useState({}),[V,K]=b.useState(!0),J=b.useRef(null),[Z,q]=b.useState({}),F="reductai.chat.runtimeOptionsByModel.v1",W=b.useRef(null),[R,U]=b.useState(!1),[_,Q]=b.useState(!1),[G,P]=b.useState(""),ie=b.useRef(!1),[H,te]=b.useState(!1),[ae,ke]=b.useState([]),Ge=b.useCallback($=>dx($,50),[]),He=b.useCallback($=>{const Te=String($||"").replace(/\s+/g," ").trim().replace(/\./g,""),nt=dx(Te,99);return nt?`${nt}.`:"."},[]);b.useEffect(()=>{const $=new AbortController;async function ne(){j(!0);try{const Te=await fetch(BU,{signal:$.signal}),nt=await Te.json().catch(()=>({}));if(!Te.ok||!nt.ok)throw new Error("CHAT_UI_CONFIG_FAILED");N(nt);const We=typeof u=="string"?u:null,Ye=new Set(nt.model_types||[]),wt=nt.model_types?.[0]||"text";z(We&&Ye.has(We)?We:wt)}catch{N(null)}finally{j(!1)}}return ne(),()=>$.abort()},[u]);const Me=b.useMemo(()=>(C?.providers_by_type||{})[A]||[],[C,A]),ze=b.useMemo(()=>Me.length?(I?Me.find(ne=>ne.provider.id===I):null)||Me[0]:null,[Me,I]),ft=b.useMemo(()=>(ze?.models||[]).filter(ne=>ne.is_available&&String(ne.model_api_id||"").trim()),[ze]),we=b.useMemo(()=>ft.length&&ft.find(ne=>ne.model_api_id===E)||null,[ft,E]),le=b.useMemo(()=>{if(!we)return"  .";const $=String(we.display_name||"").trim(),ne=String(we.description||"").trim();return $?ne?`${$} - ${ne}`:$:"  ."},[we]),Ke=b.useMemo(()=>{const $=ft.find(ne=>ne.model_api_id===E)||ft[0];return $?.id?String($.id):""},[ft,E]),Y=b.useMemo(()=>we?.capabilities??{},[we?.capabilities]);b.useEffect(()=>{try{const $=sessionStorage.getItem(F);if(!$)return;const ne=JSON.parse($);ne&&typeof ne=="object"&&!Array.isArray(ne)&&q(ne)}catch{}},[]),b.useEffect(()=>{try{sessionStorage.setItem(F,JSON.stringify(Z))}catch{}},[Z]);const Ne=b.useCallback($=>{D($),Ke&&q(ne=>({...ne,[Ke]:$}))},[Ke]);b.useEffect(()=>{if(!Me.length||I&&Me.some(Ye=>Ye.provider.id===I))return;const $=(s||"").trim(),ne=(a||"").trim(),Te=$?Me.find(Ye=>(Ye.models||[]).some(wt=>wt.is_available&&wt.model_api_id===$)):null,nt=ne?Me.find(Ye=>Ye.provider.slug===ne):null,We=(Te||nt||Me[0])?.provider.id;We&&We!==I&&T(We)},[Me,a,s,I]),b.useEffect(()=>{if(!ft.length)return;const $=(s||"").trim(),ne=$&&ft.find(Te=>Te.model_api_id===$)||ft.find(Te=>Te.is_default)||ft[0]||null;M(ne?.model_api_id||"")},[s,ft]);const Le=b.useRef(!1);b.useEffect(()=>{Le.current||!d||typeof d!="object"||Ke&&(Le.current=!0,Ne(d))},[Ne,d,Ke]),b.useEffect(()=>{if(!ft.length){M("");return}if(E&&ft.some(ne=>ne.model_api_id===E))return;const $=ft.find(ne=>ne.is_default)||ft[0];M($.model_api_id)},[ft,E]),b.useEffect(()=>{if(!Ke)return;const $=Z[Ke];if($&&typeof $=="object"){D($);return}const ne=Y,Te=ne&&Pa(ne.defaults)?ne.defaults:{};D(Te)},[Z,Y,Ke]),b.useEffect(()=>{const $=new AbortController;async function ne(){try{const Te=new URLSearchParams;Te.set("limit","24"),Te.set("model_type",A);const nt=await fetch(`${$U}?${Te.toString()}`,{signal:$.signal,headers:{...v()}}),We=await nt.json().catch(()=>({})),Ye=Pa(We)?We:{};if(!nt.ok||Ye.ok!==!0)throw new Error("PROMPT_SUGGESTIONS_FAILED");const wt=Array.isArray(Ye.rows)?Ye.rows:[];ke(wt.map(Be=>{const pt=Pa(Be)?Be:{},ot=String(pt.id||""),jt=vd(pt.model_type),Xt=pt.model_id?String(pt.model_id):null,gn=typeof pt.title=="string"&&pt.title.trim()?pt.title.trim():null,pn=String(pt.text||""),xn=Number(pt.sort_order||0),yn=pt.metadata&&Pa(pt.metadata)?pt.metadata:void 0;return{id:ot,model_type:jt||null,model_id:Xt,title:gn,text:pn,sort_order:xn,metadata:yn}}).filter(Be=>!!Be.id&&!!Be.text))}catch{ke([])}}return ne(),()=>$.abort()},[v,A]);const Xe=b.useCallback(()=>{if(!W.current)return;const{scrollLeft:$,scrollWidth:ne,clientWidth:Te}=W.current;U($>0),Q($+Te<ne-1)},[]);b.useEffect(()=>(Xe(),window.addEventListener("resize",Xe),()=>window.removeEventListener("resize",Xe)),[Me,Xe]),b.useEffect(()=>{if(!y||!H)return;const $=window.setTimeout(()=>Xe(),0);return()=>window.clearTimeout($)},[y,H,Xe]);const zt=()=>W.current?.scrollBy({left:-200,behavior:"smooth"}),Mt=()=>W.current?.scrollBy({left:200,behavior:"smooth"}),Ot=["image","video","audio","music"].includes(A),tn=()=>l.jsx(FU,{capabilities:Y,value:L,onApply:Ne},Ke||"no-model"),Yt=b.useCallback(async $=>{const ne=($??G).trim();if(!ne)return;const Te=ze?.provider.slug,nt=ze?.provider.id,We=E;if(!Te||!nt||!We){alert("   . Admin /  .");return}if(n?.({role:"user",content:ne,contentJson:{text:ne,options:L||{}},summary:Ge(ne),providerSlug:Te,model:We}),P(""),r==="emit"){i?.({input:ne,providerSlug:Te,model:We,modelType:A,options:L||{}});return}try{const Ye=A==="text"?2048:512,wt=await fetch(HU,{method:"POST",headers:{"Content-Type":"application/json",...v()},body:JSON.stringify({model_type:A,conversation_id:p||null,userPrompt:ne,max_tokens:Ye,session_language:x||null,provider_id:nt,provider_slug:Te,model_api_id:We,options:L||{}})}),Be=await wt.text();let pt={};try{pt=Be?JSON.parse(Be):{}}catch{pt={}}const ot=Pa(pt)?pt:{};if(!wt.ok){const yn=(typeof ot.message=="string"?String(ot.message):"")||Be||"AI  ",Dr=typeof ot.details=="string"?`
${String(ot.details)}`:"";throw new Error(`${yn}${Dr}`)}const jt=String(ot.output_text||""),Xt=ot.conversation_id?String(ot.conversation_id):"";Xt&&Xt!==(p||"")&&m?.(Xt);const gn=Pa(ot.chosen)?ot.chosen:{},pn=gn.model_api_id?String(gn.model_api_id):We,xn=UU(jt);n?.({role:"assistant",content:xn.displayText,contentJson:xn.parsed??{text:jt},summary:He(typeof xn.parsed?.summary=="string"?xn.parsed.summary:jt),providerSlug:Te,model:pn})}catch(Ye){const wt=Ye instanceof Error?Ye.message:String(Ye);n?.({role:"assistant",content:`    .

${wt}`,contentJson:{text:wt},summary:He(wt),providerSlug:Te,model:We})}},[He,v,p,ze?.provider.id,ze?.provider.slug,m,n,i,G,L,E,A,x,r,Ge]),pe=b.useRef("");b.useEffect(()=>{if(r!=="send")return;const $=String(f||"").trim();if(!$||!C||!ze?.provider?.id||!E)return;const ne=String(a||"").trim(),Te=String(s||"").trim();ne&&ze.provider.slug!==ne||Te&&E!==Te||pe.current!==$&&(pe.current=$,Yt($))},[f,ze?.provider?.id,ze?.provider?.slug,Yt,a,s,E,r,C]);const Ce=()=>l.jsx("div",{className:"flex flex-col gap-[10px] items-start relative shrink-0 w-full",children:l.jsx("div",{className:"bg-muted box-border flex h-[36px] items-center justify-center p-[3px] relative rounded-[8px] shrink-0 w-full",children:(C?.model_types||[]).map($=>l.jsx("div",{className:Ae("box-border flex flex-[1_0_0] flex-col gap-[10px] h-[29px] items-center justify-center px-[8px] py-[4px] relative rounded-[6px] shrink-0 cursor-pointer transition-colors",A===$?"bg-background border border-border shadow-sm":"hover:bg-background/50"),onClick:()=>{A!==$&&(z($),T(""),M(""),D({}))},children:l.jsx("p",{className:Ae("font-medium leading-[20px] text-[14px]",A===$?"text-foreground":"text-muted-foreground"),children:Ck($)})},$))})}),Fe=()=>l.jsxs("div",{className:"relative w-full group",children:[R&&l.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 -ml-4 hidden sm:block",children:l.jsx(xe,{variant:"ghost",size:"icon",className:"rounded-full bg-background shadow-md border hover:bg-accent h-8 w-8",onClick:zt,children:l.jsx(df,{className:"h-4 w-4"})})}),l.jsx("div",{ref:W,onScroll:Xe,className:"flex flex-row gap-3 items-start justify-start relative w-full overflow-x-auto scrollbar-hide px-2 py-2",children:Me.map($=>l.jsxs("div",{className:Ae("bg-card border border-border flex flex-col items-start p-4 rounded-[20px] shrink-0 w-[160px] sm:w-[180px] cursor-pointer transition-all hover:shadow-md",ze?.provider.id===$.provider.id?"ring-2 ring-primary border-primary/50":""),onClick:()=>T($.provider.id),children:[l.jsxs("div",{className:"flex w-full justify-between items-center",children:[l.jsx("div",{className:Ae("size-[40px] flex items-center justify-center rounded-full",ze?.provider.id===$.provider.id?"bg-primary":"bg-muted border border-border"),children:l.jsx(qd,{logoKey:$.provider.logo_key||void 0,className:Ae("size-[24px]",ze?.provider.id===$.provider.id?"text-primary-foreground":"text-foreground")})}),l.jsx("div",{className:"flex flex-col items-center justify-center relative shrink-0",children:ze?.provider.id===$.provider.id?l.jsx("div",{className:"border border-ring rounded-full shadow-sm shrink-0 size-[16px] relative flex items-center justify-center",children:l.jsx("div",{className:"size-[8px] rounded-full bg-primary"})}):l.jsx("div",{className:"bg-background border border-border rounded-full shadow-sm shrink-0 size-[16px]"})})]}),l.jsx("div",{className:"flex w-full flex-col items-start relative shrink-0 mt-2",children:l.jsx("div",{className:"flex w-full justify-between items-center",children:l.jsx("p",{className:"font-medium text-card-foreground text-[14px] truncate",children:$.provider.product_name})})})]},$.provider.id))}),_&&l.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 -mr-4 hidden sm:block",children:l.jsx(xe,{variant:"ghost",size:"icon",className:"rounded-full bg-background shadow-md border hover:bg-accent h-8 w-8",onClick:Mt,children:l.jsx(ms,{className:"h-4 w-4"})})})]}),Ue=ze?.provider.product_name||"",ue=ze?.provider.description||"",Ze=b.useMemo(()=>(ae||[]).filter(Te=>!Te.model_id||!Ke||Te.model_id===Ke).slice(0,8),[ae,Ke]);return k&&!C?l.jsx("div",{className:Ae("w-full max-w-[800px] p-6 text-sm text-muted-foreground",e),children:"   ..."}):l.jsxs("div",{className:"flex flex-row gap-4 items-end justify-center w-full",children:[l.jsxs("div",{className:`flex flex-col gap-[16px] items-center relative shrink-0 w-full max-w-[800px] ${e||""}`,children:[!y&&l.jsx("div",{className:"w-full flex items-center gap-4",children:l.jsx(Sk,{})}),l.jsxs("div",{className:"flex flex-col gap-[16px] items-start relative shrink-0 w-full",children:[y?l.jsxs("div",{className:"w-full",children:[!H&&l.jsxs("button",{type:"button",className:"flex items-center gap-2 px-4 cursor-pointer select-none w-full text-left",onClick:()=>te(!0),children:[l.jsx(ms,{className:Ae("size-5 transition-transform",H?"rotate-90":"")}),l.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(tL,{className:"size-4"}),l.jsx("span",{className:"text-sm",children:Ck(A)})]}),ze&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("div",{className:Ae("size-4 rounded-full bg-primary flex items-center justify-center"),children:l.jsx(qd,{logoKey:ze.provider.logo_key||void 0,className:"size-3 text-primary-foreground"})}),l.jsx("span",{className:"text-sm",children:ze.provider.product_name})]})]})]}),l.jsx("div",{className:Ae("overflow-hidden transition-[max-height,opacity] duration-200 ease-out",H?"max-h-[520px]":"max-h-0 opacity-0 mt-0 pointer-events-none"),children:l.jsx("div",{className:"w-full",children:l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-md hover:bg-accent/60 transition-colors p-1","aria-label":"",onClick:()=>te(!1),children:l.jsx(Su,{className:"size-5"})}),l.jsx(Sk,{})]}),l.jsx(Ce,{}),l.jsx("div",{className:"max-h-[320px] overflow-y-auto",children:l.jsx(Fe,{})})]})})})]}):l.jsxs(l.Fragment,{children:[l.jsx(Ce,{}),l.jsx(Fe,{})]}),l.jsx("div",{className:"flex gap-[16px] items-start relative shrink-0 w-full",children:l.jsxs("div",{className:"flex flex-[1_0_0] flex-col gap-[16px] items-start h-full relative shrink-0",children:[!y&&ze&&l.jsxs("div",{className:"flex gap-[10px] items-center justify-start w-full",children:[l.jsx("p",{className:"font-medium leading-[20px] text-card-foreground text-[14px] whitespace-nowrap",children:Ue}),l.jsx("p",{className:"font-normal leading-[20px] text-muted-foreground text-[14px] line-clamp-1 text-ellipsis overflow-hidden",children:ue})]}),ze&&l.jsxs("div",{className:"bg-background border border-border box-border flex flex-col gap-[10px] items-start justify-between pb-[12px] pt-[16px] px-[16px] relative rounded-[24px] shadow-sm shrink-0 w-full h-full",children:[l.jsxs("div",{className:"flex flex-col gap-[10px] items-start justify-center relative shrink-0 w-full",children:[l.jsx("textarea",{ref:J,placeholder:le,className:"w-full border-none outline-none text-[16px] placeholder:text-muted-foreground bg-transparent resize-none overflow-y-auto leading-6",value:G,rows:1,style:{maxHeight:288},onChange:$=>{P($.target.value);const ne=$.currentTarget;ne.style.height="auto",ne.style.height=`${Math.min(ne.scrollHeight,288)}px`},onKeyDown:$=>{$.key==="Enter"&&($.nativeEvent?.isComposing||ie.current||$.shiftKey||($.preventDefault(),Yt($.currentTarget.value)))},onCompositionStart:()=>ie.current=!0,onCompositionEnd:()=>ie.current=!1}),!G.trim()&&l.jsx("p",{className:"text-xs text-muted-foreground",children:"Shift + Enter "})]}),l.jsxs("div",{className:"flex gap-[16px] items-center relative shrink-0 w-full mt-auto",children:[l.jsx("div",{className:"flex flex-[1_0_0] gap-[10px] items-center relative shrink-0"}),l.jsxs(D$,{children:[l.jsx(T$,{asChild:!0,children:l.jsxs(xe,{variant:y?"outline":"ghost",className:Ae(y?"h-[36px] rounded-lg gap-2 px-3":"h-[36px] rounded-[8px] gap-2 px-4"),children:[E||"-",l.jsx(Su,{className:"size-4"})]})}),l.jsxs(M$,{className:"w-72",align:"start",children:[l.jsx(L$,{children:" (+)"}),l.jsx(O$,{children:ft.map($=>l.jsxs(R$,{onClick:()=>M($.model_api_id),children:[$.display_name," ",l.jsx("span",{className:"ml-2 text-xs text-muted-foreground",children:$.model_api_id})]},$.model_api_id))})]})]}),l.jsx(xe,{className:"rounded-full h-[36px] w-[36px] p-0",onClick:()=>void Yt(),disabled:!G.trim(),children:""})]})]})]})})]}),l.jsxs("div",{className:"flex gap-[16px] items-start relative shrink-0 w-full",children:[l.jsx("div",{className:"flex flex-wrap gap-2 w-full",children:Ze.length>0&&l.jsx("div",{className:"flex flex-wrap gap-2 w-full",children:Ze.map($=>{const ne=$.title||dx($.text,24);return l.jsx("button",{type:"button",className:"text-xs px-2 py-1 rounded-full bg-muted hover:bg-accent transition-colors",onClick:()=>{P($.text),window.setTimeout(()=>J.current?.focus(),0)},children:ne},$.id)})})}),Ot&&l.jsx("div",{className:Ae("w-full lg:w-[420px] block",y?"":"xl:hidden"),children:l.jsxs(cH,{children:[l.jsx(dH,{asChild:!0,children:l.jsxs("div",{className:"bg-card border border-border flex gap-2 items-center p-2 rounded-[8px] w-full cursor-pointer hover:bg-accent/50 transition-colors",children:[l.jsx(Ug,{className:"size-4"}),l.jsx("p",{className:"text-sm font-medium text-card-foreground truncate text-ellipsis line-clamp-1 w-full",children:""}),l.jsx("div",{className:"size-[16px] flex items-center justify-center relative shrink-0",children:l.jsx(TR,{className:"size-4"})})]})}),l.jsxs(mH,{children:[l.jsxs(gH,{children:[l.jsx(yH,{children:" "}),l.jsx(bH,{children:"ai_models.capabilities.options/defaults "})]}),l.jsx("div",{className:"p-4 pb-0 w-full flex justify-center",children:l.jsx(tn,{})}),l.jsx(xH,{children:l.jsx(hH,{asChild:!0,children:l.jsx("div",{className:"w-full flex items-center justify-center",children:l.jsx(xe,{variant:"outline",className:"w-full max-w-[360px]",children:""})})})})]})]})}),!y&&Ot&&!V&&l.jsx("div",{className:"hidden xl:flex bg-card border border-border flex-col gap-2 items-center p-[16px] rounded-[8px] max-w-[200px] w-full min-w-[120px] cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>K(!0),children:l.jsxs("div",{className:"flex items-center w-full gap-[10px]",children:[l.jsx(Ug,{className:"size-6"}),l.jsx("p",{className:"text-[14px] font-medium text-card-foreground truncate w-full",children:""}),l.jsx("div",{className:"size-[16px] flex items-center justify-center relative shrink-0",children:l.jsx(ER,{className:"size-4"})})]})})]})]}),!y&&Ot&&V&&l.jsxs("div",{className:"hidden xl:flex bg-card border border-border flex-col gap-[16px] items-start p-[16px] rounded-[8px] relative shrink-0 w-[260px] animate-in fade-in slide-in-from-left-4 duration-300",children:[l.jsxs("div",{className:"flex items-center gap-[10px] w-full cursor-pointer",onClick:()=>K(!1),children:[l.jsx("div",{className:"size-[16px] flex items-center justify-center relative shrink-0",children:l.jsx(Ug,{className:"size-full"})}),l.jsx("p",{className:"text-sm font-medium text-card-foreground truncate w-full",children:""}),l.jsx("div",{className:"size-[16px] flex items-center justify-center relative shrink-0",children:l.jsx(X8,{className:"size-full"})})]}),l.jsx(tn,{})]})]})}function VU(){const{toggleTheme:e}=Iu(),[t,n]=b.useState(!1),[r,i]=b.useState([]),[s,a]=b.useState("");return b.useEffect(()=>{(async()=>{try{const d=await fetch("/api/i18n/languages");if(d.ok){const p=(await d.json()||[]).filter(m=>m.is_active!==!1);if(i(p),p.length>0){const m=p.find(x=>x.is_default)?.code||p[0].code;a(m)}}}catch(d){console.error("Failed to fetch languages:",d)}})()},[]),l.jsxs("div",{className:"bg-background relative w-full h-screen overflow-hidden flex justify-center font-sans",children:[l.jsxs("div",{className:"relative w-full max-w-[1280px] h-full flex flex-col",children:[l.jsxs("div",{className:"box-border flex gap-[16px] h-[60px] items-center px-[24px] py-0 relative shrink-0 w-full",children:[l.jsx("div",{className:"flex flex-[1_0_0] gap-[10px] items-center relative shrink-0",children:l.jsx("p",{className:"font-black leading-[24px] text-primary text-[16px]",children:"reduct"})}),l.jsx("a",{onClick:()=>n(!0),className:"bg-primary box-border cursor-pointer flex flex-col gap-[10px] h-[36px] items-center justify-center px-[16px] py-[8px] relative rounded-[8px] shadow-sm shrink-0",children:l.jsx("div",{className:"flex gap-[10px] items-center justify-center relative shrink-0",children:l.jsx("p",{className:"font-medium leading-[20px] text-primary-foreground text-[14px]",children:"  "})})}),l.jsxs(rt,{value:s,onValueChange:a,children:[l.jsx(st,{className:"w-[120px] h-9",children:l.jsx(it,{placeholder:" "})}),l.jsx(at,{children:r.map(u=>l.jsxs(ye,{value:u.code,children:[u.flag_emoji," ",u.native_name]},u.code))})]}),l.jsx("div",{className:"overflow-clip relative shrink-0 size-[16px] flex items-center justify-center cursor-pointer",onClick:e,children:l.jsx(Om,{className:"size-full text-foreground"})})]}),l.jsxs("div",{className:"box-border flex flex-[1_0_0] flex-col gap-[40px] items-center justify-center p-[24px] relative shrink-0 w-full",children:[l.jsxs("div",{className:"flex flex-col gap-[16px] items-start justify-center relative shrink-0 w-full max-w-[800px]",children:[l.jsxs("div",{className:"flex items-start relative shrink-0 w-full",children:[l.jsxs("div",{className:"flex flex-[1_0_0] flex-col items-start justify-center relative shrink-0 text-primary",children:[l.jsx("p",{className:"font-black leading-[36px] text-[30px]",children:"reduct"}),l.jsx("p",{className:"font-normal leading-[28px] text-[18px]",children:"AI Agent"})]}),l.jsx("div",{className:"flex flex-col gap-[10px] items-start relative shrink-0 w-[300px]",children:l.jsxs("div",{className:"bg-muted box-border flex h-[36px] items-center justify-center p-[3px] relative rounded-[8px] shrink-0 w-full",children:[l.jsx("div",{className:"bg-background border border-border box-border flex flex-[1_0_0] flex-col gap-[10px] h-[29px] items-center justify-center px-[8px] py-[4px] relative rounded-[6px] shadow-sm shrink-0",children:l.jsx("div",{className:"flex gap-[10px] items-center justify-center relative shrink-0",children:l.jsx("p",{className:"font-medium leading-[20px] text-foreground text-[14px]",children:"AI"})})}),["","/",""].map(u=>l.jsx("div",{className:"box-border flex flex-[1_0_0] flex-col gap-[10px] h-[29px] items-center justify-center px-[8px] py-[4px] relative rounded-[6px] shrink-0 cursor-pointer hover:bg-background/50 transition-colors",children:l.jsx("div",{className:"flex gap-[10px] items-center justify-center relative shrink-0",children:l.jsx("p",{className:"font-medium leading-[20px] text-foreground text-[14px]",children:u})})},u))]})})]}),l.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[l.jsx("p",{className:"text-left font-medium leading-[20px] text-card-foreground text-[14px] overflow-hidden text-ellipsis whitespace-nowrap",children:"       AI    ."}),l.jsx("p",{className:"text-left font-medium leading-[20px] text-card-foreground text-[14px] overflow-hidden text-ellipsis whitespace-nowrap",children:"  , , , ,         ."}),l.jsx("p",{className:"text-left font-medium leading-[20px] text-card-foreground text-[14px] overflow-hidden text-ellipsis whitespace-nowrap",children:"    AI      .    ."}),l.jsx("p",{className:"text-left font-medium leading-[20px] text-card-foreground text-[14px] overflow-hidden text-ellipsis whitespace-nowrap",children:" /   LLM    ."}),l.jsx("p",{className:"text-left font-medium leading-[20px] text-card-foreground text-[14px] overflow-hidden text-ellipsis whitespace-nowrap",children:"  ,         ."})]})]}),l.jsx(Sb,{})]})]}),l.jsx(ZF,{open:t,onOpenChange:n})]})}var n0="Popover",[qN,Qle]=ci(n0,[Ss]),Sf=Ss(),[qU,hl]=qN(n0),GN=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!1}=e,u=Sf(t),d=b.useRef(null),[f,p]=b.useState(!1),[m,x]=$i({prop:r,defaultProp:i??!1,onChange:s,caller:n0});return l.jsx(mf,{...u,children:l.jsx(qU,{scope:t,contentId:Fi(),triggerRef:d,open:m,onOpenChange:x,onOpenToggle:b.useCallback(()=>x(y=>!y),[x]),hasCustomAnchor:f,onCustomAnchorAdd:b.useCallback(()=>p(!0),[]),onCustomAnchorRemove:b.useCallback(()=>p(!1),[]),modal:a,children:n})})};GN.displayName=n0;var WN="PopoverAnchor",GU=b.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=hl(WN,n),s=Sf(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:u}=i;return b.useEffect(()=>(a(),()=>u()),[a,u]),l.jsx(Uu,{...s,...r,ref:t})});GU.displayName=WN;var YN="PopoverTrigger",KN=b.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=hl(YN,n),s=Sf(n),a=At(t,i.triggerRef),u=l.jsx(St.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":e9(i.open),...r,ref:a,onClick:Pe(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?u:l.jsx(Uu,{asChild:!0,...s,children:u})});KN.displayName=YN;var Cb="PopoverPortal",[WU,YU]=qN(Cb,{forceMount:void 0}),JN=e=>{const{__scopePopover:t,forceMount:n,children:r,container:i}=e,s=hl(Cb,t);return l.jsx(WU,{scope:t,forceMount:n,children:l.jsx(Ir,{present:n||s.open,children:l.jsx(uo,{asChild:!0,container:i,children:r})})})};JN.displayName=Cb;var Nu="PopoverContent",XN=b.forwardRef((e,t)=>{const n=YU(Nu,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,s=hl(Nu,e.__scopePopover);return l.jsx(Ir,{present:r||s.open,children:s.modal?l.jsx(JU,{...i,ref:t}):l.jsx(XU,{...i,ref:t})})});XN.displayName=Nu;var KU=nl("PopoverContent.RemoveScroll"),JU=b.forwardRef((e,t)=>{const n=hl(Nu,e.__scopePopover),r=b.useRef(null),i=At(t,r),s=b.useRef(!1);return b.useEffect(()=>{const a=r.current;if(a)return zm(a)},[]),l.jsx(hf,{as:KU,allowPinchZoom:!0,children:l.jsx(ZN,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Pe(e.onCloseAutoFocus,a=>{a.preventDefault(),s.current||n.triggerRef.current?.focus()}),onPointerDownOutside:Pe(e.onPointerDownOutside,a=>{const u=a.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0,f=u.button===2||d;s.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:Pe(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),XU=b.forwardRef((e,t)=>{const n=hl(Nu,e.__scopePopover),r=b.useRef(!1),i=b.useRef(!1);return l.jsx(ZN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{e.onCloseAutoFocus?.(s),s.defaultPrevented||(r.current||n.triggerRef.current?.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{e.onInteractOutside?.(s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;n.triggerRef.current?.contains(a)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),ZN=b.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,...m}=e,x=hl(Nu,n),y=Sf(n);return Lm(),l.jsx(ff,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:l.jsx(oo,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:p,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onDismiss:()=>x.onOpenChange(!1),children:l.jsx(gf,{"data-state":e9(x.open),role:"dialog",id:x.contentId,...y,...m,ref:t,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),QN="PopoverClose",ZU=b.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=hl(QN,n);return l.jsx(St.button,{type:"button",...r,ref:t,onClick:Pe(e.onClick,()=>i.onOpenChange(!1))})});ZU.displayName=QN;var QU="PopoverArrow",eV=b.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Sf(n);return l.jsx(xf,{...i,...r,ref:t})});eV.displayName=QU;function e9(e){return e?"open":"closed"}var tV=GN,nV=KN,rV=JN,iV=XN;function xu({...e}){return l.jsx(tV,{"data-slot":"popover",...e})}function yu({...e}){return l.jsx(nV,{"data-slot":"popover-trigger",...e})}function t9({className:e,align:t="center",sideOffset:n=4,...r}){return l.jsx(rV,{children:l.jsx(iV,{"data-slot":"popover-content",align:t,sideOffset:n,className:Ae("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...r})})}const sV=e5("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function vt({className:e,variant:t,asChild:n=!1,...r}){const i=n?sj:"span";return l.jsx(i,{"data-slot":"badge",className:Ae(sV({variant:t}),e),...r})}function n9({className:e}){const t=ea(),n=Mi(),[r,i]=b.useState(!0),[s,a]=b.useState(!1),[u,d]=b.useState(!0),[f,p]=b.useState(!0),[m,x]=b.useState(!1),[y,v]=b.useState(!1),[k,j]=b.useState(!1),[C,N]=b.useState(!1),{theme:A}=Iu(),z=n.pathname.startsWith("/front-ai"),I=n.pathname.startsWith("/timeline");b.useEffect(()=>{const L=()=>{j(window.innerWidth<768),window.innerWidth<768&&i(!0)};return L(),window.addEventListener("resize",L),()=>window.removeEventListener("resize",L)},[]);const T=()=>{localStorage.removeItem("token"),localStorage.removeItem("token_expires_at"),localStorage.removeItem("user_email"),localStorage.removeItem("user_id"),t("/")},E=b.useRef(!1);b.useEffect(()=>{const L=localStorage.getItem("token"),D=Number(localStorage.getItem("token_expires_at")||0),V=!D||Date.now()>D;if(!L||V){E.current||(E.current=!0,localStorage.removeItem("token"),localStorage.removeItem("token_expires_at"),localStorage.removeItem("user_email"),localStorage.removeItem("user_id"),alert(" . ()  ."),t("/",{replace:!0}));return}E.current=!1},[t]);const M=()=>l.jsxs(t9,{className:"w-64 p-1 mx-2 z-[100]",align:"start",side:"bottom",sideOffset:8,children:[l.jsxs("div",{className:"flex flex-col gap-1 px-1 py-1",children:[l.jsxs("div",{className:"flex gap-2 items-center px-2 py-1.5 rounded-sm",children:[l.jsx("div",{className:"size-10 bg-teal-500 rounded-lg flex items-center justify-center shrink-0",children:l.jsx("span",{className:"text-white font-semibold text-lg",children:""})}),l.jsx("div",{className:"flex flex-col flex-1 min-w-0",children:l.jsx("p",{className:"text-lg font-bold text-popover-foreground truncate",children:""})})]}),l.jsxs("div",{className:"flex gap-1 items-center px-2 py-1.5 rounded-sm",children:[l.jsx(rj,{className:"size-4 text-muted-foreground shrink-0"}),l.jsx("p",{className:"text-xs text-muted-foreground truncate",children:"abc@naver.com"})]}),l.jsx("div",{className:"flex gap-1 items-center px-2 py-1.5 rounded-sm",children:l.jsxs("div",{className:"flex gap-1 items-center flex-wrap",children:[l.jsx(vt,{variant:"outline",className:"h-[22px] px-2.5 py-0.5 text-xs font-medium",children:":Pro"}),l.jsx(vt,{variant:"outline",className:"h-[22px] px-2.5 py-0.5 text-xs font-medium",children:"KIA:Premium"})]})})]}),l.jsx(Xa,{className:"my-2"}),l.jsxs("div",{className:"flex flex-col gap-0 px-1",children:[l.jsxs("div",{className:"flex gap-2 h-8 items-center px-2 py-1.5 rounded-sm cursor-pointer hover:bg-accent transition-colors",children:[l.jsx(Nd,{className:"size-4 text-popover-foreground shrink-0"}),l.jsx("p",{className:"text-sm text-popover-foreground flex-1",children:" "})]}),l.jsxs("div",{className:"flex gap-2 h-8 items-center px-2 py-1.5 rounded-sm cursor-pointer hover:bg-accent transition-colors",children:[l.jsx(ij,{className:"size-4 text-popover-foreground shrink-0"}),l.jsx("p",{className:"text-sm text-popover-foreground flex-1",children:" "})]})]}),l.jsx(Xa,{className:"my-2"}),l.jsxs("div",{className:"flex flex-col gap-0 px-1",children:[l.jsxs("div",{className:"flex gap-2 h-8 items-center px-2 py-1.5 rounded-sm cursor-pointer hover:bg-accent transition-colors",children:[l.jsxs("div",{className:"flex gap-1 items-center flex-1",children:[A==="dark"?l.jsx(tj,{className:"size-4 text-popover-foreground shrink-0"}):l.jsx(nj,{className:"size-4 text-popover-foreground shrink-0"}),l.jsx("p",{className:"text-sm text-popover-foreground",children:"Light"})]}),l.jsx(ms,{className:"size-4 text-popover-foreground shrink-0"})]}),l.jsxs("div",{className:"flex gap-2 h-8 items-center px-2 py-1.5 rounded-sm cursor-pointer hover:bg-accent transition-colors",children:[l.jsxs("div",{className:"flex gap-1 items-center flex-1",children:[l.jsx("span",{className:"text-sm",children:""}),l.jsx("p",{className:"text-sm text-popover-foreground",children:""})]}),l.jsx(ms,{className:"size-4 text-popover-foreground shrink-0"})]})]}),l.jsx(Xa,{className:"my-2"}),l.jsx("div",{className:"flex flex-col gap-0 px-1 pb-1",children:l.jsxs("div",{className:"flex gap-2 h-8 items-center px-2 py-1.5 rounded-sm cursor-pointer hover:bg-accent transition-colors",onClick:T,children:[l.jsx(Q8,{className:"size-4 text-popover-foreground shrink-0"}),l.jsx("p",{className:"text-sm text-popover-foreground flex-1",children:"Log out"})]})})]});return k&&!y?l.jsxs("div",{className:"md:hidden fixed top-0 left-0 right-0 h-[56px] bg-background border-b border-border flex items-center justify-between px-3 z-50",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"size-6 cursor-pointer flex items-center justify-center",onClick:()=>v(!0),children:l.jsx(ej,{className:"size-6"})}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("p",{className:"font-black text-base text-foreground",children:"reduct"})})]}),l.jsxs(xu,{open:C,onOpenChange:N,children:[l.jsx(yu,{asChild:!0,children:l.jsx("div",{className:"size-8 bg-teal-500 rounded-md flex items-center justify-center shrink-0 cursor-pointer",children:l.jsx("span",{className:"text-white font-bold text-sm",children:""})})}),l.jsx(M,{})]})]}):k&&y?l.jsxs("div",{className:"fixed inset-0 z-50 bg-background flex flex-col",children:[l.jsxs("div",{className:"h-[56px] flex items-center justify-between px-3 border-b border-border shrink-0",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"size-6 cursor-pointer flex items-center justify-center",onClick:()=>v(!1),children:l.jsx(J2,{className:"size-6"})}),l.jsx("p",{className:"font-black text-base text-foreground",children:"menu"})]}),l.jsxs(xu,{open:C,onOpenChange:N,children:[l.jsx(yu,{asChild:!0,children:l.jsx("div",{className:"size-8 bg-teal-500 rounded-md flex items-center justify-center shrink-0 cursor-pointer",children:l.jsx("span",{className:"text-white font-bold text-sm",children:""})})}),l.jsx(M,{})]})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-2 bg-background",children:[l.jsxs("div",{className:"flex flex-col gap-1 mb-2",children:[l.jsxs("div",{className:Ae("flex items-center gap-2 p-2 h-8 rounded-md cursor-pointer",z?"bg-accent text-accent-foreground font-medium border border-border/10":"hover:bg-accent/50"),onClick:()=>{v(!1),t("/front-ai")},children:[l.jsx("div",{className:"size-5 flex items-center justify-center",children:l.jsx(Ay,{className:"size-full"})}),l.jsx("span",{className:"text-base text-foreground",children:"AI"})]}),l.jsxs("div",{className:Ae("flex items-center gap-2 p-2 h-8 rounded-md cursor-pointer",I?"bg-accent text-accent-foreground font-medium border border-border/10":"hover:bg-accent/50"),onClick:()=>{v(!1),t("/timeline")},children:[l.jsx("div",{className:"size-5 flex items-center justify-center",children:l.jsx(R6,{className:"size-full"})}),l.jsx("span",{className:"text-base text-foreground",children:""})]}),l.jsxs("div",{className:"flex items-center gap-2 p-2 h-8 rounded-md cursor-pointer",children:[l.jsx("div",{className:"size-5 flex items-center justify-center",children:l.jsx(Il,{className:"size-full"})}),l.jsx("span",{className:"text-base text-foreground",children:" "})]})]}),l.jsxs("div",{className:"flex flex-col gap-1 mb-2",children:[l.jsxs("div",{className:"flex items-center justify-between px-2 h-8 opacity-70",children:[l.jsx("span",{className:"text-sm text-foreground cursor-pointer select-none",onClick:()=>d(L=>!L),children:" "}),l.jsx(Rn,{className:"size-4"})]}),u&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center gap-2 p-2 h-8 rounded-md cursor-pointer hover:bg-accent/50",onClick:()=>{v(!1),t("/posts/new/edit")},children:[l.jsx($g,{className:"size-5"}),l.jsx("span",{className:"text-base text-foreground",children:" "})]}),l.jsxs("div",{className:"flex items-center gap-2 p-2 h-8 rounded-md cursor-pointer",children:[l.jsx(Il,{className:"size-5"}),l.jsx("span",{className:"text-base text-foreground",children:" "})]})]})]}),l.jsxs("div",{className:"flex flex-col gap-1 mb-2",children:[l.jsxs("div",{className:"flex items-center justify-between px-2 h-8 opacity-70",children:[l.jsx("span",{className:"text-sm text-foreground cursor-pointer select-none",onClick:()=>p(L=>!L),children:"/ "}),l.jsx(Rn,{className:"size-4"})]}),f&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center gap-2 p-2 h-8 rounded-md cursor-pointer",children:[l.jsx(Vg,{className:"size-5"}),l.jsx("span",{className:"text-base text-foreground",children:" "})]}),l.jsxs("div",{className:"flex items-center gap-2 p-2 h-8 rounded-md cursor-pointer",children:[l.jsx(Il,{className:"size-5"}),l.jsx("span",{className:"text-base text-foreground",children:" "})]})]})]}),l.jsxs("div",{className:"flex flex-col gap-1 mt-4",children:[l.jsx("div",{className:"px-2 h-8 opacity-70 flex items-center",children:l.jsx("span",{className:"text-sm text-foreground",children:""})}),l.jsxs("div",{className:"flex items-center gap-2 p-2 h-8 rounded-md cursor-pointer",children:[l.jsx(yr,{className:"size-5"}),l.jsx("span",{className:"text-base text-foreground",children:""})]}),l.jsxs("div",{className:"flex items-center gap-2 p-2 h-8 rounded-md cursor-pointer",children:[l.jsx(O6,{className:"size-5"}),l.jsx("span",{className:"text-base text-foreground",children:""})]}),l.jsxs("div",{className:"flex items-center gap-2 p-2 h-8 rounded-md cursor-pointer",children:[l.jsx(Nd,{className:"size-5"}),l.jsx("span",{className:"text-base text-foreground",children:""})]})]})]})]}):l.jsxs("div",{className:Ae("bg-sidebar border-r border-sidebar-border h-full flex flex-col shrink-0 transition-all duration-300 ease-in-out hidden md:flex",r?"w-[200px]":"w-[50px]",e),children:[l.jsx("div",{className:"flex flex-col gap-2 p-2 pt-3.5",children:l.jsxs("div",{className:Ae("flex items-center h-8 px-2",r?"justify-between":"justify-center"),children:[r&&l.jsx("p",{className:"font-black text-base leading-6 text-primary",children:"reduct"}),l.jsx("div",{className:Ae("cursor-pointer relative flex items-center justify-center text-sidebar-foreground",r?"size-4":"size-8"),onClick:()=>i(!r),onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),children:r?l.jsx(Xp,{className:"w-4 h-4"}):m?l.jsx(Xp,{className:"w-4 h-4 rotate-180 transition-transform"}):l.jsx(Vd,{className:"w-8 h-8"})})]})}),l.jsx("div",{className:Ae("p-2",!r&&"flex justify-center"),children:l.jsxs(xu,{open:s,onOpenChange:a,children:[l.jsx(yu,{asChild:!0,children:l.jsx("div",{className:Ae("flex items-center gap-2 p-2 cursor-pointer hover:bg-accent/50 rounded-md transition-colors",!r&&"justify-center p-0"),children:r?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"size-10 bg-teal-500 rounded-lg flex items-center justify-center shrink-0",children:l.jsx("span",{className:"text-white font-semibold text-lg",children:""})}),l.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm text-left font-semibold text-sidebar-foreground truncate",children:""}),l.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[l.jsx("span",{children:"Pro"}),l.jsx("span",{className:"mx-1",children:""}),l.jsx("span",{children:"Premium"})]})]}),l.jsx("div",{className:"size-4 relative shrink-0 flex items-center justify-center text-sidebar-foreground",children:l.jsx(Z8,{className:"size-full"})})]}):l.jsx("div",{className:"size-8 bg-teal-500 rounded-md flex items-center justify-center shrink-0",children:l.jsx("span",{className:"text-white font-semibold text-base",children:""})})})}),l.jsx(M,{})]})}),l.jsxs("div",{className:"flex flex-col p-2 gap-1",children:[l.jsxs("div",{className:Ae("flex items-center gap-2 p-2 h-8 rounded-md cursor-pointer",!r&&"justify-center",z?"bg-accent":"hover:bg-accent/50"),onClick:()=>t("/front-ai"),children:[l.jsx("div",{className:"size-4 relative shrink-0 flex items-center justify-center text-sidebar-foreground",children:l.jsx(Ay,{className:"size-full"})}),r&&l.jsx("span",{className:"text-sm text-sidebar-foreground",children:"AI"})]}),l.jsxs("div",{className:Ae("flex items-center gap-2 p-2 h-8 rounded-md cursor-pointer",!r&&"justify-center",I?"bg-accent":"hover:bg-accent/50"),onClick:()=>t("/timeline"),children:[l.jsx("div",{className:"size-4 relative shrink-0 flex items-center justify-center text-sidebar-foreground",children:l.jsx(R6,{className:"size-full"})}),r&&l.jsx("span",{className:"text-sm text-sidebar-foreground",children:""})]}),l.jsxs("div",{className:Ae("flex items-center gap-2 p-2 h-8 rounded-md cursor-pointer hover:bg-accent/50",!r&&"justify-center"),children:[l.jsx("div",{className:"size-4 relative shrink-0 flex items-center justify-center text-sidebar-foreground",children:l.jsx(Il,{className:"size-full"})}),r&&l.jsx("span",{className:"text-sm text-sidebar-foreground",children:" "})]})]}),r?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex flex-col p-2 gap-1",children:[l.jsxs("div",{className:"flex items-center gap-2 px-2 h-8 opacity-70 cursor-pointer select-none",children:[l.jsx("span",{className:"flex-1 text-left text-xs text-sidebar-foreground",onClick:()=>d(L=>!L),children:" "}),l.jsx("div",{className:"size-4 relative shrink-0 flex items-center justify-center text-sidebar-foreground",children:l.jsx(Rn,{className:"size-full"})})]}),u&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center gap-2 p-2 h-8 rounded-md cursor-pointer hover:bg-accent/50",onClick:()=>t("/posts/new/edit"),children:[l.jsx("div",{className:"size-4 relative shrink-0 flex items-center justify-center text-sidebar-foreground",children:l.jsx($g,{className:"size-full"})}),l.jsx("span",{className:"text-sm text-sidebar-foreground",children:" "})]}),l.jsxs("div",{className:"flex items-center gap-2 p-2 h-8 rounded-md cursor-pointer hover:bg-accent/50",children:[l.jsx("div",{className:"size-4 relative shrink-0 flex items-center justify-center text-sidebar-foreground",children:l.jsx(Il,{className:"size-full"})}),l.jsx("span",{className:"text-sm text-sidebar-foreground",children:" "})]})]})]}),l.jsxs("div",{className:"flex flex-col p-2 gap-1",children:[l.jsxs("div",{className:"flex items-center gap-2 px-2 h-8 opacity-70 cursor-pointer select-none",children:[l.jsx("span",{className:"flex-1 text-left text-xs text-sidebar-foreground",onClick:()=>p(L=>!L),children:"/ "}),l.jsx("div",{className:"size-4 relative shrink-0 flex items-center justify-center text-sidebar-foreground",children:l.jsx(Rn,{className:"size-full"})})]}),f&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center gap-2 p-2 h-8 rounded-md cursor-pointer hover:bg-accent/50",children:[l.jsx("div",{className:"size-4 relative shrink-0 flex items-center justify-center text-sidebar-foreground",children:l.jsx(Vg,{className:"size-full"})}),l.jsx("span",{className:"text-sm text-sidebar-foreground",children:" "})]}),l.jsxs("div",{className:"flex items-center gap-2 p-2 h-8 rounded-md cursor-pointer hover:bg-accent/50",children:[l.jsx("div",{className:"size-4 relative shrink-0 flex items-center justify-center text-sidebar-foreground",children:l.jsx(Il,{className:"size-full"})}),l.jsx("span",{className:"text-sm text-sidebar-foreground",children:" "})]})]})]})]}):l.jsxs("div",{className:"flex flex-col p-2 gap-1",children:[l.jsx("div",{className:"flex items-center justify-center h-8 rounded-md cursor-pointer hover:bg-accent/50",children:l.jsx($g,{className:"size-4 text-sidebar-foreground"})}),l.jsx("div",{className:"flex items-center justify-center h-8 rounded-md cursor-pointer hover:bg-accent/50",children:l.jsx(Vg,{className:"size-4 text-sidebar-foreground"})})]}),l.jsxs("div",{className:"flex flex-col p-2 gap-1 mt-auto",children:[r&&l.jsx("div",{className:"flex items-center gap-2 px-2 h-8 opacity-70",children:l.jsx("span",{className:"text-xs text-sidebar-foreground",children:""})}),l.jsxs("div",{className:Ae("flex items-center gap-2 p-2 h-8 rounded-md cursor-pointer hover:bg-accent/50",!r&&"justify-center"),children:[l.jsx("div",{className:"size-4 relative shrink-0 flex items-center justify-center text-sidebar-foreground",children:l.jsx(yr,{className:"size-full"})}),r&&l.jsx("span",{className:"text-sm text-sidebar-foreground",children:""})]}),l.jsxs("div",{className:Ae("flex items-center gap-2 p-2 h-8 rounded-md cursor-pointer hover:bg-accent/50",!r&&"justify-center"),children:[l.jsx("div",{className:"size-4 relative shrink-0 flex items-center justify-center text-sidebar-foreground",children:l.jsx(O6,{className:"size-full"})}),r&&l.jsx("span",{className:"text-sm text-sidebar-foreground",children:""})]}),l.jsxs("div",{className:Ae("flex items-center gap-2 p-2 h-8 rounded-md cursor-pointer hover:bg-accent/50",!r&&"justify-center"),children:[l.jsx("div",{className:"size-4 relative shrink-0 flex items-center justify-center text-sidebar-foreground",children:l.jsx(Nd,{className:"size-full"})}),r&&l.jsx("span",{className:"text-sm text-sidebar-foreground",children:"/ "})]})]})]})}function r9({className:e,children:t,leftContent:n}){const{toggleTheme:r}=Iu();return l.jsxs("div",{className:Ae("h-[60px] w-full flex items-center px-6 gap-4 shrink-0 border-b border-border/10",e),children:[n,l.jsx("div",{className:"flex-1"}),t,l.jsx("div",{className:"size-4 relative shrink-0 flex items-center justify-center cursor-pointer",onClick:r,children:l.jsx(Om,{className:"size-full text-foreground"})})]})}function aV(){const e=ea(),t=b.useRef(!1),[n,r]=b.useState([]),[i,s]=b.useState("");return b.useEffect(()=>{const a=localStorage.getItem("token"),u=Number(localStorage.getItem("token_expires_at")||0),d=!u||Date.now()>u;if(!a||d){t.current||(t.current=!0,localStorage.removeItem("token"),localStorage.removeItem("token_expires_at"),localStorage.removeItem("user_email"),localStorage.removeItem("user_id"),alert(" .   ."),e("/",{replace:!0}));return}t.current=!1},[e]),b.useEffect(()=>{(async()=>{try{const u=await fetch("/api/i18n/languages");if(u.ok){const f=(await u.json()||[]).filter(p=>p.is_active!==!1);if(r(f),f.length>0){const p=f.find(m=>m.is_default)?.code||f[0].code;s(p)}}}catch(u){console.error("Failed to fetch languages:",u)}})()},[]),l.jsxs("div",{className:"bg-background relative w-full h-screen overflow-hidden flex font-sans",children:[l.jsx(n9,{}),l.jsxs("div",{className:"flex-1 flex flex-col h-full w-full bg-background relative pt-[56px] md:pt-0",children:[l.jsx(r9,{children:l.jsxs(rt,{value:i,onValueChange:s,children:[l.jsx(st,{className:"w-[120px] h-9 bg-background",children:l.jsx(it,{placeholder:" "})}),l.jsx(at,{children:n.map(a=>l.jsxs(ye,{value:a.code,children:[a.flag_emoji," ",a.native_name]},a.code))})]})}),l.jsx("div",{className:"flex flex-[1_0_0] flex-col gap-[40px] items-center justify-center p-[24px] relative shrink-0 w-full",children:l.jsx(Sb,{submitMode:"emit",onSubmit:({input:a,providerSlug:u,model:d,modelType:f,options:p})=>{const m=typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():`${Date.now()}_${Math.random().toString(16).slice(2)}`;e("/timeline",{state:{initial:{requestId:m,input:a,providerSlug:u,model:d,modelType:f,options:p||null,sessionLanguage:i||null}}})},sessionLanguage:i||void 0})})]})]})}function lV(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const oV=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,uV=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,cV={};function jk(e,t){return(cV.jsx?uV:oV).test(e)}const dV=/[ \t\n\f\r]/g;function fV(e){return typeof e=="object"?e.type==="text"?_k(e.value):!1:_k(e)}function _k(e){return e.replace(dV,"")===""}let Cf=class{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}};Cf.prototype.normal={};Cf.prototype.property={};Cf.prototype.space=void 0;function i9(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Cf(n,r,t)}function e2(e){return e.toLowerCase()}class Wr{constructor(t,n){this.attribute=n,this.property=t}}Wr.prototype.attribute="";Wr.prototype.booleanish=!1;Wr.prototype.boolean=!1;Wr.prototype.commaOrSpaceSeparated=!1;Wr.prototype.commaSeparated=!1;Wr.prototype.defined=!1;Wr.prototype.mustUseProperty=!1;Wr.prototype.number=!1;Wr.prototype.overloadedBoolean=!1;Wr.prototype.property="";Wr.prototype.spaceSeparated=!1;Wr.prototype.space=void 0;let hV=0;const Tt=ho(),Fn=ho(),t2=ho(),Oe=ho(),fn=ho(),bu=ho(),ti=ho();function ho(){return 2**++hV}const n2=Object.freeze(Object.defineProperty({__proto__:null,boolean:Tt,booleanish:Fn,commaOrSpaceSeparated:ti,commaSeparated:bu,number:Oe,overloadedBoolean:t2,spaceSeparated:fn},Symbol.toStringTag,{value:"Module"})),fx=Object.keys(n2);class jb extends Wr{constructor(t,n,r,i){let s=-1;if(super(t,n),Nk(this,"space",i),typeof r=="number")for(;++s<fx.length;){const a=fx[s];Nk(this,fx[s],(r&n2[a])===n2[a])}}}jb.prototype.defined=!0;function Nk(e,t,n){n&&(e[t]=n)}function Gu(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const s=new jb(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[e2(r)]=r,n[e2(s.attribute)]=r}return new Cf(t,n,e.space)}const s9=Gu({properties:{ariaActiveDescendant:null,ariaAtomic:Fn,ariaAutoComplete:null,ariaBusy:Fn,ariaChecked:Fn,ariaColCount:Oe,ariaColIndex:Oe,ariaColSpan:Oe,ariaControls:fn,ariaCurrent:null,ariaDescribedBy:fn,ariaDetails:null,ariaDisabled:Fn,ariaDropEffect:fn,ariaErrorMessage:null,ariaExpanded:Fn,ariaFlowTo:fn,ariaGrabbed:Fn,ariaHasPopup:null,ariaHidden:Fn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:fn,ariaLevel:Oe,ariaLive:null,ariaModal:Fn,ariaMultiLine:Fn,ariaMultiSelectable:Fn,ariaOrientation:null,ariaOwns:fn,ariaPlaceholder:null,ariaPosInSet:Oe,ariaPressed:Fn,ariaReadOnly:Fn,ariaRelevant:null,ariaRequired:Fn,ariaRoleDescription:fn,ariaRowCount:Oe,ariaRowIndex:Oe,ariaRowSpan:Oe,ariaSelected:Fn,ariaSetSize:Oe,ariaSort:null,ariaValueMax:Oe,ariaValueMin:Oe,ariaValueNow:Oe,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function a9(e,t){return t in e?e[t]:t}function l9(e,t){return a9(e,t.toLowerCase())}const pV=Gu({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:bu,acceptCharset:fn,accessKey:fn,action:null,allow:null,allowFullScreen:Tt,allowPaymentRequest:Tt,allowUserMedia:Tt,alt:null,as:null,async:Tt,autoCapitalize:null,autoComplete:fn,autoFocus:Tt,autoPlay:Tt,blocking:fn,capture:null,charSet:null,checked:Tt,cite:null,className:fn,cols:Oe,colSpan:null,content:null,contentEditable:Fn,controls:Tt,controlsList:fn,coords:Oe|bu,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Tt,defer:Tt,dir:null,dirName:null,disabled:Tt,download:t2,draggable:Fn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Tt,formTarget:null,headers:fn,height:Oe,hidden:t2,high:Oe,href:null,hrefLang:null,htmlFor:fn,httpEquiv:fn,id:null,imageSizes:null,imageSrcSet:null,inert:Tt,inputMode:null,integrity:null,is:null,isMap:Tt,itemId:null,itemProp:fn,itemRef:fn,itemScope:Tt,itemType:fn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Tt,low:Oe,manifest:null,max:null,maxLength:Oe,media:null,method:null,min:null,minLength:Oe,multiple:Tt,muted:Tt,name:null,nonce:null,noModule:Tt,noValidate:Tt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Tt,optimum:Oe,pattern:null,ping:fn,placeholder:null,playsInline:Tt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Tt,referrerPolicy:null,rel:fn,required:Tt,reversed:Tt,rows:Oe,rowSpan:Oe,sandbox:fn,scope:null,scoped:Tt,seamless:Tt,selected:Tt,shadowRootClonable:Tt,shadowRootDelegatesFocus:Tt,shadowRootMode:null,shape:null,size:Oe,sizes:null,slot:null,span:Oe,spellCheck:Fn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Oe,step:null,style:null,tabIndex:Oe,target:null,title:null,translate:null,type:null,typeMustMatch:Tt,useMap:null,value:Fn,width:Oe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:fn,axis:null,background:null,bgColor:null,border:Oe,borderColor:null,bottomMargin:Oe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Tt,declare:Tt,event:null,face:null,frame:null,frameBorder:null,hSpace:Oe,leftMargin:Oe,link:null,longDesc:null,lowSrc:null,marginHeight:Oe,marginWidth:Oe,noResize:Tt,noHref:Tt,noShade:Tt,noWrap:Tt,object:null,profile:null,prompt:null,rev:null,rightMargin:Oe,rules:null,scheme:null,scrolling:Fn,standby:null,summary:null,text:null,topMargin:Oe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Oe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Tt,disableRemotePlayback:Tt,prefix:null,property:null,results:Oe,security:null,unselectable:null},space:"html",transform:l9}),mV=Gu({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ti,accentHeight:Oe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Oe,amplitude:Oe,arabicForm:null,ascent:Oe,attributeName:null,attributeType:null,azimuth:Oe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Oe,by:null,calcMode:null,capHeight:Oe,className:fn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Oe,diffuseConstant:Oe,direction:null,display:null,dur:null,divisor:Oe,dominantBaseline:null,download:Tt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Oe,enableBackground:null,end:null,event:null,exponent:Oe,externalResourcesRequired:null,fill:null,fillOpacity:Oe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:bu,g2:bu,glyphName:bu,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Oe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Oe,horizOriginX:Oe,horizOriginY:Oe,id:null,ideographic:Oe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Oe,k:Oe,k1:Oe,k2:Oe,k3:Oe,k4:Oe,kernelMatrix:ti,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Oe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Oe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Oe,overlineThickness:Oe,paintOrder:null,panose1:null,path:null,pathLength:Oe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:fn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Oe,pointsAtY:Oe,pointsAtZ:Oe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ti,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ti,rev:ti,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ti,requiredFeatures:ti,requiredFonts:ti,requiredFormats:ti,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Oe,specularExponent:Oe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Oe,strikethroughThickness:Oe,string:null,stroke:null,strokeDashArray:ti,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Oe,strokeOpacity:Oe,strokeWidth:null,style:null,surfaceScale:Oe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ti,tabIndex:Oe,tableValues:null,target:null,targetX:Oe,targetY:Oe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ti,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Oe,underlineThickness:Oe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Oe,values:null,vAlphabetic:Oe,vMathematical:Oe,vectorEffect:null,vHanging:Oe,vIdeographic:Oe,version:null,vertAdvY:Oe,vertOriginX:Oe,vertOriginY:Oe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Oe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:a9}),o9=Gu({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),u9=Gu({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:l9}),c9=Gu({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),gV={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},xV=/[A-Z]/g,Ek=/-[a-z]/g,yV=/^data[-\w.:]+$/i;function bV(e,t){const n=e2(t);let r=t,i=Wr;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&yV.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(Ek,wV);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!Ek.test(s)){let a=s.replace(xV,vV);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}i=jb}return new i(r,t)}function vV(e){return"-"+e.toLowerCase()}function wV(e){return e.charAt(1).toUpperCase()}const kV=i9([s9,pV,o9,u9,c9],"html"),_b=i9([s9,mV,o9,u9,c9],"svg");function SV(e){return e.join(" ").trim()}var Qo={},hx,Ak;function CV(){if(Ak)return hx;Ak=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,u=/^\s+|\s+$/g,d=`
`,f="/",p="*",m="",x="comment",y="declaration";function v(j,C){if(typeof j!="string")throw new TypeError("First argument must be a string");if(!j)return[];C=C||{};var N=1,A=1;function z(Z){var q=Z.match(t);q&&(N+=q.length);var F=Z.lastIndexOf(d);A=~F?Z.length-F:A+Z.length}function I(){var Z={line:N,column:A};return function(q){return q.position=new T(Z),L(),q}}function T(Z){this.start=Z,this.end={line:N,column:A},this.source=C.source}T.prototype.content=j;function E(Z){var q=new Error(C.source+":"+N+":"+A+": "+Z);if(q.reason=Z,q.filename=C.source,q.line=N,q.column=A,q.source=j,!C.silent)throw q}function M(Z){var q=Z.exec(j);if(q){var F=q[0];return z(F),j=j.slice(F.length),q}}function L(){M(n)}function D(Z){var q;for(Z=Z||[];q=V();)q!==!1&&Z.push(q);return Z}function V(){var Z=I();if(!(f!=j.charAt(0)||p!=j.charAt(1))){for(var q=2;m!=j.charAt(q)&&(p!=j.charAt(q)||f!=j.charAt(q+1));)++q;if(q+=2,m===j.charAt(q-1))return E("End of comment missing");var F=j.slice(2,q-2);return A+=2,z(F),j=j.slice(q),A+=2,Z({type:x,comment:F})}}function K(){var Z=I(),q=M(r);if(q){if(V(),!M(i))return E("property missing ':'");var F=M(s),W=Z({type:y,property:k(q[0].replace(e,m)),value:F?k(F[0].replace(e,m)):m});return M(a),W}}function J(){var Z=[];D(Z);for(var q;q=K();)q!==!1&&(Z.push(q),D(Z));return Z}return L(),J()}function k(j){return j?j.replace(u,m):m}return hx=v,hx}var Dk;function jV(){if(Dk)return Qo;Dk=1;var e=Qo&&Qo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Qo,"__esModule",{value:!0}),Qo.default=n;const t=e(CV());function n(r,i){let s=null;if(!r||typeof r!="string")return s;const a=(0,t.default)(r),u=typeof i=="function";return a.forEach(d=>{if(d.type!=="declaration")return;const{property:f,value:p}=d;u?i(f,p,d):p&&(s=s||{},s[f]=p)}),s}return Qo}var Qc={},Tk;function _V(){if(Tk)return Qc;Tk=1,Object.defineProperty(Qc,"__esModule",{value:!0}),Qc.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,s=function(f){return!f||n.test(f)||e.test(f)},a=function(f,p){return p.toUpperCase()},u=function(f,p){return"".concat(p,"-")},d=function(f,p){return p===void 0&&(p={}),s(f)?f:(f=f.toLowerCase(),p.reactCompat?f=f.replace(i,u):f=f.replace(r,u),f.replace(t,a))};return Qc.camelCase=d,Qc}var ed,Mk;function NV(){if(Mk)return ed;Mk=1;var e=ed&&ed.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(jV()),n=_V();function r(i,s){var a={};return!i||typeof i!="string"||(0,t.default)(i,function(u,d){u&&d&&(a[(0,n.camelCase)(u,s)]=d)}),a}return r.default=r,ed=r,ed}var EV=NV();const AV=Am(EV),d9=f9("end"),Nb=f9("start");function f9(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function h9(e){const t=Nb(e),n=d9(e);if(t&&n)return{start:t,end:n}}function Ed(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Ok(e.position):"start"in e||"end"in e?Ok(e):"line"in e||"column"in e?r2(e):""}function r2(e){return Rk(e&&e.line)+":"+Rk(e&&e.column)}function Ok(e){return r2(e&&e.start)+"-"+r2(e&&e.end)}function Rk(e){return e&&typeof e=="number"?e:1}class Er extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},a=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(a=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const d=r.indexOf(":");d===-1?s.ruleId=r:(s.source=r.slice(0,d),s.ruleId=r.slice(d+1))}if(!s.place&&s.ancestors&&s.ancestors){const d=s.ancestors[s.ancestors.length-1];d&&(s.place=d.position)}const u=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=u?u.line:void 0,this.name=Ed(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Er.prototype.file="";Er.prototype.name="";Er.prototype.reason="";Er.prototype.message="";Er.prototype.stack="";Er.prototype.column=void 0;Er.prototype.line=void 0;Er.prototype.ancestors=void 0;Er.prototype.cause=void 0;Er.prototype.fatal=void 0;Er.prototype.place=void 0;Er.prototype.ruleId=void 0;Er.prototype.source=void 0;const Eb={}.hasOwnProperty,DV=new Map,TV=/[A-Z]/g,MV=new Set(["table","tbody","thead","tfoot","tr"]),OV=new Set(["td","th"]),p9="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function RV(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=HV(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=$V(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?_b:kV,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=m9(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function m9(e,t,n){if(t.type==="element")return LV(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return PV(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return IV(e,t,n);if(t.type==="mdxjsEsm")return zV(e,t);if(t.type==="root")return FV(e,t,n);if(t.type==="text")return BV(e,t)}function LV(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=_b,e.schema=i),e.ancestors.push(t);const s=x9(e,t.tagName,!1),a=UV(e,t);let u=Db(e,t);return MV.has(t.tagName)&&(u=u.filter(function(d){return typeof d=="string"?!fV(d):!0})),g9(e,a,s,t),Ab(a,u),e.ancestors.pop(),e.schema=r,e.create(t,s,a,n)}function PV(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Gd(e,t.position)}function zV(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Gd(e,t.position)}function IV(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=_b,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:x9(e,t.name,!0),a=VV(e,t),u=Db(e,t);return g9(e,a,s,t),Ab(a,u),e.ancestors.pop(),e.schema=r,e.create(t,s,a,n)}function FV(e,t,n){const r={};return Ab(r,Db(e,t)),e.create(t,e.Fragment,r,n)}function BV(e,t){return t.value}function g9(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Ab(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function $V(e,t,n){return r;function r(i,s,a,u){const f=Array.isArray(a.children)?n:t;return u?f(s,a,u):f(s,a)}}function HV(e,t){return n;function n(r,i,s,a){const u=Array.isArray(s.children),d=Nb(r);return t(i,s,a,u,{columnNumber:d?d.column-1:void 0,fileName:e,lineNumber:d?d.line:void 0},void 0)}}function UV(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&Eb.call(t.properties,i)){const s=qV(e,i,t.properties[i]);if(s){const[a,u]=s;e.tableCellAlignToStyle&&a==="align"&&typeof u=="string"&&OV.has(t.tagName)?r=u:n[a]=u}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function VV(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const a=s.expression;a.type;const u=a.properties[0];u.type,Object.assign(n,e.evaluater.evaluateExpression(u.argument))}else Gd(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const u=r.value.data.estree.body[0];u.type,s=e.evaluater.evaluateExpression(u.expression)}else Gd(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function Db(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:DV;for(;++r<t.children.length;){const s=t.children[r];let a;if(e.passKeys){const d=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(d){const f=i.get(d)||0;a=d+"-"+f,i.set(d,f+1)}}const u=m9(e,s,a);u!==void 0&&n.push(u)}return n}function qV(e,t,n){const r=bV(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?lV(n):SV(n)),r.property==="style"){let i=typeof n=="object"?n:GV(e,String(n));return e.stylePropertyNameCase==="css"&&(i=WV(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?gV[r.property]||r.property:r.attribute,n]}}function GV(e,t){try{return AV(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Er("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=p9+"#cannot-parse-style-attribute",i}}function x9(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,a;for(;++s<i.length;){const u=jk(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};a=a?{type:"MemberExpression",object:a,property:u,computed:!!(s&&u.type==="Literal"),optional:!1}:u}r=a}else r=jk(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return Eb.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Gd(e)}function Gd(e,t){const n=new Er("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=p9+"#cannot-handle-mdx-estrees-without-createevaluater",n}function WV(e){const t={};let n;for(n in e)Eb.call(e,n)&&(t[YV(n)]=e[n]);return t}function YV(e){let t=e.replace(TV,KV);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function KV(e){return"-"+e.toLowerCase()}const px={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},JV={};function Tb(e,t){const n=JV,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return y9(e,r,i)}function y9(e,t,n){if(XV(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Lk(e.children,t,n)}return Array.isArray(e)?Lk(e,t,n):""}function Lk(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=y9(e[i],t,n);return r.join("")}function XV(e){return!!(e&&typeof e=="object")}const Pk=document.createElement("i");function Mb(e){const t="&"+e+";";Pk.innerHTML=t;const n=Pk.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function li(e,t,n,r){const i=e.length;let s=0,a;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);s<r.length;)a=r.slice(s,s+1e4),a.unshift(t,0),e.splice(...a),s+=1e4,t+=1e4}function ji(e,t){return e.length>0?(li(e,e.length,0,t),e):t}const zk={}.hasOwnProperty;function b9(e){const t={};let n=-1;for(;++n<e.length;)ZV(t,e[n]);return t}function ZV(e,t){let n;for(n in t){const i=(zk.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let a;if(s)for(a in s){zk.call(i,a)||(i[a]=[]);const u=s[a];QV(i[a],Array.isArray(u)?u:u?[u]:[])}}}function QV(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);li(e,0,0,r)}function v9(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Bi(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Or=pl(/[A-Za-z]/),Cr=pl(/[\dA-Za-z]/),eq=pl(/[#-'*+\--9=?A-Z^-~]/);function om(e){return e!==null&&(e<32||e===127)}const i2=pl(/\d/),tq=pl(/[\dA-Fa-f]/),nq=pl(/[!-/:-@[-`{-~]/);function yt(e){return e!==null&&e<-2}function cn(e){return e!==null&&(e<0||e===32)}function Vt(e){return e===-2||e===-1||e===32}const r0=pl(new RegExp("\\p{P}|\\p{S}","u")),to=pl(/\s/);function pl(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Wu(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let a="";if(s===37&&Cr(e.charCodeAt(n+1))&&Cr(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const u=e.charCodeAt(n+1);s<56320&&u>56319&&u<57344?(a=String.fromCharCode(s,u),i=1):a=""}else a=String.fromCharCode(s);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Wt(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(d){return Vt(d)?(e.enter(n),u(d)):t(d)}function u(d){return Vt(d)&&s++<i?(e.consume(d),u):(e.exit(n),t(d))}}const rq={tokenize:iq};function iq(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(u){if(u===null){e.consume(u);return}return e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),Wt(e,t,"linePrefix")}function i(u){return e.enter("paragraph"),s(u)}function s(u){const d=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=d),n=d,a(u)}function a(u){if(u===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(u);return}return yt(u)?(e.consume(u),e.exit("chunkText"),s):(e.consume(u),a)}}const sq={tokenize:aq},Ik={tokenize:lq};function aq(e){const t=this,n=[];let r=0,i,s,a;return u;function u(A){if(r<n.length){const z=n[r];return t.containerState=z[1],e.attempt(z[0].continuation,d,f)(A)}return f(A)}function d(A){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&N();const z=t.events.length;let I=z,T;for(;I--;)if(t.events[I][0]==="exit"&&t.events[I][1].type==="chunkFlow"){T=t.events[I][1].end;break}C(r);let E=z;for(;E<t.events.length;)t.events[E][1].end={...T},E++;return li(t.events,I+1,0,t.events.slice(z)),t.events.length=E,f(A)}return u(A)}function f(A){if(r===n.length){if(!i)return x(A);if(i.currentConstruct&&i.currentConstruct.concrete)return v(A);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Ik,p,m)(A)}function p(A){return i&&N(),C(r),x(A)}function m(A){return t.parser.lazy[t.now().line]=r!==n.length,a=t.now().offset,v(A)}function x(A){return t.containerState={},e.attempt(Ik,y,v)(A)}function y(A){return r++,n.push([t.currentConstruct,t.containerState]),x(A)}function v(A){if(A===null){i&&N(),C(0),e.consume(A);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),k(A)}function k(A){if(A===null){j(e.exit("chunkFlow"),!0),C(0),e.consume(A);return}return yt(A)?(e.consume(A),j(e.exit("chunkFlow")),r=0,t.interrupt=void 0,u):(e.consume(A),k)}function j(A,z){const I=t.sliceStream(A);if(z&&I.push(null),A.previous=s,s&&(s.next=A),s=A,i.defineSkip(A.start),i.write(I),t.parser.lazy[A.start.line]){let T=i.events.length;for(;T--;)if(i.events[T][1].start.offset<a&&(!i.events[T][1].end||i.events[T][1].end.offset>a))return;const E=t.events.length;let M=E,L,D;for(;M--;)if(t.events[M][0]==="exit"&&t.events[M][1].type==="chunkFlow"){if(L){D=t.events[M][1].end;break}L=!0}for(C(r),T=E;T<t.events.length;)t.events[T][1].end={...D},T++;li(t.events,M+1,0,t.events.slice(E)),t.events.length=T}}function C(A){let z=n.length;for(;z-- >A;){const I=n[z];t.containerState=I[1],I[0].exit.call(t,e)}n.length=A}function N(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function lq(e,t,n){return Wt(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Eu(e){if(e===null||cn(e)||to(e))return 1;if(r0(e))return 2}function i0(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const s2={name:"attention",resolveAll:oq,tokenize:uq};function oq(e,t){let n=-1,r,i,s,a,u,d,f,p;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;d=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const m={...e[r][1].end},x={...e[n][1].start};Fk(m,-d),Fk(x,d),a={type:d>1?"strongSequence":"emphasisSequence",start:m,end:{...e[r][1].end}},u={type:d>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:x},s={type:d>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:d>1?"strong":"emphasis",start:{...a.start},end:{...u.end}},e[r][1].end={...a.start},e[n][1].start={...u.end},f=[],e[r][1].end.offset-e[r][1].start.offset&&(f=ji(f,[["enter",e[r][1],t],["exit",e[r][1],t]])),f=ji(f,[["enter",i,t],["enter",a,t],["exit",a,t],["enter",s,t]]),f=ji(f,i0(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),f=ji(f,[["exit",s,t],["enter",u,t],["exit",u,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(p=2,f=ji(f,[["enter",e[n][1],t],["exit",e[n][1],t]])):p=0,li(e,r-1,n-r+3,f),n=r+f.length-p-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function uq(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Eu(r);let s;return a;function a(d){return s=d,e.enter("attentionSequence"),u(d)}function u(d){if(d===s)return e.consume(d),u;const f=e.exit("attentionSequence"),p=Eu(d),m=!p||p===2&&i||n.includes(d),x=!i||i===2&&p||n.includes(r);return f._open=!!(s===42?m:m&&(i||!x)),f._close=!!(s===42?x:x&&(p||!m)),t(d)}}function Fk(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const cq={name:"autolink",tokenize:dq};function dq(e,t,n){let r=0;return i;function i(y){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(y){return Or(y)?(e.consume(y),a):y===64?n(y):f(y)}function a(y){return y===43||y===45||y===46||Cr(y)?(r=1,u(y)):f(y)}function u(y){return y===58?(e.consume(y),r=0,d):(y===43||y===45||y===46||Cr(y))&&r++<32?(e.consume(y),u):(r=0,f(y))}function d(y){return y===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.exit("autolink"),t):y===null||y===32||y===60||om(y)?n(y):(e.consume(y),d)}function f(y){return y===64?(e.consume(y),p):eq(y)?(e.consume(y),f):n(y)}function p(y){return Cr(y)?m(y):n(y)}function m(y){return y===46?(e.consume(y),r=0,p):y===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.exit("autolink"),t):x(y)}function x(y){if((y===45||Cr(y))&&r++<63){const v=y===45?x:m;return e.consume(y),v}return n(y)}}const jf={partial:!0,tokenize:fq};function fq(e,t,n){return r;function r(s){return Vt(s)?Wt(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||yt(s)?t(s):n(s)}}const w9={continuation:{tokenize:pq},exit:mq,name:"blockQuote",tokenize:hq};function hq(e,t,n){const r=this;return i;function i(a){if(a===62){const u=r.containerState;return u.open||(e.enter("blockQuote",{_container:!0}),u.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),s}return n(a)}function s(a){return Vt(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function pq(e,t,n){const r=this;return i;function i(a){return Vt(a)?Wt(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return e.attempt(w9,t,n)(a)}}function mq(e){e.exit("blockQuote")}const k9={name:"characterEscape",tokenize:gq};function gq(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return nq(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const S9={name:"characterReference",tokenize:xq};function xq(e,t,n){const r=this;let i=0,s,a;return u;function u(m){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(m),e.exit("characterReferenceMarker"),d}function d(m){return m===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(m),e.exit("characterReferenceMarkerNumeric"),f):(e.enter("characterReferenceValue"),s=31,a=Cr,p(m))}function f(m){return m===88||m===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(m),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,a=tq,p):(e.enter("characterReferenceValue"),s=7,a=i2,p(m))}function p(m){if(m===59&&i){const x=e.exit("characterReferenceValue");return a===Cr&&!Mb(r.sliceSerialize(x))?n(m):(e.enter("characterReferenceMarker"),e.consume(m),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(m)&&i++<s?(e.consume(m),p):n(m)}}const Bk={partial:!0,tokenize:bq},$k={concrete:!0,name:"codeFenced",tokenize:yq};function yq(e,t,n){const r=this,i={partial:!0,tokenize:I};let s=0,a=0,u;return d;function d(T){return f(T)}function f(T){const E=r.events[r.events.length-1];return s=E&&E[1].type==="linePrefix"?E[2].sliceSerialize(E[1],!0).length:0,u=T,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),p(T)}function p(T){return T===u?(a++,e.consume(T),p):a<3?n(T):(e.exit("codeFencedFenceSequence"),Vt(T)?Wt(e,m,"whitespace")(T):m(T))}function m(T){return T===null||yt(T)?(e.exit("codeFencedFence"),r.interrupt?t(T):e.check(Bk,k,z)(T)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),x(T))}function x(T){return T===null||yt(T)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),m(T)):Vt(T)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Wt(e,y,"whitespace")(T)):T===96&&T===u?n(T):(e.consume(T),x)}function y(T){return T===null||yt(T)?m(T):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),v(T))}function v(T){return T===null||yt(T)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),m(T)):T===96&&T===u?n(T):(e.consume(T),v)}function k(T){return e.attempt(i,z,j)(T)}function j(T){return e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),C}function C(T){return s>0&&Vt(T)?Wt(e,N,"linePrefix",s+1)(T):N(T)}function N(T){return T===null||yt(T)?e.check(Bk,k,z)(T):(e.enter("codeFlowValue"),A(T))}function A(T){return T===null||yt(T)?(e.exit("codeFlowValue"),N(T)):(e.consume(T),A)}function z(T){return e.exit("codeFenced"),t(T)}function I(T,E,M){let L=0;return D;function D(q){return T.enter("lineEnding"),T.consume(q),T.exit("lineEnding"),V}function V(q){return T.enter("codeFencedFence"),Vt(q)?Wt(T,K,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(q):K(q)}function K(q){return q===u?(T.enter("codeFencedFenceSequence"),J(q)):M(q)}function J(q){return q===u?(L++,T.consume(q),J):L>=a?(T.exit("codeFencedFenceSequence"),Vt(q)?Wt(T,Z,"whitespace")(q):Z(q)):M(q)}function Z(q){return q===null||yt(q)?(T.exit("codeFencedFence"),E(q)):M(q)}}}function bq(e,t,n){const r=this;return i;function i(a){return a===null?n(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s)}function s(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}const mx={name:"codeIndented",tokenize:wq},vq={partial:!0,tokenize:kq};function wq(e,t,n){const r=this;return i;function i(f){return e.enter("codeIndented"),Wt(e,s,"linePrefix",5)(f)}function s(f){const p=r.events[r.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?a(f):n(f)}function a(f){return f===null?d(f):yt(f)?e.attempt(vq,a,d)(f):(e.enter("codeFlowValue"),u(f))}function u(f){return f===null||yt(f)?(e.exit("codeFlowValue"),a(f)):(e.consume(f),u)}function d(f){return e.exit("codeIndented"),t(f)}}function kq(e,t,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):yt(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):Wt(e,s,"linePrefix",5)(a)}function s(a){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(a):yt(a)?i(a):n(a)}}const Sq={name:"codeText",previous:jq,resolve:Cq,tokenize:_q};function Cq(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function jq(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function _q(e,t,n){let r=0,i,s;return a;function a(m){return e.enter("codeText"),e.enter("codeTextSequence"),u(m)}function u(m){return m===96?(e.consume(m),r++,u):(e.exit("codeTextSequence"),d(m))}function d(m){return m===null?n(m):m===32?(e.enter("space"),e.consume(m),e.exit("space"),d):m===96?(s=e.enter("codeTextSequence"),i=0,p(m)):yt(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("codeTextData"),f(m))}function f(m){return m===null||m===32||m===96||yt(m)?(e.exit("codeTextData"),d(m)):(e.consume(m),f)}function p(m){return m===96?(e.consume(m),i++,p):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(m)):(s.type="codeTextData",f(m))}}class Nq{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&td(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),td(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),td(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);td(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);td(this.left,n.reverse())}}}function td(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function C9(e){const t={};let n=-1,r,i,s,a,u,d,f;const p=new Nq(e);for(;++n<p.length;){for(;n in t;)n=t[n];if(r=p.get(n),n&&r[1].type==="chunkFlow"&&p.get(n-1)[1].type==="listItemPrefix"&&(d=r[1]._tokenizer.events,s=0,s<d.length&&d[s][1].type==="lineEndingBlank"&&(s+=2),s<d.length&&d[s][1].type==="content"))for(;++s<d.length&&d[s][1].type!=="content";)d[s][1].type==="chunkText"&&(d[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Eq(p,n)),n=t[n],f=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(a=p.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(p.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(r[1].end={...p.get(i)[1].start},u=p.slice(i,n),u.unshift(r),p.splice(i,n-i+1,u))}}return li(e,0,Number.POSITIVE_INFINITY,p.slice(0)),!f}function Eq(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const u=a.events,d=[],f={};let p,m,x=-1,y=n,v=0,k=0;const j=[k];for(;y;){for(;e.get(++i)[1]!==y;);s.push(i),y._tokenizer||(p=r.sliceStream(y),y.next||p.push(null),m&&a.defineSkip(y.start),y._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(p),y._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),m=y,y=y.next}for(y=n;++x<u.length;)u[x][0]==="exit"&&u[x-1][0]==="enter"&&u[x][1].type===u[x-1][1].type&&u[x][1].start.line!==u[x][1].end.line&&(k=x+1,j.push(k),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(a.events=[],y?(y._tokenizer=void 0,y.previous=void 0):j.pop(),x=j.length;x--;){const C=u.slice(j[x],j[x+1]),N=s.pop();d.push([N,N+C.length-1]),e.splice(N,2,C)}for(d.reverse(),x=-1;++x<d.length;)f[v+d[x][0]]=v+d[x][1],v+=d[x][1]-d[x][0]-1;return f}const Aq={resolve:Tq,tokenize:Mq},Dq={partial:!0,tokenize:Oq};function Tq(e){return C9(e),e}function Mq(e,t){let n;return r;function r(u){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(u)}function i(u){return u===null?s(u):yt(u)?e.check(Dq,a,s)(u):(e.consume(u),i)}function s(u){return e.exit("chunkContent"),e.exit("content"),t(u)}function a(u){return e.consume(u),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Oq(e,t,n){const r=this;return i;function i(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Wt(e,s,"linePrefix")}function s(a){if(a===null||yt(a))return n(a);const u=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(a):e.interrupt(r.parser.constructs.flow,n,t)(a)}}function j9(e,t,n,r,i,s,a,u,d){const f=d||Number.POSITIVE_INFINITY;let p=0;return m;function m(C){return C===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(C),e.exit(s),x):C===null||C===32||C===41||om(C)?n(C):(e.enter(r),e.enter(a),e.enter(u),e.enter("chunkString",{contentType:"string"}),k(C))}function x(C){return C===62?(e.enter(s),e.consume(C),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(u),e.enter("chunkString",{contentType:"string"}),y(C))}function y(C){return C===62?(e.exit("chunkString"),e.exit(u),x(C)):C===null||C===60||yt(C)?n(C):(e.consume(C),C===92?v:y)}function v(C){return C===60||C===62||C===92?(e.consume(C),y):y(C)}function k(C){return!p&&(C===null||C===41||cn(C))?(e.exit("chunkString"),e.exit(u),e.exit(a),e.exit(r),t(C)):p<f&&C===40?(e.consume(C),p++,k):C===41?(e.consume(C),p--,k):C===null||C===32||C===40||om(C)?n(C):(e.consume(C),C===92?j:k)}function j(C){return C===40||C===41||C===92?(e.consume(C),k):k(C)}}function _9(e,t,n,r,i,s){const a=this;let u=0,d;return f;function f(y){return e.enter(r),e.enter(i),e.consume(y),e.exit(i),e.enter(s),p}function p(y){return u>999||y===null||y===91||y===93&&!d||y===94&&!u&&"_hiddenFootnoteSupport"in a.parser.constructs?n(y):y===93?(e.exit(s),e.enter(i),e.consume(y),e.exit(i),e.exit(r),t):yt(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),p):(e.enter("chunkString",{contentType:"string"}),m(y))}function m(y){return y===null||y===91||y===93||yt(y)||u++>999?(e.exit("chunkString"),p(y)):(e.consume(y),d||(d=!Vt(y)),y===92?x:m)}function x(y){return y===91||y===92||y===93?(e.consume(y),u++,m):m(y)}}function N9(e,t,n,r,i,s){let a;return u;function u(x){return x===34||x===39||x===40?(e.enter(r),e.enter(i),e.consume(x),e.exit(i),a=x===40?41:x,d):n(x)}function d(x){return x===a?(e.enter(i),e.consume(x),e.exit(i),e.exit(r),t):(e.enter(s),f(x))}function f(x){return x===a?(e.exit(s),d(a)):x===null?n(x):yt(x)?(e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),Wt(e,f,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),p(x))}function p(x){return x===a||x===null||yt(x)?(e.exit("chunkString"),f(x)):(e.consume(x),x===92?m:p)}function m(x){return x===a||x===92?(e.consume(x),p):p(x)}}function Ad(e,t){let n;return r;function r(i){return yt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Vt(i)?Wt(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const Rq={name:"definition",tokenize:Pq},Lq={partial:!0,tokenize:zq};function Pq(e,t,n){const r=this;let i;return s;function s(y){return e.enter("definition"),a(y)}function a(y){return _9.call(r,e,u,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function u(y){return i=Bi(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),y===58?(e.enter("definitionMarker"),e.consume(y),e.exit("definitionMarker"),d):n(y)}function d(y){return cn(y)?Ad(e,f)(y):f(y)}function f(y){return j9(e,p,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function p(y){return e.attempt(Lq,m,m)(y)}function m(y){return Vt(y)?Wt(e,x,"whitespace")(y):x(y)}function x(y){return y===null||yt(y)?(e.exit("definition"),r.parser.defined.push(i),t(y)):n(y)}}function zq(e,t,n){return r;function r(u){return cn(u)?Ad(e,i)(u):n(u)}function i(u){return N9(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function s(u){return Vt(u)?Wt(e,a,"whitespace")(u):a(u)}function a(u){return u===null||yt(u)?t(u):n(u)}}const Iq={name:"hardBreakEscape",tokenize:Fq};function Fq(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return yt(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const Bq={name:"headingAtx",resolve:$q,tokenize:Hq};function $q(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},li(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function Hq(e,t,n){let r=0;return i;function i(p){return e.enter("atxHeading"),s(p)}function s(p){return e.enter("atxHeadingSequence"),a(p)}function a(p){return p===35&&r++<6?(e.consume(p),a):p===null||cn(p)?(e.exit("atxHeadingSequence"),u(p)):n(p)}function u(p){return p===35?(e.enter("atxHeadingSequence"),d(p)):p===null||yt(p)?(e.exit("atxHeading"),t(p)):Vt(p)?Wt(e,u,"whitespace")(p):(e.enter("atxHeadingText"),f(p))}function d(p){return p===35?(e.consume(p),d):(e.exit("atxHeadingSequence"),u(p))}function f(p){return p===null||p===35||cn(p)?(e.exit("atxHeadingText"),u(p)):(e.consume(p),f)}}const Uq=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Hk=["pre","script","style","textarea"],Vq={concrete:!0,name:"htmlFlow",resolveTo:Wq,tokenize:Yq},qq={partial:!0,tokenize:Jq},Gq={partial:!0,tokenize:Kq};function Wq(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Yq(e,t,n){const r=this;let i,s,a,u,d;return f;function f(P){return p(P)}function p(P){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(P),m}function m(P){return P===33?(e.consume(P),x):P===47?(e.consume(P),s=!0,k):P===63?(e.consume(P),i=3,r.interrupt?t:_):Or(P)?(e.consume(P),a=String.fromCharCode(P),j):n(P)}function x(P){return P===45?(e.consume(P),i=2,y):P===91?(e.consume(P),i=5,u=0,v):Or(P)?(e.consume(P),i=4,r.interrupt?t:_):n(P)}function y(P){return P===45?(e.consume(P),r.interrupt?t:_):n(P)}function v(P){const ie="CDATA[";return P===ie.charCodeAt(u++)?(e.consume(P),u===ie.length?r.interrupt?t:K:v):n(P)}function k(P){return Or(P)?(e.consume(P),a=String.fromCharCode(P),j):n(P)}function j(P){if(P===null||P===47||P===62||cn(P)){const ie=P===47,H=a.toLowerCase();return!ie&&!s&&Hk.includes(H)?(i=1,r.interrupt?t(P):K(P)):Uq.includes(a.toLowerCase())?(i=6,ie?(e.consume(P),C):r.interrupt?t(P):K(P)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(P):s?N(P):A(P))}return P===45||Cr(P)?(e.consume(P),a+=String.fromCharCode(P),j):n(P)}function C(P){return P===62?(e.consume(P),r.interrupt?t:K):n(P)}function N(P){return Vt(P)?(e.consume(P),N):D(P)}function A(P){return P===47?(e.consume(P),D):P===58||P===95||Or(P)?(e.consume(P),z):Vt(P)?(e.consume(P),A):D(P)}function z(P){return P===45||P===46||P===58||P===95||Cr(P)?(e.consume(P),z):I(P)}function I(P){return P===61?(e.consume(P),T):Vt(P)?(e.consume(P),I):A(P)}function T(P){return P===null||P===60||P===61||P===62||P===96?n(P):P===34||P===39?(e.consume(P),d=P,E):Vt(P)?(e.consume(P),T):M(P)}function E(P){return P===d?(e.consume(P),d=null,L):P===null||yt(P)?n(P):(e.consume(P),E)}function M(P){return P===null||P===34||P===39||P===47||P===60||P===61||P===62||P===96||cn(P)?I(P):(e.consume(P),M)}function L(P){return P===47||P===62||Vt(P)?A(P):n(P)}function D(P){return P===62?(e.consume(P),V):n(P)}function V(P){return P===null||yt(P)?K(P):Vt(P)?(e.consume(P),V):n(P)}function K(P){return P===45&&i===2?(e.consume(P),F):P===60&&i===1?(e.consume(P),W):P===62&&i===4?(e.consume(P),Q):P===63&&i===3?(e.consume(P),_):P===93&&i===5?(e.consume(P),U):yt(P)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(qq,G,J)(P)):P===null||yt(P)?(e.exit("htmlFlowData"),J(P)):(e.consume(P),K)}function J(P){return e.check(Gq,Z,G)(P)}function Z(P){return e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),q}function q(P){return P===null||yt(P)?J(P):(e.enter("htmlFlowData"),K(P))}function F(P){return P===45?(e.consume(P),_):K(P)}function W(P){return P===47?(e.consume(P),a="",R):K(P)}function R(P){if(P===62){const ie=a.toLowerCase();return Hk.includes(ie)?(e.consume(P),Q):K(P)}return Or(P)&&a.length<8?(e.consume(P),a+=String.fromCharCode(P),R):K(P)}function U(P){return P===93?(e.consume(P),_):K(P)}function _(P){return P===62?(e.consume(P),Q):P===45&&i===2?(e.consume(P),_):K(P)}function Q(P){return P===null||yt(P)?(e.exit("htmlFlowData"),G(P)):(e.consume(P),Q)}function G(P){return e.exit("htmlFlow"),t(P)}}function Kq(e,t,n){const r=this;return i;function i(a){return yt(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s):n(a)}function s(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}function Jq(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(jf,t,n)}}const Xq={name:"htmlText",tokenize:Zq};function Zq(e,t,n){const r=this;let i,s,a;return u;function u(_){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(_),d}function d(_){return _===33?(e.consume(_),f):_===47?(e.consume(_),I):_===63?(e.consume(_),A):Or(_)?(e.consume(_),M):n(_)}function f(_){return _===45?(e.consume(_),p):_===91?(e.consume(_),s=0,v):Or(_)?(e.consume(_),N):n(_)}function p(_){return _===45?(e.consume(_),y):n(_)}function m(_){return _===null?n(_):_===45?(e.consume(_),x):yt(_)?(a=m,W(_)):(e.consume(_),m)}function x(_){return _===45?(e.consume(_),y):m(_)}function y(_){return _===62?F(_):_===45?x(_):m(_)}function v(_){const Q="CDATA[";return _===Q.charCodeAt(s++)?(e.consume(_),s===Q.length?k:v):n(_)}function k(_){return _===null?n(_):_===93?(e.consume(_),j):yt(_)?(a=k,W(_)):(e.consume(_),k)}function j(_){return _===93?(e.consume(_),C):k(_)}function C(_){return _===62?F(_):_===93?(e.consume(_),C):k(_)}function N(_){return _===null||_===62?F(_):yt(_)?(a=N,W(_)):(e.consume(_),N)}function A(_){return _===null?n(_):_===63?(e.consume(_),z):yt(_)?(a=A,W(_)):(e.consume(_),A)}function z(_){return _===62?F(_):A(_)}function I(_){return Or(_)?(e.consume(_),T):n(_)}function T(_){return _===45||Cr(_)?(e.consume(_),T):E(_)}function E(_){return yt(_)?(a=E,W(_)):Vt(_)?(e.consume(_),E):F(_)}function M(_){return _===45||Cr(_)?(e.consume(_),M):_===47||_===62||cn(_)?L(_):n(_)}function L(_){return _===47?(e.consume(_),F):_===58||_===95||Or(_)?(e.consume(_),D):yt(_)?(a=L,W(_)):Vt(_)?(e.consume(_),L):F(_)}function D(_){return _===45||_===46||_===58||_===95||Cr(_)?(e.consume(_),D):V(_)}function V(_){return _===61?(e.consume(_),K):yt(_)?(a=V,W(_)):Vt(_)?(e.consume(_),V):L(_)}function K(_){return _===null||_===60||_===61||_===62||_===96?n(_):_===34||_===39?(e.consume(_),i=_,J):yt(_)?(a=K,W(_)):Vt(_)?(e.consume(_),K):(e.consume(_),Z)}function J(_){return _===i?(e.consume(_),i=void 0,q):_===null?n(_):yt(_)?(a=J,W(_)):(e.consume(_),J)}function Z(_){return _===null||_===34||_===39||_===60||_===61||_===96?n(_):_===47||_===62||cn(_)?L(_):(e.consume(_),Z)}function q(_){return _===47||_===62||cn(_)?L(_):n(_)}function F(_){return _===62?(e.consume(_),e.exit("htmlTextData"),e.exit("htmlText"),t):n(_)}function W(_){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),R}function R(_){return Vt(_)?Wt(e,U,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(_):U(_)}function U(_){return e.enter("htmlTextData"),a(_)}}const Ob={name:"labelEnd",resolveAll:nG,resolveTo:rG,tokenize:iG},Qq={tokenize:sG},eG={tokenize:aG},tG={tokenize:lG};function nG(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&li(e,0,e.length,n),e}function rG(e,t){let n=e.length,r=0,i,s,a,u;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const d={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},f={type:"label",start:{...e[s][1].start},end:{...e[a][1].end}},p={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[a-2][1].start}};return u=[["enter",d,t],["enter",f,t]],u=ji(u,e.slice(s+1,s+r+3)),u=ji(u,[["enter",p,t]]),u=ji(u,i0(t.parser.constructs.insideSpan.null,e.slice(s+r+4,a-3),t)),u=ji(u,[["exit",p,t],e[a-2],e[a-1],["exit",f,t]]),u=ji(u,e.slice(a+1)),u=ji(u,[["exit",d,t]]),li(e,s,e.length,u),e}function iG(e,t,n){const r=this;let i=r.events.length,s,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return u;function u(x){return s?s._inactive?m(x):(a=r.parser.defined.includes(Bi(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(x),e.exit("labelMarker"),e.exit("labelEnd"),d):n(x)}function d(x){return x===40?e.attempt(Qq,p,a?p:m)(x):x===91?e.attempt(eG,p,a?f:m)(x):a?p(x):m(x)}function f(x){return e.attempt(tG,p,m)(x)}function p(x){return t(x)}function m(x){return s._balanced=!0,n(x)}}function sG(e,t,n){return r;function r(m){return e.enter("resource"),e.enter("resourceMarker"),e.consume(m),e.exit("resourceMarker"),i}function i(m){return cn(m)?Ad(e,s)(m):s(m)}function s(m){return m===41?p(m):j9(e,a,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(m)}function a(m){return cn(m)?Ad(e,d)(m):p(m)}function u(m){return n(m)}function d(m){return m===34||m===39||m===40?N9(e,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(m):p(m)}function f(m){return cn(m)?Ad(e,p)(m):p(m)}function p(m){return m===41?(e.enter("resourceMarker"),e.consume(m),e.exit("resourceMarker"),e.exit("resource"),t):n(m)}}function aG(e,t,n){const r=this;return i;function i(u){return _9.call(r,e,s,a,"reference","referenceMarker","referenceString")(u)}function s(u){return r.parser.defined.includes(Bi(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(u):n(u)}function a(u){return n(u)}}function lG(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const oG={name:"labelStartImage",resolveAll:Ob.resolveAll,tokenize:uG};function uG(e,t,n){const r=this;return i;function i(u){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(u),e.exit("labelImageMarker"),s}function s(u){return u===91?(e.enter("labelMarker"),e.consume(u),e.exit("labelMarker"),e.exit("labelImage"),a):n(u)}function a(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):t(u)}}const cG={name:"labelStartLink",resolveAll:Ob.resolveAll,tokenize:dG};function dG(e,t,n){const r=this;return i;function i(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const gx={name:"lineEnding",tokenize:fG};function fG(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Wt(e,t,"linePrefix")}}const Fp={name:"thematicBreak",tokenize:hG};function hG(e,t,n){let r=0,i;return s;function s(f){return e.enter("thematicBreak"),a(f)}function a(f){return i=f,u(f)}function u(f){return f===i?(e.enter("thematicBreakSequence"),d(f)):r>=3&&(f===null||yt(f))?(e.exit("thematicBreak"),t(f)):n(f)}function d(f){return f===i?(e.consume(f),r++,d):(e.exit("thematicBreakSequence"),Vt(f)?Wt(e,u,"whitespace")(f):u(f))}}const Vr={continuation:{tokenize:xG},exit:bG,name:"list",tokenize:gG},pG={partial:!0,tokenize:vG},mG={partial:!0,tokenize:yG};function gG(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return u;function u(y){const v=r.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!r.containerState.marker||y===r.containerState.marker:i2(y)){if(r.containerState.type||(r.containerState.type=v,e.enter(v,{_container:!0})),v==="listUnordered")return e.enter("listItemPrefix"),y===42||y===45?e.check(Fp,n,f)(y):f(y);if(!r.interrupt||y===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),d(y)}return n(y)}function d(y){return i2(y)&&++a<10?(e.consume(y),d):(!r.interrupt||a<2)&&(r.containerState.marker?y===r.containerState.marker:y===41||y===46)?(e.exit("listItemValue"),f(y)):n(y)}function f(y){return e.enter("listItemMarker"),e.consume(y),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||y,e.check(jf,r.interrupt?n:p,e.attempt(pG,x,m))}function p(y){return r.containerState.initialBlankLine=!0,s++,x(y)}function m(y){return Vt(y)?(e.enter("listItemPrefixWhitespace"),e.consume(y),e.exit("listItemPrefixWhitespace"),x):n(y)}function x(y){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(y)}}function xG(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(jf,i,s);function i(u){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Wt(e,t,"listItemIndent",r.containerState.size+1)(u)}function s(u){return r.containerState.furtherBlankLines||!Vt(u)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(u)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(mG,t,a)(u))}function a(u){return r.containerState._closeFlow=!0,r.interrupt=void 0,Wt(e,e.attempt(Vr,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function yG(e,t,n){const r=this;return Wt(e,i,"listItemIndent",r.containerState.size+1);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?t(s):n(s)}}function bG(e){e.exit(this.containerState.type)}function vG(e,t,n){const r=this;return Wt(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const a=r.events[r.events.length-1];return!Vt(s)&&a&&a[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const Uk={name:"setextUnderline",resolveTo:wG,tokenize:kG};function wG(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const a={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",a,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=a,e.push(["exit",a,t]),e}function kG(e,t,n){const r=this;let i;return s;function s(f){let p=r.events.length,m;for(;p--;)if(r.events[p][1].type!=="lineEnding"&&r.events[p][1].type!=="linePrefix"&&r.events[p][1].type!=="content"){m=r.events[p][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||m)?(e.enter("setextHeadingLine"),i=f,a(f)):n(f)}function a(f){return e.enter("setextHeadingLineSequence"),u(f)}function u(f){return f===i?(e.consume(f),u):(e.exit("setextHeadingLineSequence"),Vt(f)?Wt(e,d,"lineSuffix")(f):d(f))}function d(f){return f===null||yt(f)?(e.exit("setextHeadingLine"),t(f)):n(f)}}const SG={tokenize:CG};function CG(e){const t=this,n=e.attempt(jf,r,e.attempt(this.parser.constructs.flowInitial,i,Wt(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Aq,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const jG={resolveAll:A9()},_G=E9("string"),NG=E9("text");function E9(e){return{resolveAll:A9(e==="text"?EG:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,a,u);return a;function a(p){return f(p)?s(p):u(p)}function u(p){if(p===null){n.consume(p);return}return n.enter("data"),n.consume(p),d}function d(p){return f(p)?(n.exit("data"),s(p)):(n.consume(p),d)}function f(p){if(p===null)return!0;const m=i[p];let x=-1;if(m)for(;++x<m.length;){const y=m[x];if(!y.previous||y.previous.call(r,r.previous))return!0}return!1}}}function A9(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function EG(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,a=-1,u=0,d;for(;s--;){const f=i[s];if(typeof f=="string"){for(a=f.length;f.charCodeAt(a-1)===32;)u++,a--;if(a)break;a=-1}else if(f===-2)d=!0,u++;else if(f!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(u=0),u){const f={type:n===e.length||d||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:r.start._bufferIndex+a,_index:r.start._index+s,line:r.end.line,column:r.end.column-u,offset:r.end.offset-u},end:{...r.end}};r.end={...f.start},r.start.offset===r.end.offset?Object.assign(r,f):(e.splice(n,0,["enter",f,t],["exit",f,t]),n+=2)}n++}return e}const AG={42:Vr,43:Vr,45:Vr,48:Vr,49:Vr,50:Vr,51:Vr,52:Vr,53:Vr,54:Vr,55:Vr,56:Vr,57:Vr,62:w9},DG={91:Rq},TG={[-2]:mx,[-1]:mx,32:mx},MG={35:Bq,42:Fp,45:[Uk,Fp],60:Vq,61:Uk,95:Fp,96:$k,126:$k},OG={38:S9,92:k9},RG={[-5]:gx,[-4]:gx,[-3]:gx,33:oG,38:S9,42:s2,60:[cq,Xq],91:cG,92:[Iq,k9],93:Ob,95:s2,96:Sq},LG={null:[s2,jG]},PG={null:[42,95]},zG={null:[]},IG=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:PG,contentInitial:DG,disable:zG,document:AG,flow:MG,flowInitial:TG,insideSpan:LG,string:OG,text:RG},Symbol.toStringTag,{value:"Module"}));function FG(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let a=[],u=[];const d={attempt:E(I),check:E(T),consume:N,enter:A,exit:z,interrupt:E(T,{interrupt:!0})},f={code:null,containerState:{},defineSkip:k,events:[],now:v,parser:e,previous:null,sliceSerialize:x,sliceStream:y,write:m};let p=t.tokenize.call(f,d);return t.resolveAll&&s.push(t),f;function m(V){return a=ji(a,V),j(),a[a.length-1]!==null?[]:(M(t,0),f.events=i0(s,f.events,f),f.events)}function x(V,K){return $G(y(V),K)}function y(V){return BG(a,V)}function v(){const{_bufferIndex:V,_index:K,line:J,column:Z,offset:q}=r;return{_bufferIndex:V,_index:K,line:J,column:Z,offset:q}}function k(V){i[V.line]=V.column,D()}function j(){let V;for(;r._index<a.length;){const K=a[r._index];if(typeof K=="string")for(V=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===V&&r._bufferIndex<K.length;)C(K.charCodeAt(r._bufferIndex));else C(K)}}function C(V){p=p(V)}function N(V){yt(V)?(r.line++,r.column=1,r.offset+=V===-3?2:1,D()):V!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=V}function A(V,K){const J=K||{};return J.type=V,J.start=v(),f.events.push(["enter",J,f]),u.push(J),J}function z(V){const K=u.pop();return K.end=v(),f.events.push(["exit",K,f]),K}function I(V,K){M(V,K.from)}function T(V,K){K.restore()}function E(V,K){return J;function J(Z,q,F){let W,R,U,_;return Array.isArray(Z)?G(Z):"tokenize"in Z?G([Z]):Q(Z);function Q(te){return ae;function ae(ke){const Ge=ke!==null&&te[ke],He=ke!==null&&te.null,Me=[...Array.isArray(Ge)?Ge:Ge?[Ge]:[],...Array.isArray(He)?He:He?[He]:[]];return G(Me)(ke)}}function G(te){return W=te,R=0,te.length===0?F:P(te[R])}function P(te){return ae;function ae(ke){return _=L(),U=te,te.partial||(f.currentConstruct=te),te.name&&f.parser.constructs.disable.null.includes(te.name)?H():te.tokenize.call(K?Object.assign(Object.create(f),K):f,d,ie,H)(ke)}}function ie(te){return V(U,_),q}function H(te){return _.restore(),++R<W.length?P(W[R]):F}}}function M(V,K){V.resolveAll&&!s.includes(V)&&s.push(V),V.resolve&&li(f.events,K,f.events.length-K,V.resolve(f.events.slice(K),f)),V.resolveTo&&(f.events=V.resolveTo(f.events,f))}function L(){const V=v(),K=f.previous,J=f.currentConstruct,Z=f.events.length,q=Array.from(u);return{from:Z,restore:F};function F(){r=V,f.previous=K,f.currentConstruct=J,f.events.length=Z,u=q,D()}}function D(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function BG(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let a;if(n===i)a=[e[n].slice(r,s)];else{if(a=e.slice(n,i),r>-1){const u=a[0];typeof u=="string"?a[0]=u.slice(r):a.shift()}s>0&&a.push(e[i].slice(0,s))}return a}function $G(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,r.push(a)}return r.join("")}function HG(e){const r={constructs:b9([IG,...(e||{}).extensions||[]]),content:i(rq),defined:[],document:i(sq),flow:i(SG),lazy:{},string:i(_G),text:i(NG)};return r;function i(s){return a;function a(u){return FG(r,s,u)}}}function UG(e){for(;!C9(e););return e}const Vk=/[\0\t\n\r]/g;function VG(){let e=1,t="",n=!0,r;return i;function i(s,a,u){const d=[];let f,p,m,x,y;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),m=0,t="",n&&(s.charCodeAt(0)===65279&&m++,n=void 0);m<s.length;){if(Vk.lastIndex=m,f=Vk.exec(s),x=f&&f.index!==void 0?f.index:s.length,y=s.charCodeAt(x),!f){t=s.slice(m);break}if(y===10&&m===x&&r)d.push(-3),r=void 0;else switch(r&&(d.push(-5),r=void 0),m<x&&(d.push(s.slice(m,x)),e+=x-m),y){case 0:{d.push(65533),e++;break}case 9:{for(p=Math.ceil(e/4)*4,d.push(-2);e++<p;)d.push(-1);break}case 10:{d.push(-4),e=1;break}default:r=!0,e=1}m=x+1}return u&&(r&&d.push(-5),t&&d.push(t),d.push(null)),d}}const qG=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function GG(e){return e.replace(qG,WG)}function WG(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return v9(n.slice(s?2:1),s?16:10)}return Mb(n)||e}const D9={}.hasOwnProperty;function YG(e,t,n){return typeof t!="string"&&(n=t,t=void 0),KG(n)(UG(HG(n).document().write(VG()(e,t,!0))))}function KG(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Le),autolinkProtocol:L,autolinkEmail:L,atxHeading:s(le),blockQuote:s(He),characterEscape:L,characterReference:L,codeFenced:s(Me),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(Me,a),codeText:s(ze,a),codeTextData:L,data:L,codeFlowValue:L,definition:s(ft),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(we),hardBreakEscape:s(Ke),hardBreakTrailing:s(Ke),htmlFlow:s(Y,a),htmlFlowData:L,htmlText:s(Y,a),htmlTextData:L,image:s(Ne),label:a,link:s(Le),listItem:s(zt),listItemValue:x,listOrdered:s(Xe,m),listUnordered:s(Xe),paragraph:s(Mt),reference:P,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(le),strong:s(Ot),thematicBreak:s(Yt)},exit:{atxHeading:d(),atxHeadingSequence:I,autolink:d(),autolinkEmail:Ge,autolinkProtocol:ke,blockQuote:d(),characterEscapeValue:D,characterReferenceMarkerHexadecimal:H,characterReferenceMarkerNumeric:H,characterReferenceValue:te,characterReference:ae,codeFenced:d(j),codeFencedFence:k,codeFencedFenceInfo:y,codeFencedFenceMeta:v,codeFlowValue:D,codeIndented:d(C),codeText:d(q),codeTextData:D,data:D,definition:d(),definitionDestinationString:z,definitionLabelString:N,definitionTitleString:A,emphasis:d(),hardBreakEscape:d(K),hardBreakTrailing:d(K),htmlFlow:d(J),htmlFlowData:D,htmlText:d(Z),htmlTextData:D,image:d(W),label:U,labelText:R,lineEnding:V,link:d(F),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:ie,resourceDestinationString:_,resourceTitleString:Q,resource:G,setextHeading:d(M),setextHeadingLineSequence:E,setextHeadingText:T,strong:d(),thematicBreak:d()}};T9(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(pe){let Ce={type:"root",children:[]};const Fe={stack:[Ce],tokenStack:[],config:t,enter:u,exit:f,buffer:a,resume:p,data:n},Ue=[];let ue=-1;for(;++ue<pe.length;)if(pe[ue][1].type==="listOrdered"||pe[ue][1].type==="listUnordered")if(pe[ue][0]==="enter")Ue.push(ue);else{const Ze=Ue.pop();ue=i(pe,Ze,ue)}for(ue=-1;++ue<pe.length;){const Ze=t[pe[ue][0]];D9.call(Ze,pe[ue][1].type)&&Ze[pe[ue][1].type].call(Object.assign({sliceSerialize:pe[ue][2].sliceSerialize},Fe),pe[ue][1])}if(Fe.tokenStack.length>0){const Ze=Fe.tokenStack[Fe.tokenStack.length-1];(Ze[1]||qk).call(Fe,void 0,Ze[0])}for(Ce.position={start:Da(pe.length>0?pe[0][1].start:{line:1,column:1,offset:0}),end:Da(pe.length>0?pe[pe.length-2][1].end:{line:1,column:1,offset:0})},ue=-1;++ue<t.transforms.length;)Ce=t.transforms[ue](Ce)||Ce;return Ce}function i(pe,Ce,Fe){let Ue=Ce-1,ue=-1,Ze=!1,$,ne,Te,nt;for(;++Ue<=Fe;){const We=pe[Ue];switch(We[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{We[0]==="enter"?ue++:ue--,nt=void 0;break}case"lineEndingBlank":{We[0]==="enter"&&($&&!nt&&!ue&&!Te&&(Te=Ue),nt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:nt=void 0}if(!ue&&We[0]==="enter"&&We[1].type==="listItemPrefix"||ue===-1&&We[0]==="exit"&&(We[1].type==="listUnordered"||We[1].type==="listOrdered")){if($){let Ye=Ue;for(ne=void 0;Ye--;){const wt=pe[Ye];if(wt[1].type==="lineEnding"||wt[1].type==="lineEndingBlank"){if(wt[0]==="exit")continue;ne&&(pe[ne][1].type="lineEndingBlank",Ze=!0),wt[1].type="lineEnding",ne=Ye}else if(!(wt[1].type==="linePrefix"||wt[1].type==="blockQuotePrefix"||wt[1].type==="blockQuotePrefixWhitespace"||wt[1].type==="blockQuoteMarker"||wt[1].type==="listItemIndent"))break}Te&&(!ne||Te<ne)&&($._spread=!0),$.end=Object.assign({},ne?pe[ne][1].start:We[1].end),pe.splice(ne||Ue,0,["exit",$,We[2]]),Ue++,Fe++}if(We[1].type==="listItemPrefix"){const Ye={type:"listItem",_spread:!1,start:Object.assign({},We[1].start),end:void 0};$=Ye,pe.splice(Ue,0,["enter",Ye,We[2]]),Ue++,Fe++,Te=void 0,nt=!0}}}return pe[Ce][1]._spread=Ze,Fe}function s(pe,Ce){return Fe;function Fe(Ue){u.call(this,pe(Ue),Ue),Ce&&Ce.call(this,Ue)}}function a(){this.stack.push({type:"fragment",children:[]})}function u(pe,Ce,Fe){this.stack[this.stack.length-1].children.push(pe),this.stack.push(pe),this.tokenStack.push([Ce,Fe||void 0]),pe.position={start:Da(Ce.start),end:void 0}}function d(pe){return Ce;function Ce(Fe){pe&&pe.call(this,Fe),f.call(this,Fe)}}function f(pe,Ce){const Fe=this.stack.pop(),Ue=this.tokenStack.pop();if(Ue)Ue[0].type!==pe.type&&(Ce?Ce.call(this,pe,Ue[0]):(Ue[1]||qk).call(this,pe,Ue[0]));else throw new Error("Cannot close `"+pe.type+"` ("+Ed({start:pe.start,end:pe.end})+"): its not open");Fe.position.end=Da(pe.end)}function p(){return Tb(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function x(pe){if(this.data.expectingFirstListItemValue){const Ce=this.stack[this.stack.length-2];Ce.start=Number.parseInt(this.sliceSerialize(pe),10),this.data.expectingFirstListItemValue=void 0}}function y(){const pe=this.resume(),Ce=this.stack[this.stack.length-1];Ce.lang=pe}function v(){const pe=this.resume(),Ce=this.stack[this.stack.length-1];Ce.meta=pe}function k(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function j(){const pe=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=pe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function C(){const pe=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=pe.replace(/(\r?\n|\r)$/g,"")}function N(pe){const Ce=this.resume(),Fe=this.stack[this.stack.length-1];Fe.label=Ce,Fe.identifier=Bi(this.sliceSerialize(pe)).toLowerCase()}function A(){const pe=this.resume(),Ce=this.stack[this.stack.length-1];Ce.title=pe}function z(){const pe=this.resume(),Ce=this.stack[this.stack.length-1];Ce.url=pe}function I(pe){const Ce=this.stack[this.stack.length-1];if(!Ce.depth){const Fe=this.sliceSerialize(pe).length;Ce.depth=Fe}}function T(){this.data.setextHeadingSlurpLineEnding=!0}function E(pe){const Ce=this.stack[this.stack.length-1];Ce.depth=this.sliceSerialize(pe).codePointAt(0)===61?1:2}function M(){this.data.setextHeadingSlurpLineEnding=void 0}function L(pe){const Fe=this.stack[this.stack.length-1].children;let Ue=Fe[Fe.length-1];(!Ue||Ue.type!=="text")&&(Ue=tn(),Ue.position={start:Da(pe.start),end:void 0},Fe.push(Ue)),this.stack.push(Ue)}function D(pe){const Ce=this.stack.pop();Ce.value+=this.sliceSerialize(pe),Ce.position.end=Da(pe.end)}function V(pe){const Ce=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Fe=Ce.children[Ce.children.length-1];Fe.position.end=Da(pe.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Ce.type)&&(L.call(this,pe),D.call(this,pe))}function K(){this.data.atHardBreak=!0}function J(){const pe=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=pe}function Z(){const pe=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=pe}function q(){const pe=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=pe}function F(){const pe=this.stack[this.stack.length-1];if(this.data.inReference){const Ce=this.data.referenceType||"shortcut";pe.type+="Reference",pe.referenceType=Ce,delete pe.url,delete pe.title}else delete pe.identifier,delete pe.label;this.data.referenceType=void 0}function W(){const pe=this.stack[this.stack.length-1];if(this.data.inReference){const Ce=this.data.referenceType||"shortcut";pe.type+="Reference",pe.referenceType=Ce,delete pe.url,delete pe.title}else delete pe.identifier,delete pe.label;this.data.referenceType=void 0}function R(pe){const Ce=this.sliceSerialize(pe),Fe=this.stack[this.stack.length-2];Fe.label=GG(Ce),Fe.identifier=Bi(Ce).toLowerCase()}function U(){const pe=this.stack[this.stack.length-1],Ce=this.resume(),Fe=this.stack[this.stack.length-1];if(this.data.inReference=!0,Fe.type==="link"){const Ue=pe.children;Fe.children=Ue}else Fe.alt=Ce}function _(){const pe=this.resume(),Ce=this.stack[this.stack.length-1];Ce.url=pe}function Q(){const pe=this.resume(),Ce=this.stack[this.stack.length-1];Ce.title=pe}function G(){this.data.inReference=void 0}function P(){this.data.referenceType="collapsed"}function ie(pe){const Ce=this.resume(),Fe=this.stack[this.stack.length-1];Fe.label=Ce,Fe.identifier=Bi(this.sliceSerialize(pe)).toLowerCase(),this.data.referenceType="full"}function H(pe){this.data.characterReferenceType=pe.type}function te(pe){const Ce=this.sliceSerialize(pe),Fe=this.data.characterReferenceType;let Ue;Fe?(Ue=v9(Ce,Fe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ue=Mb(Ce);const ue=this.stack[this.stack.length-1];ue.value+=Ue}function ae(pe){const Ce=this.stack.pop();Ce.position.end=Da(pe.end)}function ke(pe){D.call(this,pe);const Ce=this.stack[this.stack.length-1];Ce.url=this.sliceSerialize(pe)}function Ge(pe){D.call(this,pe);const Ce=this.stack[this.stack.length-1];Ce.url="mailto:"+this.sliceSerialize(pe)}function He(){return{type:"blockquote",children:[]}}function Me(){return{type:"code",lang:null,meta:null,value:""}}function ze(){return{type:"inlineCode",value:""}}function ft(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function we(){return{type:"emphasis",children:[]}}function le(){return{type:"heading",depth:0,children:[]}}function Ke(){return{type:"break"}}function Y(){return{type:"html",value:""}}function Ne(){return{type:"image",title:null,url:"",alt:null}}function Le(){return{type:"link",title:null,url:"",children:[]}}function Xe(pe){return{type:"list",ordered:pe.type==="listOrdered",start:null,spread:pe._spread,children:[]}}function zt(pe){return{type:"listItem",spread:pe._spread,checked:null,children:[]}}function Mt(){return{type:"paragraph",children:[]}}function Ot(){return{type:"strong",children:[]}}function tn(){return{type:"text",value:""}}function Yt(){return{type:"thematicBreak"}}}function Da(e){return{line:e.line,column:e.column,offset:e.offset}}function T9(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?T9(e,r):JG(e,r)}}function JG(e,t){let n;for(n in t)if(D9.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function qk(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Ed({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Ed({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Ed({start:t.start,end:t.end})+") is still open")}function XG(e){const t=this;t.parser=n;function n(r){return YG(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function ZG(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function QG(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function eW(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function tW(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function nW(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function rW(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Wu(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let a,u=e.footnoteCounts.get(r);u===void 0?(u=0,e.footnoteOrder.push(r),a=e.footnoteOrder.length):a=s+1,u+=1,e.footnoteCounts.set(r,u);const d={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(u>1?"-"+u:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,d);const f={type:"element",tagName:"sup",properties:{},children:[d]};return e.patch(t,f),e.applyData(t,f)}function iW(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function sW(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function M9(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function aW(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return M9(e,t);const i={src:Wu(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function lW(e,t){const n={src:Wu(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function oW(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function uW(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return M9(e,t);const i={href:Wu(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function cW(e,t){const n={href:Wu(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function dW(e,t,n){const r=e.all(t),i=n?fW(n):O9(t),s={},a=[];if(typeof t.checked=="boolean"){const p=r[0];let m;p&&p.type==="element"&&p.tagName==="p"?m=p:(m={type:"element",tagName:"p",properties:{},children:[]},r.unshift(m)),m.children.length>0&&m.children.unshift({type:"text",value:" "}),m.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let u=-1;for(;++u<r.length;){const p=r[u];(i||u!==0||p.type!=="element"||p.tagName!=="p")&&a.push({type:"text",value:`
`}),p.type==="element"&&p.tagName==="p"&&!i?a.push(...p.children):a.push(p)}const d=r[r.length-1];d&&(i||d.type!=="element"||d.tagName!=="p")&&a.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:s,children:a};return e.patch(t,f),e.applyData(t,f)}function fW(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=O9(n[r])}return t}function O9(e){const t=e.spread;return t??e.children.length>1}function hW(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function pW(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function mW(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function gW(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function xW(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},u=Nb(t.children[1]),d=d9(t.children[t.children.length-1]);u&&d&&(a.position={start:u,end:d}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function yW(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,u=a?a.length:t.children.length;let d=-1;const f=[];for(;++d<u;){const m=t.children[d],x={},y=a?a[d]:void 0;y&&(x.align=y);let v={type:"element",tagName:s,properties:x,children:[]};m&&(v.children=e.all(m),e.patch(m,v),v=e.applyData(m,v)),f.push(v)}const p={type:"element",tagName:"tr",properties:{},children:e.wrap(f,!0)};return e.patch(t,p),e.applyData(t,p)}function bW(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Gk=9,Wk=32;function vW(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(Yk(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(Yk(t.slice(i),i>0,!1)),s.join("")}function Yk(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===Gk||s===Wk;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===Gk||s===Wk;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function wW(e,t){const n={type:"text",value:vW(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function kW(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const SW={blockquote:ZG,break:QG,code:eW,delete:tW,emphasis:nW,footnoteReference:rW,heading:iW,html:sW,imageReference:aW,image:lW,inlineCode:oW,linkReference:uW,link:cW,listItem:dW,list:hW,paragraph:pW,root:mW,strong:gW,table:xW,tableCell:bW,tableRow:yW,text:wW,thematicBreak:kW,toml:np,yaml:np,definition:np,footnoteDefinition:np};function np(){}const R9=-1,s0=0,Dd=1,um=2,Rb=3,Lb=4,Pb=5,zb=6,L9=7,P9=8,Kk=typeof self=="object"?self:globalThis,CW=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,a]=t[i];switch(s){case s0:case R9:return n(a,i);case Dd:{const u=n([],i);for(const d of a)u.push(r(d));return u}case um:{const u=n({},i);for(const[d,f]of a)u[r(d)]=r(f);return u}case Rb:return n(new Date(a),i);case Lb:{const{source:u,flags:d}=a;return n(new RegExp(u,d),i)}case Pb:{const u=n(new Map,i);for(const[d,f]of a)u.set(r(d),r(f));return u}case zb:{const u=n(new Set,i);for(const d of a)u.add(r(d));return u}case L9:{const{name:u,message:d}=a;return n(new Kk[u](d),i)}case P9:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:u}=new Uint8Array(a);return n(new DataView(u),a)}}return n(new Kk[s](a),i)};return r},Jk=e=>CW(new Map,e)(0),eu="",{toString:jW}={},{keys:_W}=Object,nd=e=>{const t=typeof e;if(t!=="object"||!e)return[s0,t];const n=jW.call(e).slice(8,-1);switch(n){case"Array":return[Dd,eu];case"Object":return[um,eu];case"Date":return[Rb,eu];case"RegExp":return[Lb,eu];case"Map":return[Pb,eu];case"Set":return[zb,eu];case"DataView":return[Dd,n]}return n.includes("Array")?[Dd,n]:n.includes("Error")?[L9,n]:[um,n]},rp=([e,t])=>e===s0&&(t==="function"||t==="symbol"),NW=(e,t,n,r)=>{const i=(a,u)=>{const d=r.push(a)-1;return n.set(u,d),d},s=a=>{if(n.has(a))return n.get(a);let[u,d]=nd(a);switch(u){case s0:{let p=a;switch(d){case"bigint":u=P9,p=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+d);p=null;break;case"undefined":return i([R9],a)}return i([u,p],a)}case Dd:{if(d){let x=a;return d==="DataView"?x=new Uint8Array(a.buffer):d==="ArrayBuffer"&&(x=new Uint8Array(a)),i([d,[...x]],a)}const p=[],m=i([u,p],a);for(const x of a)p.push(s(x));return m}case um:{if(d)switch(d){case"BigInt":return i([d,a.toString()],a);case"Boolean":case"Number":case"String":return i([d,a.valueOf()],a)}if(t&&"toJSON"in a)return s(a.toJSON());const p=[],m=i([u,p],a);for(const x of _W(a))(e||!rp(nd(a[x])))&&p.push([s(x),s(a[x])]);return m}case Rb:return i([u,a.toISOString()],a);case Lb:{const{source:p,flags:m}=a;return i([u,{source:p,flags:m}],a)}case Pb:{const p=[],m=i([u,p],a);for(const[x,y]of a)(e||!(rp(nd(x))||rp(nd(y))))&&p.push([s(x),s(y)]);return m}case zb:{const p=[],m=i([u,p],a);for(const x of a)(e||!rp(nd(x)))&&p.push(s(x));return m}}const{message:f}=a;return i([u,{name:d,message:f}],a)};return s},Xk=(e,{json:t,lossy:n}={})=>{const r=[];return NW(!(t||n),!!t,new Map,r)(e),r},Wd=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Jk(Xk(e,t)):structuredClone(e):(e,t)=>Jk(Xk(e,t));function EW(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function AW(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function DW(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||EW,r=e.options.footnoteBackLabel||AW,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},u=[];let d=-1;for(;++d<e.footnoteOrder.length;){const f=e.footnoteById.get(e.footnoteOrder[d]);if(!f)continue;const p=e.all(f),m=String(f.identifier).toUpperCase(),x=Wu(m.toLowerCase());let y=0;const v=[],k=e.footnoteCounts.get(m);for(;k!==void 0&&++y<=k;){v.length>0&&v.push({type:"text",value:" "});let N=typeof n=="string"?n:n(d,y);typeof N=="string"&&(N={type:"text",value:N}),v.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+x+(y>1?"-"+y:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(d,y),className:["data-footnote-backref"]},children:Array.isArray(N)?N:[N]})}const j=p[p.length-1];if(j&&j.type==="element"&&j.tagName==="p"){const N=j.children[j.children.length-1];N&&N.type==="text"?N.value+=" ":j.children.push({type:"text",value:" "}),j.children.push(...v)}else p.push(...v);const C={type:"element",tagName:"li",properties:{id:t+"fn-"+x},children:e.wrap(p,!0)};e.patch(f,C),u.push(C)}if(u.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Wd(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(u,!0)},{type:"text",value:`
`}]}}const a0=function(e){if(e==null)return RW;if(typeof e=="function")return l0(e);if(typeof e=="object")return Array.isArray(e)?TW(e):MW(e);if(typeof e=="string")return OW(e);throw new Error("Expected function, string, or object as test")};function TW(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=a0(e[n]);return l0(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function MW(e){const t=e;return l0(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function OW(e){return l0(t);function t(n){return n&&n.type===e}}function l0(e){return t;function t(n,r,i){return!!(LW(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function RW(){return!0}function LW(e){return e!==null&&typeof e=="object"&&"type"in e}const z9=[],PW=!0,a2=!1,zW="skip";function I9(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=a0(i),a=r?-1:1;u(e,void 0,[])();function u(d,f,p){const m=d&&typeof d=="object"?d:{};if(typeof m.type=="string"){const y=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(x,"name",{value:"node ("+(d.type+(y?"<"+y+">":""))+")"})}return x;function x(){let y=z9,v,k,j;if((!t||s(d,f,p[p.length-1]||void 0))&&(y=IW(n(d,p)),y[0]===a2))return y;if("children"in d&&d.children){const C=d;if(C.children&&y[0]!==zW)for(k=(r?C.children.length:-1)+a,j=p.concat(C);k>-1&&k<C.children.length;){const N=C.children[k];if(v=u(N,k,j)(),v[0]===a2)return v;k=typeof v[1]=="number"?v[1]:k+a}}return y}}}function IW(e){return Array.isArray(e)?e:typeof e=="number"?[PW,e]:e==null?z9:[e]}function Ib(e,t,n,r){let i,s,a;typeof t=="function"&&typeof n!="function"?(s=void 0,a=t,i=n):(s=t,a=n,i=r),I9(e,s,u,i);function u(d,f){const p=f[f.length-1],m=p?p.children.indexOf(d):void 0;return a(d,m,p)}}const l2={}.hasOwnProperty,FW={};function BW(e,t){const n=t||FW,r=new Map,i=new Map,s=new Map,a={...SW,...n.handlers},u={all:f,applyData:HW,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:a,one:d,options:n,patch:$W,wrap:VW};return Ib(e,function(p){if(p.type==="definition"||p.type==="footnoteDefinition"){const m=p.type==="definition"?r:i,x=String(p.identifier).toUpperCase();m.has(x)||m.set(x,p)}}),u;function d(p,m){const x=p.type,y=u.handlers[x];if(l2.call(u.handlers,x)&&y)return y(u,p,m);if(u.options.passThrough&&u.options.passThrough.includes(x)){if("children"in p){const{children:k,...j}=p,C=Wd(j);return C.children=u.all(p),C}return Wd(p)}return(u.options.unknownHandler||UW)(u,p,m)}function f(p){const m=[];if("children"in p){const x=p.children;let y=-1;for(;++y<x.length;){const v=u.one(x[y],p);if(v){if(y&&x[y-1].type==="break"&&(!Array.isArray(v)&&v.type==="text"&&(v.value=Zk(v.value)),!Array.isArray(v)&&v.type==="element")){const k=v.children[0];k&&k.type==="text"&&(k.value=Zk(k.value))}Array.isArray(v)?m.push(...v):m.push(v)}}}return m}}function $W(e,t){e.position&&(t.position=h9(e))}function HW(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&s&&Object.assign(n.properties,Wd(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function UW(e,t){const n=t.data||{},r="value"in t&&!(l2.call(n,"hProperties")||l2.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function VW(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Zk(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Qk(e,t){const n=BW(e,t),r=n.one(e,void 0),i=DW(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function qW(e,t){return e&&"run"in e?async function(n,r){const i=Qk(n,{file:r,...t});await e.run(i,r)}:function(n,r){return Qk(n,{file:r,...e||t})}}function eS(e){if(e)throw e}var xx,tS;function GW(){if(tS)return xx;tS=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(f){return typeof Array.isArray=="function"?Array.isArray(f):t.call(f)==="[object Array]"},s=function(f){if(!f||t.call(f)!=="[object Object]")return!1;var p=e.call(f,"constructor"),m=f.constructor&&f.constructor.prototype&&e.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!p&&!m)return!1;var x;for(x in f);return typeof x>"u"||e.call(f,x)},a=function(f,p){n&&p.name==="__proto__"?n(f,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):f[p.name]=p.newValue},u=function(f,p){if(p==="__proto__")if(e.call(f,p)){if(r)return r(f,p).value}else return;return f[p]};return xx=function d(){var f,p,m,x,y,v,k=arguments[0],j=1,C=arguments.length,N=!1;for(typeof k=="boolean"&&(N=k,k=arguments[1]||{},j=2),(k==null||typeof k!="object"&&typeof k!="function")&&(k={});j<C;++j)if(f=arguments[j],f!=null)for(p in f)m=u(k,p),x=u(f,p),k!==x&&(N&&x&&(s(x)||(y=i(x)))?(y?(y=!1,v=m&&i(m)?m:[]):v=m&&s(m)?m:{},a(k,{name:p,newValue:d(N,v,x)})):typeof x<"u"&&a(k,{name:p,newValue:x}));return k},xx}var WW=GW();const yx=Am(WW);function o2(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function YW(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);u(null,...i);function u(d,...f){const p=e[++s];let m=-1;if(d){a(d);return}for(;++m<i.length;)(f[m]===null||f[m]===void 0)&&(f[m]=i[m]);i=f,p?KW(p,u)(...f):a(null,...f)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function KW(e,t){let n;return r;function r(...a){const u=e.length>a.length;let d;u&&a.push(i);try{d=e.apply(this,a)}catch(f){const p=f;if(u&&n)throw p;return i(p)}u||(d&&d.then&&typeof d.then=="function"?d.then(s,i):d instanceof Error?i(d):s(d))}function i(a,...u){n||(n=!0,t(a,...u))}function s(a){i(null,a)}}const is={basename:JW,dirname:XW,extname:ZW,join:QW,sep:"/"};function JW(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');_f(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let a=-1,u=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else a<0&&(s=!0,a=i+1),u>-1&&(e.codePointAt(i)===t.codePointAt(u--)?u<0&&(r=i):(u=-1,r=a));return n===r?r=a:r<0&&(r=e.length),e.slice(n,r)}function XW(e){if(_f(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function ZW(e){_f(e);let t=e.length,n=-1,r=0,i=-1,s=0,a;for(;t--;){const u=e.codePointAt(t);if(u===47){if(a){r=t+1;break}continue}n<0&&(a=!0,n=t+1),u===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function QW(...e){let t=-1,n;for(;++t<e.length;)_f(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":eY(n)}function eY(e){_f(e);const t=e.codePointAt(0)===47;let n=tY(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function tY(e,t){let n="",r=0,i=-1,s=0,a=-1,u,d;for(;++a<=e.length;){if(a<e.length)u=e.codePointAt(a);else{if(u===47)break;u=47}if(u===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(d=n.lastIndexOf("/"),d!==n.length-1){d<0?(n="",r=0):(n=n.slice(0,d),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(n.length>0){n="",r=0,i=a,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,a):n=e.slice(i+1,a),r=a-i-1;i=a,s=0}else u===46&&s>-1?s++:s=-1}return n}function _f(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const nY={cwd:rY};function rY(){return"/"}function u2(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function iY(e){if(typeof e=="string")e=new URL(e);else if(!u2(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return sY(e)}function sY(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const bx=["history","path","basename","stem","extname","dirname"];class F9{constructor(t){let n;t?u2(t)?n={path:t}:typeof t=="string"||aY(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":nY.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<bx.length;){const s=bx[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)bx.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?is.basename(this.path):void 0}set basename(t){wx(t,"basename"),vx(t,"basename"),this.path=is.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?is.dirname(this.path):void 0}set dirname(t){nS(this.basename,"dirname"),this.path=is.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?is.extname(this.path):void 0}set extname(t){if(vx(t,"extname"),nS(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=is.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){u2(t)&&(t=iY(t)),wx(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?is.basename(this.path,this.extname):void 0}set stem(t){wx(t,"stem"),vx(t,"stem"),this.path=is.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Er(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function vx(e,t){if(e&&e.includes(is.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+is.sep+"`")}function wx(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function nS(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function aY(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const lY=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},oY={}.hasOwnProperty;class Fb extends lY{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=YW()}copy(){const t=new Fb;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(yx(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Cx("data",this.frozen),this.namespace[t]=n,this):oY.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Cx("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=ip(t),r=this.parser||this.Parser;return kx("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),kx("process",this.parser||this.Parser),Sx("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,a){const u=ip(t),d=r.parse(u);r.run(d,u,function(p,m,x){if(p||!m||!x)return f(p);const y=m,v=r.stringify(y,x);dY(v)?x.value=v:x.result=v,f(p,x)});function f(p,m){p||!m?a(p):s?s(m):n(void 0,m)}}}processSync(t){let n=!1,r;return this.freeze(),kx("processSync",this.parser||this.Parser),Sx("processSync",this.compiler||this.Compiler),this.process(t,i),iS("processSync","process",n),r;function i(s,a){n=!0,eS(s),r=a}}run(t,n,r){rS(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(a,u){const d=ip(n);i.run(t,d,f);function f(p,m,x){const y=m||t;p?u(p):a?a(y):r(void 0,y,x)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),iS("runSync","run",r),i;function s(a,u){eS(a),i=u,r=!0}}stringify(t,n){this.freeze();const r=ip(n),i=this.compiler||this.Compiler;return Sx("stringify",i),rS(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(Cx("use",this.frozen),t!=null)if(typeof t=="function")d(t,n);else if(typeof t=="object")Array.isArray(t)?u(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(f){if(typeof f=="function")d(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[p,...m]=f;d(p,m)}else a(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function a(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(f.plugins),f.settings&&(i.settings=yx(!0,i.settings,f.settings))}function u(f){let p=-1;if(f!=null)if(Array.isArray(f))for(;++p<f.length;){const m=f[p];s(m)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function d(f,p){let m=-1,x=-1;for(;++m<r.length;)if(r[m][0]===f){x=m;break}if(x===-1)r.push([f,...p]);else if(p.length>0){let[y,...v]=p;const k=r[x][1];o2(k)&&o2(y)&&(y=yx(!0,k,y)),r[x]=[f,y,...v]}}}}const uY=new Fb().freeze();function kx(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Sx(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Cx(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function rS(e){if(!o2(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function iS(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function ip(e){return cY(e)?e:new F9(e)}function cY(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function dY(e){return typeof e=="string"||fY(e)}function fY(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const hY="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",sS=[],aS={allowDangerousHtml:!0},pY=/^(https?|ircs?|mailto|xmpp)$/i,mY=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function gY(e){const t=xY(e),n=yY(e);return bY(t.runSync(t.parse(n),n),e)}function xY(e){const t=e.rehypePlugins||sS,n=e.remarkPlugins||sS,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...aS}:aS;return uY().use(XG).use(n).use(qW,r).use(t)}function yY(e){const t=e.children||"",n=new F9;return typeof t=="string"&&(n.value=t),n}function bY(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,s=t.disallowedElements,a=t.skipHtml,u=t.unwrapDisallowed,d=t.urlTransform||vY;for(const p of mY)Object.hasOwn(t,p.from)&&(""+p.from+(p.to?"use `"+p.to+"` instead":"remove it")+hY+p.id,void 0);return Ib(e,f),RV(e,{Fragment:l.Fragment,components:i,ignoreInvalidStyle:!0,jsx:l.jsx,jsxs:l.jsxs,passKeys:!0,passNode:!0});function f(p,m,x){if(p.type==="raw"&&x&&typeof m=="number")return a?x.children.splice(m,1):x.children[m]={type:"text",value:p.value},m;if(p.type==="element"){let y;for(y in px)if(Object.hasOwn(px,y)&&Object.hasOwn(p.properties,y)){const v=p.properties[y],k=px[y];(k===null||k.includes(p.tagName))&&(p.properties[y]=d(String(v||""),y,p))}}if(p.type==="element"){let y=n?!n.includes(p.tagName):s?s.includes(p.tagName):!1;if(!y&&r&&typeof m=="number"&&(y=!r(p,m,x)),y&&x&&typeof m=="number")return u&&p.children?x.children.splice(m,1,...p.children):x.children.splice(m,1),m}}}function vY(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||pY.test(e.slice(0,t))?e:""}function lS(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function wY(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function kY(e,t,n){const i=a0((n||{}).ignore||[]),s=SY(t);let a=-1;for(;++a<s.length;)I9(e,"text",u);function u(f,p){let m=-1,x;for(;++m<p.length;){const y=p[m],v=x?x.children:void 0;if(i(y,v?v.indexOf(y):void 0,x))return;x=y}if(x)return d(f,p)}function d(f,p){const m=p[p.length-1],x=s[a][0],y=s[a][1];let v=0;const j=m.children.indexOf(f);let C=!1,N=[];x.lastIndex=0;let A=x.exec(f.value);for(;A;){const z=A.index,I={index:A.index,input:A.input,stack:[...p,f]};let T=y(...A,I);if(typeof T=="string"&&(T=T.length>0?{type:"text",value:T}:void 0),T===!1?x.lastIndex=z+1:(v!==z&&N.push({type:"text",value:f.value.slice(v,z)}),Array.isArray(T)?N.push(...T):T&&N.push(T),v=z+A[0].length,C=!0),!x.global)break;A=x.exec(f.value)}return C?(v<f.value.length&&N.push({type:"text",value:f.value.slice(v)}),m.children.splice(j,1,...N)):N=[f],j+N.length}}function SY(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([CY(i[0]),jY(i[1])])}return t}function CY(e){return typeof e=="string"?new RegExp(wY(e),"g"):e}function jY(e){return typeof e=="function"?e:function(){return e}}const jx="phrasing",_x=["autolink","link","image","label"];function _Y(){return{transforms:[OY],enter:{literalAutolink:EY,literalAutolinkEmail:Nx,literalAutolinkHttp:Nx,literalAutolinkWww:Nx},exit:{literalAutolink:MY,literalAutolinkEmail:TY,literalAutolinkHttp:AY,literalAutolinkWww:DY}}}function NY(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:jx,notInConstruct:_x},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:jx,notInConstruct:_x},{character:":",before:"[ps]",after:"\\/",inConstruct:jx,notInConstruct:_x}]}}function EY(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Nx(e){this.config.enter.autolinkProtocol.call(this,e)}function AY(e){this.config.exit.autolinkProtocol.call(this,e)}function DY(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function TY(e){this.config.exit.autolinkEmail.call(this,e)}function MY(e){this.exit(e)}function OY(e){kY(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,RY],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),LY]],{ignore:["link","linkReference"]})}function RY(e,t,n,r,i){let s="";if(!B9(i)||(/^w/i.test(t)&&(n=t+n,t="",s="http://"),!PY(n)))return!1;const a=zY(n+r);if(!a[0])return!1;const u={type:"link",title:null,url:s+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[u,{type:"text",value:a[1]}]:u}function LY(e,t,n,r){return!B9(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function PY(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function zY(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=lS(e,"(");let s=lS(e,")");for(;r!==-1&&i>s;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[e,n]}function B9(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||to(n)||r0(n))&&(!t||n!==47)}$9.peek=GY;function IY(){this.buffer()}function FY(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function BY(){this.buffer()}function $Y(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function HY(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Bi(this.sliceSerialize(e)).toLowerCase(),n.label=t}function UY(e){this.exit(e)}function VY(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Bi(this.sliceSerialize(e)).toLowerCase(),n.label=t}function qY(e){this.exit(e)}function GY(){return"["}function $9(e,t,n,r){const i=n.createTracker(r);let s=i.move("[^");const a=n.enter("footnoteReference"),u=n.enter("reference");return s+=i.move(n.safe(n.associationId(e),{after:"]",before:s})),u(),a(),s+=i.move("]"),s}function WY(){return{enter:{gfmFootnoteCallString:IY,gfmFootnoteCall:FY,gfmFootnoteDefinitionLabelString:BY,gfmFootnoteDefinition:$Y},exit:{gfmFootnoteCallString:HY,gfmFootnoteCall:UY,gfmFootnoteDefinitionLabelString:VY,gfmFootnoteDefinition:qY}}}function YY(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:$9},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,a){const u=s.createTracker(a);let d=u.move("[^");const f=s.enter("footnoteDefinition"),p=s.enter("label");return d+=u.move(s.safe(s.associationId(r),{before:d,after:"]"})),p(),d+=u.move("]:"),r.children&&r.children.length>0&&(u.shift(4),d+=u.move((t?`
`:" ")+s.indentLines(s.containerFlow(r,u.current()),t?H9:KY))),f(),d}}function KY(e,t,n){return t===0?e:H9(e,t,n)}function H9(e,t,n){return(n?"":"    ")+e}const JY=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];U9.peek=tK;function XY(){return{canContainEols:["delete"],enter:{strikethrough:QY},exit:{strikethrough:eK}}}function ZY(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:JY}],handlers:{delete:U9}}}function QY(e){this.enter({type:"delete",children:[]},e)}function eK(e){this.exit(e)}function U9(e,t,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let a=i.move("~~");return a+=n.containerPhrasing(e,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),s(),a}function tK(){return"~"}function nK(e){return e.length}function rK(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||nK,s=[],a=[],u=[],d=[];let f=0,p=-1;for(;++p<e.length;){const k=[],j=[];let C=-1;for(e[p].length>f&&(f=e[p].length);++C<e[p].length;){const N=iK(e[p][C]);if(n.alignDelimiters!==!1){const A=i(N);j[C]=A,(d[C]===void 0||A>d[C])&&(d[C]=A)}k.push(N)}a[p]=k,u[p]=j}let m=-1;if(typeof r=="object"&&"length"in r)for(;++m<f;)s[m]=oS(r[m]);else{const k=oS(r);for(;++m<f;)s[m]=k}m=-1;const x=[],y=[];for(;++m<f;){const k=s[m];let j="",C="";k===99?(j=":",C=":"):k===108?j=":":k===114&&(C=":");let N=n.alignDelimiters===!1?1:Math.max(1,d[m]-j.length-C.length);const A=j+"-".repeat(N)+C;n.alignDelimiters!==!1&&(N=j.length+N+C.length,N>d[m]&&(d[m]=N),y[m]=N),x[m]=A}a.splice(1,0,x),u.splice(1,0,y),p=-1;const v=[];for(;++p<a.length;){const k=a[p],j=u[p];m=-1;const C=[];for(;++m<f;){const N=k[m]||"";let A="",z="";if(n.alignDelimiters!==!1){const I=d[m]-(j[m]||0),T=s[m];T===114?A=" ".repeat(I):T===99?I%2?(A=" ".repeat(I/2+.5),z=" ".repeat(I/2-.5)):(A=" ".repeat(I/2),z=A):z=" ".repeat(I)}n.delimiterStart!==!1&&!m&&C.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&N==="")&&(n.delimiterStart!==!1||m)&&C.push(" "),n.alignDelimiters!==!1&&C.push(A),C.push(N),n.alignDelimiters!==!1&&C.push(z),n.padding!==!1&&C.push(" "),(n.delimiterEnd!==!1||m!==f-1)&&C.push("|")}v.push(n.delimiterEnd===!1?C.join("").replace(/ +$/,""):C.join(""))}return v.join(`
`)}function iK(e){return e==null?"":String(e)}function oS(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function sK(e,t,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const a=n.indentLines(n.containerFlow(e,s.current()),aK);return i(),a}function aK(e,t,n){return">"+(n?"":" ")+e}function lK(e,t){return uS(e,t.inConstruct,!0)&&!uS(e,t.notInConstruct,!1)}function uS(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function cS(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&lK(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function oK(e,t){const n=String(e);let r=n.indexOf(t),i=r,s=0,a=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>a&&(a=s):s=1,i=r+t.length,r=n.indexOf(t,i);return a}function uK(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function cK(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function dK(e,t,n,r){const i=cK(n),s=e.value||"",a=i==="`"?"GraveAccent":"Tilde";if(uK(e,n)){const m=n.enter("codeIndented"),x=n.indentLines(s,fK);return m(),x}const u=n.createTracker(r),d=i.repeat(Math.max(oK(s,i)+1,3)),f=n.enter("codeFenced");let p=u.move(d);if(e.lang){const m=n.enter(`codeFencedLang${a}`);p+=u.move(n.safe(e.lang,{before:p,after:" ",encode:["`"],...u.current()})),m()}if(e.lang&&e.meta){const m=n.enter(`codeFencedMeta${a}`);p+=u.move(" "),p+=u.move(n.safe(e.meta,{before:p,after:`
`,encode:["`"],...u.current()})),m()}return p+=u.move(`
`),s&&(p+=u.move(s+`
`)),p+=u.move(d),f(),p}function fK(e,t,n){return(n?"":"    ")+e}function Bb(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function hK(e,t,n,r){const i=Bb(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("definition");let u=n.enter("label");const d=n.createTracker(r);let f=d.move("[");return f+=d.move(n.safe(n.associationId(e),{before:f,after:"]",...d.current()})),f+=d.move("]: "),u(),!e.url||/[\0- \u007F]/.test(e.url)?(u=n.enter("destinationLiteral"),f+=d.move("<"),f+=d.move(n.safe(e.url,{before:f,after:">",...d.current()})),f+=d.move(">")):(u=n.enter("destinationRaw"),f+=d.move(n.safe(e.url,{before:f,after:e.title?" ":`
`,...d.current()}))),u(),e.title&&(u=n.enter(`title${s}`),f+=d.move(" "+i),f+=d.move(n.safe(e.title,{before:f,after:i,...d.current()})),f+=d.move(i),u()),a(),f}function pK(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Yd(e){return"&#x"+e.toString(16).toUpperCase()+";"}function cm(e,t,n){const r=Eu(e),i=Eu(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}V9.peek=mK;function V9(e,t,n,r){const i=pK(n),s=n.enter("emphasis"),a=n.createTracker(r),u=a.move(i);let d=a.move(n.containerPhrasing(e,{after:i,before:u,...a.current()}));const f=d.charCodeAt(0),p=cm(r.before.charCodeAt(r.before.length-1),f,i);p.inside&&(d=Yd(f)+d.slice(1));const m=d.charCodeAt(d.length-1),x=cm(r.after.charCodeAt(0),m,i);x.inside&&(d=d.slice(0,-1)+Yd(m));const y=a.move(i);return s(),n.attentionEncodeSurroundingInfo={after:x.outside,before:p.outside},u+d+y}function mK(e,t,n){return n.options.emphasis||"*"}function gK(e,t){let n=!1;return Ib(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,a2}),!!((!e.depth||e.depth<3)&&Tb(e)&&(t.options.setext||n))}function xK(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(r);if(gK(e,n)){const p=n.enter("headingSetext"),m=n.enter("phrasing"),x=n.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return m(),p(),x+`
`+(i===1?"=":"-").repeat(x.length-(Math.max(x.lastIndexOf("\r"),x.lastIndexOf(`
`))+1))}const a="#".repeat(i),u=n.enter("headingAtx"),d=n.enter("phrasing");s.move(a+" ");let f=n.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(f)&&(f=Yd(f.charCodeAt(0))+f.slice(1)),f=f?a+" "+f:a,n.options.closeAtx&&(f+=" "+a),d(),u(),f}q9.peek=yK;function q9(e){return e.value||""}function yK(){return"<"}G9.peek=bK;function G9(e,t,n,r){const i=Bb(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("image");let u=n.enter("label");const d=n.createTracker(r);let f=d.move("![");return f+=d.move(n.safe(e.alt,{before:f,after:"]",...d.current()})),f+=d.move("]("),u(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(u=n.enter("destinationLiteral"),f+=d.move("<"),f+=d.move(n.safe(e.url,{before:f,after:">",...d.current()})),f+=d.move(">")):(u=n.enter("destinationRaw"),f+=d.move(n.safe(e.url,{before:f,after:e.title?" ":")",...d.current()}))),u(),e.title&&(u=n.enter(`title${s}`),f+=d.move(" "+i),f+=d.move(n.safe(e.title,{before:f,after:i,...d.current()})),f+=d.move(i),u()),f+=d.move(")"),a(),f}function bK(){return"!"}W9.peek=vK;function W9(e,t,n,r){const i=e.referenceType,s=n.enter("imageReference");let a=n.enter("label");const u=n.createTracker(r);let d=u.move("![");const f=n.safe(e.alt,{before:d,after:"]",...u.current()});d+=u.move(f+"]["),a();const p=n.stack;n.stack=[],a=n.enter("reference");const m=n.safe(n.associationId(e),{before:d,after:"]",...u.current()});return a(),n.stack=p,s(),i==="full"||!f||f!==m?d+=u.move(m+"]"):i==="shortcut"?d=d.slice(0,-1):d+=u.move("]"),d}function vK(){return"!"}Y9.peek=wK;function Y9(e,t,n){let r=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const a=n.unsafe[s],u=n.compilePattern(a);let d;if(a.atBreak)for(;d=u.exec(r);){let f=d.index;r.charCodeAt(f)===10&&r.charCodeAt(f-1)===13&&f--,r=r.slice(0,f)+" "+r.slice(d.index+1)}}return i+r+i}function wK(){return"`"}function K9(e,t){const n=Tb(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}J9.peek=kK;function J9(e,t,n,r){const i=Bb(n),s=i==='"'?"Quote":"Apostrophe",a=n.createTracker(r);let u,d;if(K9(e,n)){const p=n.stack;n.stack=[],u=n.enter("autolink");let m=a.move("<");return m+=a.move(n.containerPhrasing(e,{before:m,after:">",...a.current()})),m+=a.move(">"),u(),n.stack=p,m}u=n.enter("link"),d=n.enter("label");let f=a.move("[");return f+=a.move(n.containerPhrasing(e,{before:f,after:"](",...a.current()})),f+=a.move("]("),d(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(d=n.enter("destinationLiteral"),f+=a.move("<"),f+=a.move(n.safe(e.url,{before:f,after:">",...a.current()})),f+=a.move(">")):(d=n.enter("destinationRaw"),f+=a.move(n.safe(e.url,{before:f,after:e.title?" ":")",...a.current()}))),d(),e.title&&(d=n.enter(`title${s}`),f+=a.move(" "+i),f+=a.move(n.safe(e.title,{before:f,after:i,...a.current()})),f+=a.move(i),d()),f+=a.move(")"),u(),f}function kK(e,t,n){return K9(e,n)?"<":"["}X9.peek=SK;function X9(e,t,n,r){const i=e.referenceType,s=n.enter("linkReference");let a=n.enter("label");const u=n.createTracker(r);let d=u.move("[");const f=n.containerPhrasing(e,{before:d,after:"]",...u.current()});d+=u.move(f+"]["),a();const p=n.stack;n.stack=[],a=n.enter("reference");const m=n.safe(n.associationId(e),{before:d,after:"]",...u.current()});return a(),n.stack=p,s(),i==="full"||!f||f!==m?d+=u.move(m+"]"):i==="shortcut"?d=d.slice(0,-1):d+=u.move("]"),d}function SK(){return"["}function $b(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function CK(e){const t=$b(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function jK(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function Z9(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function _K(e,t,n,r){const i=n.enter("list"),s=n.bulletCurrent;let a=e.ordered?jK(n):$b(n);const u=e.ordered?a==="."?")":".":CK(n);let d=t&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!e.ordered){const p=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&p&&(!p.children||!p.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(d=!0),Z9(n)===a&&p){let m=-1;for(;++m<e.children.length;){const x=e.children[m];if(x&&x.type==="listItem"&&x.children&&x.children[0]&&x.children[0].type==="thematicBreak"){d=!0;break}}}}d&&(a=u),n.bulletCurrent=a;const f=n.containerFlow(e,r);return n.bulletLastUsed=a,n.bulletCurrent=s,i(),f}function NK(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function EK(e,t,n,r){const i=NK(n);let s=n.bulletCurrent||$b(n);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let a=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=Math.ceil(a/4)*4);const u=n.createTracker(r);u.move(s+" ".repeat(a-s.length)),u.shift(a);const d=n.enter("listItem"),f=n.indentLines(n.containerFlow(e,u.current()),p);return d(),f;function p(m,x,y){return x?(y?"":" ".repeat(a))+m:(y?s:s+" ".repeat(a-s.length))+m}}function AK(e,t,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),a=n.containerPhrasing(e,r);return s(),i(),a}const DK=a0(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function TK(e,t,n,r){return(e.children.some(function(a){return DK(a)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function MK(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}Q9.peek=OK;function Q9(e,t,n,r){const i=MK(n),s=n.enter("strong"),a=n.createTracker(r),u=a.move(i+i);let d=a.move(n.containerPhrasing(e,{after:i,before:u,...a.current()}));const f=d.charCodeAt(0),p=cm(r.before.charCodeAt(r.before.length-1),f,i);p.inside&&(d=Yd(f)+d.slice(1));const m=d.charCodeAt(d.length-1),x=cm(r.after.charCodeAt(0),m,i);x.inside&&(d=d.slice(0,-1)+Yd(m));const y=a.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:x.outside,before:p.outside},u+d+y}function OK(e,t,n){return n.options.strong||"*"}function RK(e,t,n,r){return n.safe(e.value,r)}function LK(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function PK(e,t,n){const r=(Z9(n)+(n.options.ruleSpaces?" ":"")).repeat(LK(n));return n.options.ruleSpaces?r.slice(0,-1):r}const e7={blockquote:sK,break:cS,code:dK,definition:hK,emphasis:V9,hardBreak:cS,heading:xK,html:q9,image:G9,imageReference:W9,inlineCode:Y9,link:J9,linkReference:X9,list:_K,listItem:EK,paragraph:AK,root:TK,strong:Q9,text:RK,thematicBreak:PK};function zK(){return{enter:{table:IK,tableData:dS,tableHeader:dS,tableRow:BK},exit:{codeText:$K,table:FK,tableData:Ex,tableHeader:Ex,tableRow:Ex}}}function IK(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function FK(e){this.exit(e),this.data.inTable=void 0}function BK(e){this.enter({type:"tableRow",children:[]},e)}function Ex(e){this.exit(e)}function dS(e){this.enter({type:"tableCell",children:[]},e)}function $K(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,HK));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function HK(e,t){return t==="|"?t:e}function UK(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:x,table:a,tableCell:d,tableRow:u}};function a(y,v,k,j){return f(p(y,k,j),y.align)}function u(y,v,k,j){const C=m(y,k,j),N=f([C]);return N.slice(0,N.indexOf(`
`))}function d(y,v,k,j){const C=k.enter("tableCell"),N=k.enter("phrasing"),A=k.containerPhrasing(y,{...j,before:s,after:s});return N(),C(),A}function f(y,v){return rK(y,{align:v,alignDelimiters:r,padding:n,stringLength:i})}function p(y,v,k){const j=y.children;let C=-1;const N=[],A=v.enter("table");for(;++C<j.length;)N[C]=m(j[C],v,k);return A(),N}function m(y,v,k){const j=y.children;let C=-1;const N=[],A=v.enter("tableRow");for(;++C<j.length;)N[C]=d(j[C],y,v,k);return A(),N}function x(y,v,k){let j=e7.inlineCode(y,v,k);return k.stack.includes("tableCell")&&(j=j.replace(/\|/g,"\\$&")),j}}function VK(){return{exit:{taskListCheckValueChecked:fS,taskListCheckValueUnchecked:fS,paragraph:GK}}}function qK(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:WK}}}function fS(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function GK(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let s=-1,a;for(;++s<i.length;){const u=i[s];if(u.type==="paragraph"){a=u;break}}a===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function WK(e,t,n,r){const i=e.children[0],s=typeof e.checked=="boolean"&&i&&i.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",u=n.createTracker(r);s&&u.move(a);let d=e7.listItem(e,t,n,{...r,...u.current()});return s&&(d=d.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,f)),d;function f(p){return p+a}}function YK(){return[_Y(),WY(),XY(),zK(),VK()]}function KK(e){return{extensions:[NY(),YY(e),ZY(),UK(e),qK()]}}const JK={tokenize:nJ,partial:!0},t7={tokenize:rJ,partial:!0},n7={tokenize:iJ,partial:!0},r7={tokenize:sJ,partial:!0},XK={tokenize:aJ,partial:!0},i7={name:"wwwAutolink",tokenize:eJ,previous:a7},s7={name:"protocolAutolink",tokenize:tJ,previous:l7},ta={name:"emailAutolink",tokenize:QK,previous:o7},Cs={};function ZK(){return{text:Cs}}let Ll=48;for(;Ll<123;)Cs[Ll]=ta,Ll++,Ll===58?Ll=65:Ll===91&&(Ll=97);Cs[43]=ta;Cs[45]=ta;Cs[46]=ta;Cs[95]=ta;Cs[72]=[ta,s7];Cs[104]=[ta,s7];Cs[87]=[ta,i7];Cs[119]=[ta,i7];function QK(e,t,n){const r=this;let i,s;return a;function a(m){return!c2(m)||!o7.call(r,r.previous)||Hb(r.events)?n(m):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),u(m))}function u(m){return c2(m)?(e.consume(m),u):m===64?(e.consume(m),d):n(m)}function d(m){return m===46?e.check(XK,p,f)(m):m===45||m===95||Cr(m)?(s=!0,e.consume(m),d):p(m)}function f(m){return e.consume(m),i=!0,d}function p(m){return s&&i&&Or(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(m)):n(m)}}function eJ(e,t,n){const r=this;return i;function i(a){return a!==87&&a!==119||!a7.call(r,r.previous)||Hb(r.events)?n(a):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(JK,e.attempt(t7,e.attempt(n7,s),n),n)(a))}function s(a){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(a)}}function tJ(e,t,n){const r=this;let i="",s=!1;return a;function a(m){return(m===72||m===104)&&l7.call(r,r.previous)&&!Hb(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(m),e.consume(m),u):n(m)}function u(m){if(Or(m)&&i.length<5)return i+=String.fromCodePoint(m),e.consume(m),u;if(m===58){const x=i.toLowerCase();if(x==="http"||x==="https")return e.consume(m),d}return n(m)}function d(m){return m===47?(e.consume(m),s?f:(s=!0,d)):n(m)}function f(m){return m===null||om(m)||cn(m)||to(m)||r0(m)?n(m):e.attempt(t7,e.attempt(n7,p),n)(m)}function p(m){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(m)}}function nJ(e,t,n){let r=0;return i;function i(a){return(a===87||a===119)&&r<3?(r++,e.consume(a),i):a===46&&r===3?(e.consume(a),s):n(a)}function s(a){return a===null?n(a):t(a)}}function rJ(e,t,n){let r,i,s;return a;function a(f){return f===46||f===95?e.check(r7,d,u)(f):f===null||cn(f)||to(f)||f!==45&&r0(f)?d(f):(s=!0,e.consume(f),a)}function u(f){return f===95?r=!0:(i=r,r=void 0),e.consume(f),a}function d(f){return i||r||!s?n(f):t(f)}}function iJ(e,t){let n=0,r=0;return i;function i(a){return a===40?(n++,e.consume(a),i):a===41&&r<n?s(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check(r7,t,s)(a):a===null||cn(a)||to(a)?t(a):(e.consume(a),i)}function s(a){return a===41&&r++,e.consume(a),i}}function sJ(e,t,n){return r;function r(u){return u===33||u===34||u===39||u===41||u===42||u===44||u===46||u===58||u===59||u===63||u===95||u===126?(e.consume(u),r):u===38?(e.consume(u),s):u===93?(e.consume(u),i):u===60||u===null||cn(u)||to(u)?t(u):n(u)}function i(u){return u===null||u===40||u===91||cn(u)||to(u)?t(u):r(u)}function s(u){return Or(u)?a(u):n(u)}function a(u){return u===59?(e.consume(u),r):Or(u)?(e.consume(u),a):n(u)}}function aJ(e,t,n){return r;function r(s){return e.consume(s),i}function i(s){return Cr(s)?n(s):t(s)}}function a7(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||cn(e)}function l7(e){return!Or(e)}function o7(e){return!(e===47||c2(e))}function c2(e){return e===43||e===45||e===46||e===95||Cr(e)}function Hb(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const lJ={tokenize:mJ,partial:!0};function oJ(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:fJ,continuation:{tokenize:hJ},exit:pJ}},text:{91:{name:"gfmFootnoteCall",tokenize:dJ},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:uJ,resolveTo:cJ}}}}function uJ(e,t,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;i--;){const d=r.events[i][1];if(d.type==="labelImage"){a=d;break}if(d.type==="gfmFootnoteCall"||d.type==="labelLink"||d.type==="label"||d.type==="image"||d.type==="link")break}return u;function u(d){if(!a||!a._balanced)return n(d);const f=Bi(r.sliceSerialize({start:a.end,end:r.now()}));return f.codePointAt(0)!==94||!s.includes(f.slice(1))?n(d):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),t(d))}}function cJ(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},u=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",a,t],["exit",a,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...u),e}function dJ(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,a;return u;function u(m){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(m),e.exit("gfmFootnoteCallLabelMarker"),d}function d(m){return m!==94?n(m):(e.enter("gfmFootnoteCallMarker"),e.consume(m),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",f)}function f(m){if(s>999||m===93&&!a||m===null||m===91||cn(m))return n(m);if(m===93){e.exit("chunkString");const x=e.exit("gfmFootnoteCallString");return i.includes(Bi(r.sliceSerialize(x)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(m),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(m)}return cn(m)||(a=!0),s++,e.consume(m),m===92?p:f}function p(m){return m===91||m===92||m===93?(e.consume(m),s++,f):f(m)}}function fJ(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,a=0,u;return d;function d(v){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(v),e.exit("gfmFootnoteDefinitionLabelMarker"),f}function f(v){return v===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(v),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",p):n(v)}function p(v){if(a>999||v===93&&!u||v===null||v===91||cn(v))return n(v);if(v===93){e.exit("chunkString");const k=e.exit("gfmFootnoteDefinitionLabelString");return s=Bi(r.sliceSerialize(k)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(v),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),x}return cn(v)||(u=!0),a++,e.consume(v),v===92?m:p}function m(v){return v===91||v===92||v===93?(e.consume(v),a++,p):p(v)}function x(v){return v===58?(e.enter("definitionMarker"),e.consume(v),e.exit("definitionMarker"),i.includes(s)||i.push(s),Wt(e,y,"gfmFootnoteDefinitionWhitespace")):n(v)}function y(v){return t(v)}}function hJ(e,t,n){return e.check(jf,t,e.attempt(lJ,t,n))}function pJ(e){e.exit("gfmFootnoteDefinition")}function mJ(e,t,n){const r=this;return Wt(e,i,"gfmFootnoteDefinitionIndent",5);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?t(s):n(s)}}function gJ(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(a,u){let d=-1;for(;++d<a.length;)if(a[d][0]==="enter"&&a[d][1].type==="strikethroughSequenceTemporary"&&a[d][1]._close){let f=d;for(;f--;)if(a[f][0]==="exit"&&a[f][1].type==="strikethroughSequenceTemporary"&&a[f][1]._open&&a[d][1].end.offset-a[d][1].start.offset===a[f][1].end.offset-a[f][1].start.offset){a[d][1].type="strikethroughSequence",a[f][1].type="strikethroughSequence";const p={type:"strikethrough",start:Object.assign({},a[f][1].start),end:Object.assign({},a[d][1].end)},m={type:"strikethroughText",start:Object.assign({},a[f][1].end),end:Object.assign({},a[d][1].start)},x=[["enter",p,u],["enter",a[f][1],u],["exit",a[f][1],u],["enter",m,u]],y=u.parser.constructs.insideSpan.null;y&&li(x,x.length,0,i0(y,a.slice(f+1,d),u)),li(x,x.length,0,[["exit",m,u],["enter",a[d][1],u],["exit",a[d][1],u],["exit",p,u]]),li(a,f-1,d-f+3,x),d=f+x.length-2;break}}for(d=-1;++d<a.length;)a[d][1].type==="strikethroughSequenceTemporary"&&(a[d][1].type="data");return a}function s(a,u,d){const f=this.previous,p=this.events;let m=0;return x;function x(v){return f===126&&p[p.length-1][1].type!=="characterEscape"?d(v):(a.enter("strikethroughSequenceTemporary"),y(v))}function y(v){const k=Eu(f);if(v===126)return m>1?d(v):(a.consume(v),m++,y);if(m<2&&!n)return d(v);const j=a.exit("strikethroughSequenceTemporary"),C=Eu(v);return j._open=!C||C===2&&!!k,j._close=!k||k===2&&!!C,u(v)}}}class xJ{constructor(){this.map=[]}add(t,n,r){yJ(this,t,n,r)}consume(t){if(this.map.sort(function(s,a){return s[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const s of i)t.push(s);i=r.pop()}this.map.length=0}}function yJ(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function bJ(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function vJ(){return{flow:{null:{name:"table",tokenize:wJ,resolveAll:kJ}}}}function wJ(e,t,n){const r=this;let i=0,s=0,a;return u;function u(D){let V=r.events.length-1;for(;V>-1;){const Z=r.events[V][1].type;if(Z==="lineEnding"||Z==="linePrefix")V--;else break}const K=V>-1?r.events[V][1].type:null,J=K==="tableHead"||K==="tableRow"?T:d;return J===T&&r.parser.lazy[r.now().line]?n(D):J(D)}function d(D){return e.enter("tableHead"),e.enter("tableRow"),f(D)}function f(D){return D===124||(a=!0,s+=1),p(D)}function p(D){return D===null?n(D):yt(D)?s>1?(s=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(D),e.exit("lineEnding"),y):n(D):Vt(D)?Wt(e,p,"whitespace")(D):(s+=1,a&&(a=!1,i+=1),D===124?(e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),a=!0,p):(e.enter("data"),m(D)))}function m(D){return D===null||D===124||cn(D)?(e.exit("data"),p(D)):(e.consume(D),D===92?x:m)}function x(D){return D===92||D===124?(e.consume(D),m):m(D)}function y(D){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(D):(e.enter("tableDelimiterRow"),a=!1,Vt(D)?Wt(e,v,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):v(D))}function v(D){return D===45||D===58?j(D):D===124?(a=!0,e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),k):I(D)}function k(D){return Vt(D)?Wt(e,j,"whitespace")(D):j(D)}function j(D){return D===58?(s+=1,a=!0,e.enter("tableDelimiterMarker"),e.consume(D),e.exit("tableDelimiterMarker"),C):D===45?(s+=1,C(D)):D===null||yt(D)?z(D):I(D)}function C(D){return D===45?(e.enter("tableDelimiterFiller"),N(D)):I(D)}function N(D){return D===45?(e.consume(D),N):D===58?(a=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(D),e.exit("tableDelimiterMarker"),A):(e.exit("tableDelimiterFiller"),A(D))}function A(D){return Vt(D)?Wt(e,z,"whitespace")(D):z(D)}function z(D){return D===124?v(D):D===null||yt(D)?!a||i!==s?I(D):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(D)):I(D)}function I(D){return n(D)}function T(D){return e.enter("tableRow"),E(D)}function E(D){return D===124?(e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),E):D===null||yt(D)?(e.exit("tableRow"),t(D)):Vt(D)?Wt(e,E,"whitespace")(D):(e.enter("data"),M(D))}function M(D){return D===null||D===124||cn(D)?(e.exit("data"),E(D)):(e.consume(D),D===92?L:M)}function L(D){return D===92||D===124?(e.consume(D),M):M(D)}}function kJ(e,t){let n=-1,r=!0,i=0,s=[0,0,0,0],a=[0,0,0,0],u=!1,d=0,f,p,m;const x=new xJ;for(;++n<e.length;){const y=e[n],v=y[1];y[0]==="enter"?v.type==="tableHead"?(u=!1,d!==0&&(hS(x,t,d,f,p),p=void 0,d=0),f={type:"table",start:Object.assign({},v.start),end:Object.assign({},v.end)},x.add(n,0,[["enter",f,t]])):v.type==="tableRow"||v.type==="tableDelimiterRow"?(r=!0,m=void 0,s=[0,0,0,0],a=[0,n+1,0,0],u&&(u=!1,p={type:"tableBody",start:Object.assign({},v.start),end:Object.assign({},v.end)},x.add(n,0,[["enter",p,t]])),i=v.type==="tableDelimiterRow"?2:p?3:1):i&&(v.type==="data"||v.type==="tableDelimiterMarker"||v.type==="tableDelimiterFiller")?(r=!1,a[2]===0&&(s[1]!==0&&(a[0]=a[1],m=sp(x,t,s,i,void 0,m),s=[0,0,0,0]),a[2]=n)):v.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(a[0]=a[1],m=sp(x,t,s,i,void 0,m)),s=a,a=[s[1],n,0,0])):v.type==="tableHead"?(u=!0,d=n):v.type==="tableRow"||v.type==="tableDelimiterRow"?(d=n,s[1]!==0?(a[0]=a[1],m=sp(x,t,s,i,n,m)):a[1]!==0&&(m=sp(x,t,a,i,n,m)),i=0):i&&(v.type==="data"||v.type==="tableDelimiterMarker"||v.type==="tableDelimiterFiller")&&(a[3]=n)}for(d!==0&&hS(x,t,d,f,p),x.consume(t.events),n=-1;++n<t.events.length;){const y=t.events[n];y[0]==="enter"&&y[1].type==="table"&&(y[1]._align=bJ(t.events,n))}return e}function sp(e,t,n,r,i,s){const a=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",u="tableContent";n[0]!==0&&(s.end=Object.assign({},uu(t.events,n[0])),e.add(n[0],0,[["exit",s,t]]));const d=uu(t.events,n[1]);if(s={type:a,start:Object.assign({},d),end:Object.assign({},d)},e.add(n[1],0,[["enter",s,t]]),n[2]!==0){const f=uu(t.events,n[2]),p=uu(t.events,n[3]),m={type:u,start:Object.assign({},f),end:Object.assign({},p)};if(e.add(n[2],0,[["enter",m,t]]),r!==2){const x=t.events[n[2]],y=t.events[n[3]];if(x[1].end=Object.assign({},y[1].end),x[1].type="chunkText",x[1].contentType="text",n[3]>n[2]+1){const v=n[2]+1,k=n[3]-n[2]-1;e.add(v,k,[])}}e.add(n[3]+1,0,[["exit",m,t]])}return i!==void 0&&(s.end=Object.assign({},uu(t.events,i)),e.add(i,0,[["exit",s,t]]),s=void 0),s}function hS(e,t,n,r,i){const s=[],a=uu(t.events,n);i&&(i.end=Object.assign({},a),s.push(["exit",i,t])),r.end=Object.assign({},a),s.push(["exit",r,t]),e.add(n+1,0,s)}function uu(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const SJ={name:"tasklistCheck",tokenize:jJ};function CJ(){return{text:{91:SJ}}}function jJ(e,t,n){const r=this;return i;function i(d){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(d):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(d),e.exit("taskListCheckMarker"),s)}function s(d){return cn(d)?(e.enter("taskListCheckValueUnchecked"),e.consume(d),e.exit("taskListCheckValueUnchecked"),a):d===88||d===120?(e.enter("taskListCheckValueChecked"),e.consume(d),e.exit("taskListCheckValueChecked"),a):n(d)}function a(d){return d===93?(e.enter("taskListCheckMarker"),e.consume(d),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),u):n(d)}function u(d){return yt(d)?t(d):Vt(d)?e.check({tokenize:_J},t,n)(d):n(d)}}function _J(e,t,n){return Wt(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function NJ(e){return b9([ZK(),oJ(),gJ(e),vJ(),CJ()])}const EJ={};function AJ(e){const t=this,n=e||EJ,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),a=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(NJ(n)),s.push(YK()),a.push(KK(n))}const Pl=["ariaDescribedBy","ariaLabel","ariaLabelledBy"],d2={ancestors:{tbody:["table"],td:["table"],th:["table"],thead:["table"],tfoot:["table"],tr:["table"]},attributes:{a:[...Pl,"dataFootnoteBackref","dataFootnoteRef",["className","data-footnote-backref"],"href"],blockquote:["cite"],code:[["className",/^language-./]],del:["cite"],div:["itemScope","itemType"],dl:[...Pl],h2:[["className","sr-only"]],img:[...Pl,"longDesc","src"],input:[["disabled",!0],["type","checkbox"]],ins:["cite"],li:[["className","task-list-item"]],ol:[...Pl,["className","contains-task-list"]],q:["cite"],section:["dataFootnotes",["className","footnotes"]],source:["srcSet"],summary:[...Pl],table:[...Pl],ul:[...Pl,["className","contains-task-list"]],"*":["abbr","accept","acceptCharset","accessKey","action","align","alt","axis","border","cellPadding","cellSpacing","char","charOff","charSet","checked","clear","colSpan","color","cols","compact","coords","dateTime","dir","encType","frame","hSpace","headers","height","hrefLang","htmlFor","id","isMap","itemProp","label","lang","maxLength","media","method","multiple","name","noHref","noShade","noWrap","open","prompt","readOnly","rev","rowSpan","rows","rules","scope","selected","shape","size","span","start","summary","tabIndex","title","useMap","vAlign","value","width"]},clobber:["ariaDescribedBy","ariaLabelledBy","id","name"],clobberPrefix:"user-content-",protocols:{cite:["http","https"],href:["http","https","irc","ircs","mailto","xmpp"],longDesc:["http","https"],src:["http","https"]},required:{input:{disabled:!0,type:"checkbox"}},strip:["script"],tagNames:["a","b","blockquote","br","code","dd","del","details","div","dl","dt","em","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","li","ol","p","picture","pre","q","rp","rt","ruby","s","samp","section","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","tr","tt","ul","var"]},za={}.hasOwnProperty;function DJ(e,t){let n={type:"root",children:[]};const r={schema:t?{...d2,...t}:d2,stack:[]},i=u7(r,e);return i&&(Array.isArray(i)?i.length===1?n=i[0]:n.children=i:n=i),n}function u7(e,t){if(t&&typeof t=="object"){const n=t;switch(typeof n.type=="string"?n.type:""){case"comment":return TJ(e,n);case"doctype":return MJ(e,n);case"element":return OJ(e,n);case"root":return RJ(e,n);case"text":return LJ(e,n)}}}function TJ(e,t){if(e.schema.allowComments){const n=typeof t.value=="string"?t.value:"",r=n.indexOf("-->"),s={type:"comment",value:r<0?n:n.slice(0,r)};return Nf(s,t),s}}function MJ(e,t){if(e.schema.allowDoctypes){const n={type:"doctype"};return Nf(n,t),n}}function OJ(e,t){const n=typeof t.tagName=="string"?t.tagName:"";e.stack.push(n);const r=c7(e,t.children),i=PJ(e,t.properties);e.stack.pop();let s=!1;if(n&&n!=="*"&&(!e.schema.tagNames||e.schema.tagNames.includes(n))&&(s=!0,e.schema.ancestors&&za.call(e.schema.ancestors,n))){const u=e.schema.ancestors[n];let d=-1;for(s=!1;++d<u.length;)e.stack.includes(u[d])&&(s=!0)}if(!s)return e.schema.strip&&!e.schema.strip.includes(n)?r:void 0;const a={type:"element",tagName:n,properties:i,children:r};return Nf(a,t),a}function RJ(e,t){const r={type:"root",children:c7(e,t.children)};return Nf(r,t),r}function LJ(e,t){const r={type:"text",value:typeof t.value=="string"?t.value:""};return Nf(r,t),r}function c7(e,t){const n=[];if(Array.isArray(t)){const r=t;let i=-1;for(;++i<r.length;){const s=u7(e,r[i]);s&&(Array.isArray(s)?n.push(...s):n.push(s))}}return n}function PJ(e,t){const n=e.stack[e.stack.length-1],r=e.schema.attributes,i=e.schema.required,s=r&&za.call(r,n)?r[n]:void 0,a=r&&za.call(r,"*")?r["*"]:void 0,u=t&&typeof t=="object"?t:{},d={};let f;for(f in u)if(za.call(u,f)){const p=u[f];let m=pS(e,mS(s,f),f,p);m==null&&(m=pS(e,mS(a,f),f,p)),m!=null&&(d[f]=m)}if(i&&za.call(i,n)){const p=i[n];for(f in p)za.call(p,f)&&!za.call(d,f)&&(d[f]=p[f])}return d}function pS(e,t,n,r){return t?Array.isArray(r)?zJ(e,t,n,r):d7(e,t,n,r):void 0}function zJ(e,t,n,r){let i=-1;const s=[];for(;++i<r.length;){const a=d7(e,t,n,r[i]);(typeof a=="number"||typeof a=="string")&&s.push(a)}return s}function d7(e,t,n,r){if(!(typeof r!="boolean"&&typeof r!="number"&&typeof r!="string")&&IJ(e,n,r)){if(typeof t=="object"&&t.length>1){let i=!1,s=0;for(;++s<t.length;){const a=t[s];if(a&&typeof a=="object"&&"flags"in a){if(a.test(String(r))){i=!0;break}}else if(a===r){i=!0;break}}if(!i)return}return e.schema.clobber&&e.schema.clobberPrefix&&e.schema.clobber.includes(n)?e.schema.clobberPrefix+r:r}}function IJ(e,t,n){const r=e.schema.protocols&&za.call(e.schema.protocols,t)?e.schema.protocols[t]:void 0;if(!r||r.length===0)return!0;const i=String(n),s=i.indexOf(":"),a=i.indexOf("?"),u=i.indexOf("#"),d=i.indexOf("/");if(s<0||d>-1&&s>d||a>-1&&s>a||u>-1&&s>u)return!0;let f=-1;for(;++f<r.length;){const p=r[f];if(s===p.length&&i.slice(0,p.length)===p)return!0}return!1}function Nf(e,t){const n=h9(t);t.data&&(e.data=Wd(t.data)),n&&(e.position=n)}function mS(e,t){let n,r=-1;if(e)for(;++r<e.length;){const i=e[r],s=typeof i=="string"?i:i[0];if(s===t)return i;s==="data*"&&(n=i)}if(t.length>4&&t.slice(0,4).toLowerCase()==="data")return n}function FJ(e){return function(t){return DJ(t,e)}}function BJ({markdown:e,className:t}){const n=b.useMemo(()=>{const r=d2,i=r?.protocols||{},s=Array.isArray(i.src)?i.src:[];return{...r,protocols:{...i,src:Array.from(new Set([...s,"data"]))}}},[]);return l.jsx("div",{className:t,children:l.jsx(gY,{remarkPlugins:[AJ],rehypePlugins:[[FJ,n]],components:{img:({src:r,alt:i,...s})=>{const a=typeof window<"u"?localStorage.getItem("token"):null,u=typeof r=="string"?r:"",d=a&&u.startsWith("/api/ai/media/assets/")?`${u}${u.includes("?")?"&":"?"}token=${encodeURIComponent(a)}`:u;return l.jsx("img",{src:d,alt:i||"image",...s})}},children:e||""})})}function $J({code:e,language:t,className:n}){return l.jsxs("div",{className:Ae("w-full rounded-md border bg-muted/40 overflow-hidden",n),children:[t?l.jsx("div",{className:"px-3 py-1 text-xs text-muted-foreground border-b bg-muted/30 font-mono",children:t}):null,l.jsx("pre",{className:"p-3 overflow-x-auto text-sm leading-relaxed",children:l.jsx("code",{className:"font-mono",children:e||""})})]})}function HJ({headers:e,rows:t,className:n}){return l.jsx("div",{className:Ae("w-full overflow-x-auto rounded-md border",n),children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{className:"bg-muted/40",children:l.jsx("tr",{children:(e||[]).map((r,i)=>l.jsx("th",{className:"px-3 py-2 text-left font-medium border-b",children:r},i))})}),l.jsx("tbody",{children:(t||[]).map((r,i)=>l.jsx("tr",{className:"odd:bg-background even:bg-muted/10",children:r.map((s,a)=>l.jsx("td",{className:"px-3 py-2 border-b align-top whitespace-pre-wrap",children:s},a))},i))})]})})}var Ax,o0="HoverCard",[f7,toe]=ci(o0,[Ss]),u0=Ss(),[UJ,c0]=f7(o0),h7=e=>{const{__scopeHoverCard:t,children:n,open:r,defaultOpen:i,onOpenChange:s,openDelay:a=700,closeDelay:u=300}=e,d=u0(t),f=b.useRef(0),p=b.useRef(0),m=b.useRef(!1),x=b.useRef(!1),[y,v]=$i({prop:r,defaultProp:i??!1,onChange:s,caller:o0}),k=b.useCallback(()=>{clearTimeout(p.current),f.current=window.setTimeout(()=>v(!0),a)},[a,v]),j=b.useCallback(()=>{clearTimeout(f.current),!m.current&&!x.current&&(p.current=window.setTimeout(()=>v(!1),u))},[u,v]),C=b.useCallback(()=>v(!1),[v]);return b.useEffect(()=>()=>{clearTimeout(f.current),clearTimeout(p.current)},[]),l.jsx(UJ,{scope:t,open:y,onOpenChange:v,onOpen:k,onClose:j,onDismiss:C,hasSelectionRef:m,isPointerDownOnContentRef:x,children:l.jsx(mf,{...d,children:n})})};h7.displayName=o0;var p7="HoverCardTrigger",m7=b.forwardRef((e,t)=>{const{__scopeHoverCard:n,...r}=e,i=c0(p7,n),s=u0(n);return l.jsx(Uu,{asChild:!0,...s,children:l.jsx(St.a,{"data-state":i.open?"open":"closed",...r,ref:t,onPointerEnter:Pe(e.onPointerEnter,fm(i.onOpen)),onPointerLeave:Pe(e.onPointerLeave,fm(i.onClose)),onFocus:Pe(e.onFocus,i.onOpen),onBlur:Pe(e.onBlur,i.onClose),onTouchStart:Pe(e.onTouchStart,a=>a.preventDefault())})})});m7.displayName=p7;var Ub="HoverCardPortal",[VJ,qJ]=f7(Ub,{forceMount:void 0}),g7=e=>{const{__scopeHoverCard:t,forceMount:n,children:r,container:i}=e,s=c0(Ub,t);return l.jsx(VJ,{scope:t,forceMount:n,children:l.jsx(Ir,{present:n||s.open,children:l.jsx(uo,{asChild:!0,container:i,children:r})})})};g7.displayName=Ub;var dm="HoverCardContent",x7=b.forwardRef((e,t)=>{const n=qJ(dm,e.__scopeHoverCard),{forceMount:r=n.forceMount,...i}=e,s=c0(dm,e.__scopeHoverCard);return l.jsx(Ir,{present:r||s.open,children:l.jsx(GJ,{"data-state":s.open?"open":"closed",...i,onPointerEnter:Pe(e.onPointerEnter,fm(s.onOpen)),onPointerLeave:Pe(e.onPointerLeave,fm(s.onClose)),ref:t})})});x7.displayName=dm;var GJ=b.forwardRef((e,t)=>{const{__scopeHoverCard:n,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,...u}=e,d=c0(dm,n),f=u0(n),p=b.useRef(null),m=At(t,p),[x,y]=b.useState(!1);return b.useEffect(()=>{if(x){const v=document.body;return Ax=v.style.userSelect||v.style.webkitUserSelect,v.style.userSelect="none",v.style.webkitUserSelect="none",()=>{v.style.userSelect=Ax,v.style.webkitUserSelect=Ax}}},[x]),b.useEffect(()=>{if(p.current){const v=()=>{y(!1),d.isPointerDownOnContentRef.current=!1,setTimeout(()=>{document.getSelection()?.toString()!==""&&(d.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",v),()=>{document.removeEventListener("pointerup",v),d.hasSelectionRef.current=!1,d.isPointerDownOnContentRef.current=!1}}},[d.isPointerDownOnContentRef,d.hasSelectionRef]),b.useEffect(()=>{p.current&&KJ(p.current).forEach(k=>k.setAttribute("tabindex","-1"))}),l.jsx(oo,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:a,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:Pe(s,v=>{v.preventDefault()}),onDismiss:d.onDismiss,children:l.jsx(gf,{...f,...u,onPointerDown:Pe(u.onPointerDown,v=>{v.currentTarget.contains(v.target)&&y(!0),d.hasSelectionRef.current=!1,d.isPointerDownOnContentRef.current=!0}),ref:m,style:{...u.style,userSelect:x?"text":void 0,WebkitUserSelect:x?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),WJ="HoverCardArrow",YJ=b.forwardRef((e,t)=>{const{__scopeHoverCard:n,...r}=e,i=u0(n);return l.jsx(xf,{...i,...r,ref:t})});YJ.displayName=WJ;function fm(e){return t=>t.pointerType==="touch"?void 0:e()}function KJ(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;n.nextNode();)t.push(n.currentNode);return t}var JJ=h7,XJ=m7,ZJ=g7,QJ=x7;function eX({...e}){return l.jsx(JJ,{"data-slot":"hover-card",...e})}function tX({...e}){return l.jsx(XJ,{"data-slot":"hover-card-trigger",...e})}function nX({className:e,align:t="center",sideOffset:n=4,...r}){return l.jsx(ZJ,{"data-slot":"hover-card-portal",children:l.jsx(QJ,{"data-slot":"hover-card-content",align:t,sideOffset:n,className:Ae("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-64 origin-(--radix-hover-card-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...r})})}function gS({conversations:e,activeConversationId:t,onSelect:n}){return l.jsx("div",{className:"flex flex-col gap-1 w-full",children:e.length===0?l.jsx("div",{className:"px-2 py-2 text-xs text-muted-foreground",children:"  ."}):e.map(r=>l.jsx("div",{className:Ae("flex items-center px-2 py-2 rounded-md cursor-pointer hover:bg-accent/50 transition-colors w-full h-8",r.id===t?"bg-accent":""),onClick:()=>n(r.id),children:l.jsx("p",{className:"text-sm text-foreground truncate w-full",children:r.title})},r.id))})}const xS="/api/ai/timeline";function rX(e){if(typeof e=="string")return e;if(!e||typeof e!="object")return"";const t=e;if(typeof t.text=="string")return t.text;if(typeof t.output_text=="string")return t.output_text;if(typeof t.input=="string")return t.input;const n=typeof t.title=="string"?t.title:"",r=typeof t.summary=="string"?t.summary:"",i=Array.isArray(t.blocks)?t.blocks:[];if(n||r||i.length){const s=[];n&&s.push(n),r&&s.push(r);for(const a of i){const u=typeof a.type=="string"?a.type:"";if(u==="markdown"&&typeof a.markdown=="string")s.push(String(a.markdown));else if(u==="code"){const d=typeof a.language=="string"?a.language:"plain",f=typeof a.code=="string"?a.code:"";s.push(`[code:${d}]
${f}`)}else if(u==="table"){const d=Array.isArray(a.headers)?a.headers.map(String):[],f=Array.isArray(a.rows)?a.rows:[];s.push(`[table]
${d.join(" | ")}
${f.map(p=>Array.isArray(p)?p.map(String).join(" | "):"").join(`
`)}`)}}return s.filter(Boolean).join(`

`)}return""}function yS(e){return[...e].sort((t,n)=>new Date(n.updatedAt).getTime()-new Date(t.updatedAt).getTime())}function bS(e){const t=new Map;for(const n of e){const r=String(n.id||"").trim();r&&t.set(r,n)}return Array.from(t.values())}function iX(e){const t=String(e||"").trim().toLowerCase();return t?t==="openai"||t.startsWith("openai-")?"chatgpt":t==="anthropic"||t.startsWith("anthropic-")?"claude":t==="google"||t.startsWith("google-")?"gemini":t:null}function sX(){const e=Mi(),t=ea(),[n,r]=b.useState(!0),[i,s]=b.useState(!1),[a,u]=b.useState([]),[d,f]=b.useState(null),[p,m]=b.useState([]),[x,y]=b.useState(void 0),[v,k]=b.useState(null),j=e.state?.initial;b.useEffect(()=>{if(typeof window>"u"||typeof window.matchMedia!="function")return;const F=window.matchMedia("(max-width: 767px)"),W=()=>{const R=F.matches;s(R),r(!R)};return W(),typeof F.addEventListener=="function"?(F.addEventListener("change",W),()=>F.removeEventListener("change",W)):(F.addListener(W),()=>F.removeListener(W))},[]),b.useEffect(()=>{const F=localStorage.getItem("token"),W=Number(localStorage.getItem("token_expires_at")||0),R=!W||Date.now()>W;(!F||R)&&(localStorage.removeItem("token"),localStorage.removeItem("token_expires_at"),localStorage.removeItem("user_email"),localStorage.removeItem("user_id"),t("/",{replace:!0}))},[t]);const C=b.useCallback(()=>{const F=localStorage.getItem("token");return F?{Authorization:`Bearer ${F}`}:{}},[]),N=b.useCallback(async()=>{const F=await fetch(`${xS}/threads`,{headers:{...C()}});if(!F.ok)throw new Error("THREADS_FETCH_FAILED");const R=(await F.json().catch(()=>[])).map(U=>({id:U.id,title:U.title,createdAt:U.created_at,updatedAt:U.updated_at,messages:[]}));return yS(bS(R))},[C]),A=b.useCallback(async F=>{const W=await fetch(`${xS}/threads/${F}/messages`,{headers:{...C()}});if(!W.ok)throw new Error("MESSAGES_FETCH_FAILED");const U=(await W.json().catch(()=>[])).map(_=>({id:_.id,role:_.role,content:rX(_.content)||"",contentJson:_.content,model:typeof _.metadata?.model=="string"?_.metadata.model:void 0,providerSlug:typeof _.provider_slug_resolved=="string"&&_.provider_slug_resolved.trim()?_.provider_slug_resolved:typeof _.metadata?.provider_slug=="string"?_.metadata.provider_slug:typeof _.metadata?.provider_key=="string"?_.metadata.provider_key:void 0,providerLogoKey:typeof _.provider_logo_key=="string"&&_.provider_logo_key.trim()?_.provider_logo_key:null,createdAt:_.created_at}));return bS(U)},[C]);b.useEffect(()=>{(async()=>{try{const W=await N();if(u(W),!j&&W.length>0){f(W[0].id);const R=await A(W[0].id);m(R.map(_=>({id:_.id,role:_.role,content:_.content,contentJson:_.contentJson,model:_.model,providerSlug:_.providerSlug,providerLogoKey:_.providerLogoKey})));const U=[...R].reverse().find(_=>_.model)?.model;y(U)}}catch(W){u([]),console.warn("[Timeline] threads API :",W)}})()},[]),b.useEffect(()=>{if(!j)return;const F=String(j.requestId||"").trim();if(F){const W=`reductai.timeline.initialConsumed.${F}`;try{if(sessionStorage.getItem(W)==="1"){t(e.pathname,{replace:!0,state:{}});return}sessionStorage.setItem(W,"1")}catch{}}k(j),t(e.pathname,{replace:!0,state:{}})},[j]);const[z,I]=b.useState(!1),[T,E]=b.useState(0),M=b.useMemo(()=>["  ","  ","  ","  ","  ","/ "],[]);b.useEffect(()=>{if(!z)return;const F=window.setInterval(()=>E(W=>(W+1)%M.length),900);return()=>window.clearInterval(F)},[M.length,z]);const[L,D]=b.useState(null);b.useEffect(()=>{if(!L)return;const F=L.full;if(L.shown.length>=F.length)return;const W=window.setInterval(()=>{D(R=>{if(!R)return null;const U=Math.min(R.full.length,R.shown.length+Math.max(1,Math.ceil(R.full.length/120)));return{...R,shown:R.full.slice(0,U)}})},25);return()=>window.clearInterval(W)},[L]),b.useEffect(()=>{if(!d)return;(async()=>{try{const W=await A(d);m(W.map(U=>({id:U.id,role:U.role,content:U.content,contentJson:U.contentJson,model:U.model,providerSlug:U.providerSlug,providerLogoKey:U.providerLogoKey})));const R=[...W].reverse().find(U=>U.model)?.model;y(R)}catch{m([])}})()},[d,A]);const V=v?.model||x,K=v?.providerSlug,J=v?.modelType,Z=v?.options||void 0,q=v?.sessionLanguage||void 0;return l.jsxs("div",{className:"bg-background w-full h-screen overflow-hidden flex font-sans",children:[l.jsx(n9,{}),l.jsxs("div",{className:"flex-1 flex flex-row h-full w-full bg-background relative pt-[56px] md:pt-0",children:[n&&l.jsxs(l.Fragment,{children:[i&&l.jsx("div",{className:"fixed inset-0 top-[56px] z-30 bg-black/30",onClick:()=>r(!1)}),l.jsx("div",{className:Ae("border-r border-border h-full flex flex-col px-2 py-4 bg-background shrink-0",i?"fixed top-[56px] left-0 bottom-0 z-40 w-[240px] shadow-lg":"w-[200px]"),children:l.jsx(gS,{conversations:a,activeConversationId:d,onSelect:F=>{f(F),i&&r(!1)}})})]}),l.jsxs("div",{className:"flex-1 flex flex-col h-full relative w-full",children:[l.jsx(r9,{leftContent:l.jsx("div",{className:"flex items-end",children:n?l.jsx(xe,{variant:"ghost",size:"icon",className:"size-4 p-0 hover:bg-transparent",onClick:()=>r(!1),children:l.jsx(X8,{className:"size-4"})}):i?l.jsx(xe,{variant:"ghost",size:"icon",className:"size-4 p-0 hover:bg-transparent",onClick:()=>r(!0),children:l.jsx(L6,{className:"size-4"})}):l.jsxs(eX,{openDelay:0,closeDelay:100,children:[l.jsx(tX,{asChild:!0,children:l.jsx(xe,{variant:"ghost",size:"icon",className:"size-4 p-0 hover:bg-transparent",onClick:()=>r(!0),children:l.jsx(L6,{className:"size-4"})})}),l.jsx(nX,{side:"right",align:"start",className:"w-[200px] p-2",children:l.jsx(gS,{conversations:a,activeConversationId:d,onSelect:F=>{f(F),r(!0)}})})]})}),children:l.jsxs("div",{className:"bg-background border border-border flex items-center justify-center gap-[6px] px-3  h-[32px] rounded-lg shadow-sm cursor-pointer hover:bg-accent/50 transition-colors",children:[l.jsx(sL,{className:"size-4"}),l.jsx("span",{className:"text-sm font-medium",children:"   "})]})}),l.jsx("div",{className:"overflow-y-auto p-6 flex flex-col w-full gap-4 items-center h-full",children:l.jsx("div",{className:"w-full max-w-[800px] flex flex-col gap-6 ",children:p.length===0?l.jsx("div",{className:"text-sm text-muted-foreground text-center py-10",children:"     ."}):p.map((F,W)=>F.role==="user"?l.jsx("div",{className:"w-full flex justify-end",children:l.jsx("div",{className:"flex items-end gap-2 lg:w-full",children:l.jsxs("div",{className:"flex lg:flex-row flex-col-reverse gap-4 w-full justify-end items-end lg:items-start",children:[l.jsx("div",{className:"bg-secondary p-3 rounded-lg max-w-[720px]",children:l.jsx("p",{className:"text-base text-primary whitespace-pre-wrap",children:F.content})}),l.jsx("div",{className:"size-6 bg-teal-500 rounded-[4px] flex items-center justify-center shrink-0",children:l.jsx("span",{className:"text-white text-sm font-bold",children:""})})]})})},F.id||`u_${W}`):l.jsxs("div",{className:"w-full flex lg:flex-row flex-col justify-start gap-4",children:[l.jsx("div",{className:"size-6 bg-primary rounded-[4px] flex items-center justify-center shrink-0",children:(()=>{const R=F.providerLogoKey||iX(F.providerSlug);return R?l.jsx(qd,{logoKey:R,className:"size-4 text-primary-foreground"}):l.jsx("span",{className:"text-primary-foreground text-sm font-bold",children:"AI"})})()}),l.jsxs("div",{className:"flex flex-col gap-4 max-w-[720px]",children:[l.jsx("div",{className:"text-base text-primary whitespace-pre-wrap space-y-3",children:(()=>{if(F.isPending){const U=M[T]||"  ";return l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsx("span",{className:"inline-block size-2 rounded-full bg-primary animate-pulse"}),l.jsxs("span",{children:[U,"..."]})]}),l.jsx("div",{className:"text-base text-primary",children:l.jsx("span",{className:"opacity-70",children:"  ."})})]})}if(L&&!F.isPending&&F.role==="assistant"&&typeof F.content=="string"&&F.content===L.full&&L.shown.length<L.full.length)return l.jsxs("div",{children:[L.shown,l.jsx("span",{className:"inline-block w-[6px] animate-pulse",children:""})]});const R=F.contentJson;if(R&&typeof R=="object"){const U=R,_=Array.isArray(U.blocks)?U.blocks:null;if(_&&_.length>0)return l.jsxs("div",{className:"space-y-3",children:[_.map((Q,G)=>{const P=typeof Q.type=="string"?Q.type:"";if(P==="markdown"&&typeof Q.markdown=="string")return Array.isArray(U.images)&&U.images.length>0&&String(Q.markdown).startsWith("![image](")?null:l.jsx(BJ,{markdown:String(Q.markdown),className:"prose prose-sm max-w-none"},G);if(P==="code"&&typeof Q.code=="string")return l.jsx($J,{language:typeof Q.language=="string"?Q.language:void 0,code:String(Q.code)},G);if(P==="table"){const ie=Array.isArray(Q.headers)?Q.headers.map(String):[],H=Array.isArray(Q.rows)?Q.rows.map(te=>Array.isArray(te)?te.map(String):[]):[];return l.jsx(HJ,{headers:ie,rows:H},G)}return null}),(()=>{const G=(Array.isArray(U.images)?U.images:[]).map(ie=>ie&&typeof ie=="object"?ie:null).filter(Boolean).map(ie=>typeof ie.url=="string"?String(ie.url):"").filter(Boolean);if(!G.length)return null;const P=typeof window<"u"?localStorage.getItem("token"):null;return l.jsx("div",{className:"pt-2 grid grid-cols-1 gap-3",children:G.map((ie,H)=>l.jsx("img",{src:P&&ie.startsWith("/api/ai/media/assets/")?`${ie}${ie.includes("?")?"&":"?"}token=${encodeURIComponent(P)}`:ie,alt:"image",loading:"lazy",decoding:"async",className:"w-full max-w-[720px] rounded-md border"},`${H}_${ie.slice(0,32)}`))})})(),(()=>{const Q=U.audio&&typeof U.audio=="object"?U.audio:null,G=U.video&&typeof U.video=="object"?U.video:null,P=Q&&typeof Q.data_url=="string"?String(Q.data_url):"",ie=G&&typeof G.data_url=="string"?String(G.data_url):"",H=typeof window<"u"?localStorage.getItem("token"):null,te=ae=>H&&ae.startsWith("/api/ai/media/assets/")?`${ae}${ae.includes("?")?"&":"?"}token=${encodeURIComponent(H)}`:ae;return ie?l.jsx("div",{className:"pt-2",children:l.jsx("video",{controls:!0,className:"w-full max-w-[720px] rounded-md border",src:te(ie)})}):P?l.jsx("div",{className:"pt-2",children:l.jsx("audio",{controls:!0,className:"w-full",src:te(P)})}):null})()]})}return l.jsx(l.Fragment,{children:F.content})})()}),l.jsxs("div",{className:"flex gap-3 items-center",children:[l.jsx(PR,{className:"size-4 cursor-pointer text-muted-foreground hover:text-foreground"}),l.jsx(AL,{className:"size-4 cursor-pointer text-muted-foreground hover:text-foreground"}),l.jsx(dL,{className:"size-4 cursor-pointer text-muted-foreground hover:text-foreground"}),l.jsxs("span",{className:"text-sm text-card-foreground",children:[": ",F.model||"-"]})]})]})]},F.id||`a_${W}`))})}),l.jsx("div",{className:"p-4 flex flex-col items-center gap-2 w-full",children:l.jsx(Sb,{variant:"compact",initialSelectedModel:V,initialProviderSlug:K,initialModelType:J,initialOptions:Z,autoSendPrompt:v?.input||null,sessionLanguage:q,conversationId:d,onConversationId:F=>{f(F),(async()=>{try{const W=yS(await N());u(W);const R=await A(F);m(R.map(_=>({id:_.id,role:_.role,content:_.content,contentJson:_.contentJson,model:_.model,providerSlug:_.providerSlug,providerLogoKey:_.providerLogoKey})));const U=[...R].reverse().find(_=>_.model)?.model;y(U)}catch{}finally{k(null)}})()},onMessage:F=>{if(F.role==="user"){I(!0),E(0);const W=`pending_${Date.now()}`;m(R=>[...R,{id:`u_${Date.now()}`,role:"user",content:F.content,contentJson:F.contentJson,model:F.model,providerSlug:F.providerSlug},{id:W,role:"assistant",content:"",providerSlug:F.providerSlug,model:F.model,providerLogoKey:null,isPending:!0}]);return}if(F.role==="assistant"){I(!1),D({id:`typing_${Date.now()}`,full:F.content,shown:""}),m(W=>{const R=[...W],U=[...R].reverse().findIndex(G=>G.role==="assistant"&&G.isPending),_=U>=0?R.length-1-U:-1,Q={role:"assistant",content:F.content,contentJson:F.contentJson,model:F.model,providerSlug:F.providerSlug,providerLogoKey:null};return _>=0?R[_]={...R[_],...Q,isPending:!1}:R.push({id:`a_${Date.now()}`,...Q}),R}),F.model&&y(F.model),(async()=>{try{const W=await N();u(W)}catch{}})();return}m(W=>[...W,{id:`${F.role}_${Date.now()}`,role:F.role,content:F.content,contentJson:F.contentJson,model:F.model,providerSlug:F.providerSlug,providerLogoKey:null}])}})})]})]})]})}function aX({className:e,...t}){return l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,...t,children:[l.jsx("path",{d:"M13.6689 5.82452C13.7345 5.82452 13.789 5.87469 13.7939 5.93976L13.999 8.79132C14.0042 8.86347 13.9466 8.92495 13.874 8.92511H7.98926C7.92022 8.92531 7.86426 8.98131 7.86426 9.05011V11.2366C7.86426 11.3054 7.92023 11.3614 7.98926 11.3616H13.2715C13.3407 11.3617 13.3965 11.4177 13.3965 11.4866V14.3382C13.3963 14.4069 13.3405 14.4622 13.2715 14.4622H7.98926C7.9203 14.4624 7.86438 14.5185 7.86426 14.5872V19.8753C7.8642 19.9441 7.80832 20.0002 7.73926 20.0003H4.125C4.05597 20.0001 4.00005 19.9441 4 19.8753V5.94952C4 5.8807 4.05594 5.82469 4.125 5.82452H13.6689Z",fill:"currentColor",className:e}),l.jsx("path",{d:"M19.1963 9.36847C19.2655 9.36847 19.3213 9.42454 19.3213 9.49347V19.8753C19.3212 19.9442 19.2655 20.0003 19.1963 20.0003H15.6104C15.5413 20.0002 15.4854 19.9441 15.4854 19.8753V9.49347C15.4854 9.42459 15.5412 9.36855 15.6104 9.36847H19.1963Z",fill:"currentColor",className:e}),l.jsx("path",{d:"M18.3691 3.00323C18.5096 2.98881 18.6516 3.01887 18.7744 3.08819C18.8971 3.15756 18.995 3.26357 19.0547 3.39093C19.1143 3.51828 19.1328 3.66088 19.1074 3.79913L18.9248 4.65558C18.8825 4.86086 18.889 5.07327 18.9434 5.27569C18.9977 5.47813 19.0987 5.66579 19.2383 5.82257L19.8184 6.46417C19.9157 6.56836 19.9777 6.70082 19.9951 6.8421C20.0125 6.98332 19.9841 7.12672 19.915 7.25128C19.846 7.3756 19.7394 7.47495 19.6104 7.53546C19.4811 7.59598 19.3356 7.61469 19.1953 7.58819L18.335 7.40655C18.13 7.36458 17.9181 7.37047 17.7158 7.42413C17.5134 7.4779 17.3259 7.5779 17.1689 7.71612L16.4805 8.3294C16.3742 8.40836 16.2466 8.45456 16.1143 8.46222C15.9819 8.46979 15.85 8.43869 15.7354 8.37237L15.7344 8.37335C15.6125 8.30375 15.5151 8.19807 15.4561 8.07061C15.3975 7.94347 15.3801 7.80118 15.4062 7.66339L15.5889 6.80792C15.6311 6.60247 15.6245 6.38943 15.5703 6.18683C15.5161 5.98433 15.4156 5.79704 15.2764 5.63995L14.6963 4.99835C14.602 4.89269 14.5431 4.76005 14.5283 4.61944C14.5136 4.47895 14.5431 4.33696 14.6133 4.21417C14.6835 4.0914 14.7911 3.99399 14.9199 3.93487C15.0488 3.87578 15.1928 3.85839 15.332 3.88507L16.1904 4.06964C16.3915 4.1071 16.5985 4.09886 16.7959 4.04522C16.9935 3.99149 17.1768 3.89336 17.3311 3.75909L17.9893 3.16827C18.0954 3.07532 18.2286 3.01771 18.3691 3.00323Z",fill:"currentColor",className:e})]})}function lX(){const e=ea(),{toggleTheme:t}=Iu(),[n,r]=b.useState(""),[i,s]=b.useState(""),[a,u]=b.useState(!1),d=b.useMemo(()=>"http://localhost:8000/api/v1",[]),f="http://localhost:3002/api/users",p=(y,v)=>{const k=N=>(N||"").toLowerCase(),j=k(y),C=k(v);return j==="admin"||C==="admin"||j.includes("admin")||C.includes("admin")},m=async()=>{if(!n||!i){alert("  .");return}u(!0);try{const y=await fetch(`${d}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,password:i})});if(!y.ok){const E=await y.json().catch(()=>({}));alert(E.message||" .");return}const v=await y.json(),k=v.token,j=v.user;if(!k||!j?.id){alert("    .");return}const C=await fetch(`${f}?limit=1&search=${encodeURIComponent(n)}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${k}`}});if(!C.ok){const E=await C.json().catch(()=>({}));alert(E.message||"   .");return}const A=(await C.json()).users?.[0],z=A?.role_name,I=A?.role_slug;if(!p(z,I)){alert("  .   .");return}const T=Date.now()+3600*1e3;localStorage.setItem("token",k),localStorage.setItem("token_expires_at",T.toString()),localStorage.setItem("user_email",j.email||n),localStorage.setItem("user_id",j.id),e("/admin/dashboard")}catch(y){console.error("Admin login error",y),alert("   .")}finally{u(!1)}},x=()=>{e("/")};return l.jsxs("div",{className:"bg-background relative w-full h-screen flex flex-col",children:[l.jsx("div",{className:"flex justify-end items-center px-6 py-4",children:l.jsx("div",{className:"size-4 cursor-pointer relative flex items-center justify-center text-foreground",onClick:t,children:l.jsx(Om,{className:"size-full"})})}),l.jsx("div",{className:"flex-1 flex flex-col items-center justify-center pb-6 px-6",children:l.jsxs("div",{className:"flex flex-col gap-6 items-center w-[384px]",children:[l.jsxs("div",{className:"flex flex-col gap-7 items-center w-full",children:[l.jsxs("div",{className:"flex flex-col gap-2 items-center",children:[l.jsx("p",{className:"font-black text-4xl text-primary leading-10",children:"reduct"}),l.jsx("p",{className:"font-semibold text-xl text-foreground leading-7 whitespace-pre-wrap text-center",children:"Welcome to reduct Admin page"})]}),l.jsxs("div",{className:"flex flex-col gap-6 w-full",children:[l.jsxs("div",{className:"flex flex-col gap-3 w-full",children:[l.jsx("label",{className:"text-sm text-left font-medium text-foreground",children:"Email"}),l.jsx(Re,{type:"email",placeholder:"m@example.com",className:"h-9",value:n,onChange:y=>r(y.target.value)})]}),l.jsxs("div",{className:"flex flex-col gap-3 w-full",children:[l.jsx("label",{className:"text-sm text-left font-medium text-foreground",children:"Password"}),l.jsx(Re,{type:"password",className:"h-9",value:i,onChange:y=>s(y.target.value),onKeyDown:y=>{y.key==="Enter"&&(y.preventDefault(),m())}})]}),l.jsx(xe,{className:"w-full h-9 text-sm font-medium",onClick:m,disabled:a,children:a?"Logging in...":"Login"})]}),l.jsxs(xe,{variant:"outline",className:"w-full h-9 flex items-center justify-center gap-2",onClick:x,children:[l.jsx(Vd,{className:"size-5"}),l.jsx("span",{className:"text-sm font-medium",children:"Go to the User Page"})]})]}),l.jsxs("div",{className:"flex flex-col items-center text-center text-muted-foreground text-xs leading-4",children:[l.jsx("p",{children:"Copyright (c) 2025 reduct"}),l.jsx("p",{children:"All rights reserved."})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Vd,{className:"relative shrink-0 size-[24px]"}),l.jsx(W_,{className:"relative shrink-0 size-[24px]"}),l.jsx(Y_,{className:"relative shrink-0 size-[24px]"}),l.jsx(J_,{className:"relative shrink-0 size-[24px]"}),l.jsx(X_,{className:"relative shrink-0 size-[24px]"}),l.jsx(Z_,{className:"relative shrink-0 size-[24px]"}),l.jsx(qy,{className:"relative shrink-0 size-[24px]"}),l.jsx(tN,{className:"relative shrink-0 size-[24px]"}),l.jsx(aX,{className:"relative shrink-0 size-[24px]"}),l.jsx(eN,{className:"relative shrink-0 size-[24px]"}),l.jsx(Q_,{className:"relative shrink-0 size-[24px]"}),l.jsx(nN,{className:"relative shrink-0 size-[24px]"}),l.jsx(qy,{className:"relative shrink-0 size-[24px]"}),l.jsx(K_,{className:"relative shrink-0 size-[24px]"}),l.jsx(rN,{className:"relative shrink-0 size-[24px]"})]})]})})]})}const Bp=[{title:"",items:[{title:"",icon:YR,href:"/admin"}]},{title:"",items:[{title:"  ",icon:NL,items:[{title:" ",href:"/admin/users"},{title:" ",href:"/admin/tenants"},{title:"   ",href:"/admin/roles"}]},{title:"AI ",icon:Ay,items:[{title:"AI (Providers)",href:"/admin/ai/providers"},{title:"AI API Key(Credentials)",href:"/admin/ai/credentials"},{title:"AI  ",href:"/admin/ai/models"},{title:"  ",href:"/admin/ai/model-access"},{title:" ",href:"/admin/ai/prompt-templates"},{title:" (Prompt Suggestions)",href:"/admin/ai/prompt-suggestions"},{title:" (Response Schemas)",href:"/admin/ai/response-schemas"},{title:" API (Model API Profiles)",href:"/admin/ai/model-api-profiles"},{title:"Provider  (Auth Profiles)",href:"/admin/ai/provider-auth-profiles"},{title:"  ",href:"/admin/ai/model-routing-rules"},{title:"  ",href:"/admin/ai/model-usage-logs"}]},{title:" ",icon:RR,items:[{title:"  "},{title:" /"},{title:"  "},{title:"/  "}]},{title:"  ",icon:TL,items:[{title:"  "},{title:" "},{title:" (Transactions)"},{title:"(Invoices)"}]},{title:"CMS / ",icon:Dy,items:[{title:"/ "},{title:" "},{title:"/ "}]}]},{title:"",items:[{title:" ",icon:Nd,items:[{title:"(Services) "},{title:" "},{title:" (Audit)"}]},{title:"(i18n)",icon:$R,items:[{title:"  ",href:"/admin/i18n/languages"},{title:" ",href:"/admin/i18n/namespaces"},{title:"  ",href:"/admin/i18n/translations"},{title:" ",href:"/admin/i18n/history"}]}]}];function oX({className:e}){const[t,n]=b.useState(!0),r=ea(),i=Mi(),[s,a]=b.useState(!1),[u,d]=b.useState(!1),[f,p]=b.useState(!1),[m,x]=b.useState(!1),[y,v]=b.useState(!1),{theme:k}=Iu(),[j,C]=b.useState({});b.useEffect(()=>{Bp.forEach(L=>{L.items.forEach(D=>{D.items&&D.items.some(K=>K.href===i.pathname)&&C(K=>({...K,[D.title]:!0}))})})},[i.pathname]),b.useEffect(()=>{const L=()=>{p(window.innerWidth<768),window.innerWidth<768&&n(!0)};return L(),window.addEventListener("resize",L),()=>window.removeEventListener("resize",L)},[]);const N={name:"",role:"",initial:"",email:"admin@reductai.com"},A=()=>{localStorage.removeItem("token"),localStorage.removeItem("token_expires_at"),localStorage.removeItem("user_email"),localStorage.removeItem("user_id"),r("/admin/login")},z=L=>{t||n(!0),C(D=>({...D,[L]:!D[L]}))},I=L=>{L&&(r(L),f&&d(!1))},T=L=>L?!!(L==="/admin"&&i.pathname==="/admin"||L!=="/admin"&&i.pathname.startsWith(L)):!1,E=L=>L===i.pathname,M=()=>l.jsxs(t9,{className:"w-64 p-1 mx-2 z-[100]",align:"start",side:"bottom",sideOffset:8,children:[l.jsxs("div",{className:"flex flex-col gap-1 px-1 py-1",children:[l.jsxs("div",{className:"flex gap-2 items-center px-2 py-1.5 rounded-sm",children:[l.jsx("div",{className:"size-10 bg-teal-500 rounded-lg flex items-center justify-center shrink-0",children:l.jsx("span",{className:"text-white font-semibold text-lg",children:N.initial})}),l.jsx("div",{className:"flex flex-col flex-1 min-w-0",children:l.jsx("p",{className:"text-lg font-bold text-popover-foreground truncate",children:N.name})})]}),l.jsxs("div",{className:"flex gap-1 items-center px-2 py-1.5 rounded-sm",children:[l.jsx(rj,{className:"size-4 text-muted-foreground shrink-0"}),l.jsx("p",{className:"text-xs text-muted-foreground truncate",children:N.email})]}),l.jsx("div",{className:"flex gap-1 items-center px-2 py-1.5 rounded-sm",children:l.jsx("div",{className:"flex gap-1 items-center flex-wrap",children:l.jsx(vt,{variant:"outline",className:"h-[22px] px-2.5 py-0.5 text-xs font-medium",children:N.role})})})]}),l.jsx(Xa,{className:"my-2"}),l.jsxs("div",{className:"flex flex-col gap-0 px-1",children:[l.jsxs("div",{className:"flex gap-2 h-8 items-center px-2 py-1.5 rounded-sm cursor-pointer hover:bg-accent transition-colors",children:[l.jsx(Nd,{className:"size-4 text-popover-foreground shrink-0"}),l.jsx("p",{className:"text-sm text-popover-foreground flex-1",children:" "})]}),l.jsxs("div",{className:"flex gap-2 h-8 items-center px-2 py-1.5 rounded-sm cursor-pointer hover:bg-accent transition-colors",children:[l.jsx(ij,{className:"size-4 text-popover-foreground shrink-0"}),l.jsx("p",{className:"text-sm text-popover-foreground flex-1",children:" "})]})]}),l.jsx(Xa,{className:"my-2"}),l.jsxs("div",{className:"flex flex-col gap-0 px-1",children:[l.jsxs("div",{className:"flex gap-2 h-8 items-center px-2 py-1.5 rounded-sm cursor-pointer hover:bg-accent transition-colors",children:[l.jsxs("div",{className:"flex gap-1 items-center flex-1",children:[k==="dark"?l.jsx(tj,{className:"size-4 text-popover-foreground shrink-0"}):l.jsx(nj,{className:"size-4 text-popover-foreground shrink-0"}),l.jsx("p",{className:"text-sm text-popover-foreground",children:"Light"})]}),l.jsx(ms,{className:"size-4 text-popover-foreground shrink-0"})]}),l.jsxs("div",{className:"flex gap-2 h-8 items-center px-2 py-1.5 rounded-sm cursor-pointer hover:bg-accent transition-colors",children:[l.jsxs("div",{className:"flex gap-1 items-center flex-1",children:[l.jsx("span",{className:"text-sm",children:""}),l.jsx("p",{className:"text-sm text-popover-foreground",children:""})]}),l.jsx(ms,{className:"size-4 text-popover-foreground shrink-0"})]})]}),l.jsx(Xa,{className:"my-2"}),l.jsx("div",{className:"flex flex-col gap-0 px-1 pb-1",children:l.jsxs("div",{className:"flex gap-2 h-8 items-center px-2 py-1.5 rounded-sm cursor-pointer hover:bg-accent transition-colors",onClick:A,children:[l.jsx(Q8,{className:"size-4 text-popover-foreground shrink-0"}),l.jsx("p",{className:"text-sm text-popover-foreground flex-1",children:"Log out"})]})})]});return f&&!u?l.jsxs("div",{className:"md:hidden fixed top-0 left-0 right-0 h-[56px] bg-background border-b border-border flex items-center justify-between px-3 z-50",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"size-6 cursor-pointer flex items-center justify-center",onClick:()=>d(!0),children:l.jsx(ej,{className:"size-6"})}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("p",{className:"font-black text-base leading-6 text-primary",children:"reduct"}),l.jsx("p",{className:"font-normal text-base leading-6 text-primary",children:"admin"})]})]}),l.jsxs(xu,{open:y,onOpenChange:v,children:[l.jsx(yu,{asChild:!0,children:l.jsx("div",{className:"size-8 bg-teal-500 rounded-md flex items-center justify-center shrink-0 cursor-pointer",children:l.jsx("span",{className:"text-white font-bold text-bsae",children:N.initial})})}),l.jsx(M,{})]})]}):f&&u?l.jsxs("div",{className:"fixed inset-0 z-50 bg-background flex flex-col",children:[l.jsxs("div",{className:"h-[56px] flex items-center justify-between px-3 border-b border-border shrink-0",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"size-6 cursor-pointer flex items-center justify-center",onClick:()=>d(!1),children:l.jsx(J2,{className:"size-6"})}),l.jsx("p",{className:"font-black text-base text-foreground",children:"menu"})]}),l.jsxs(xu,{open:y,onOpenChange:v,children:[l.jsx(yu,{asChild:!0,children:l.jsx("div",{className:"size-8 bg-teal-500 rounded-md flex items-center justify-center shrink-0 cursor-pointer",children:l.jsx("span",{className:"text-white font-bold text-base",children:N.initial})})}),l.jsx(M,{})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-2 bg-background",children:Bp.map((L,D)=>l.jsxs("div",{className:Ae("flex flex-col",D>0&&"mt-4"),children:[L.title!==""&&l.jsx("div",{className:"px-2 pb-1 opacity-70",children:l.jsx("p",{className:"text-sm text-left font-medium text-sidebar-foreground",children:L.title})}),L.items.map((V,K)=>l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsxs("div",{className:Ae("flex items-center gap-2 p-2 h-10 rounded-md cursor-pointer hover:bg-accent/50 transition-colors",T(V.href)&&"bg-accent text-accent-foreground font-medium"),onClick:()=>V.items?z(V.title):I(V.href),children:[l.jsx("div",{className:"size-5 relative shrink-0 flex items-center justify-center text-sidebar-foreground",children:l.jsx(V.icon,{className:"size-full"})}),l.jsx("span",{className:"flex-1 text-base text-sidebar-foreground text-left",children:V.title}),V.items&&l.jsx(Su,{className:Ae("size-5 text-sidebar-foreground transition-transform",j[V.title]&&"rotate-180")})]}),V.items&&j[V.title]&&l.jsx("div",{className:"pl-9 pr-2 py-0.5 flex flex-col gap-1",children:V.items.map((J,Z)=>l.jsx("div",{className:Ae("flex items-center h-9 px-2 rounded-md hover:bg-accent/50 cursor-pointer",E(J.href)&&"bg-accent text-accent-foreground font-medium"),onClick:()=>I(J.href),children:l.jsx("span",{className:"text-base text-sidebar-foreground truncate",children:J.title})},Z))})]},K))]},D))})]}):l.jsxs("div",{className:Ae("bg-sidebar border-r border-sidebar-border h-full flex flex-col shrink-0 transition-all duration-300 ease-in-out hidden md:flex",t?"w-[200px]":"w-[50px]",e),children:[l.jsx("div",{className:"flex flex-col gap-2 p-2 pt-3.5",children:l.jsxs("div",{className:Ae("flex items-center h-8 px-2",t?"justify-between":"justify-center"),children:[t&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("p",{className:"font-black text-base leading-6 text-primary",children:"reduct"}),l.jsx("p",{className:"font-normal text-base leading-6 text-primary",children:"admin"})]}),l.jsx("div",{className:Ae("cursor-pointer relative flex items-center justify-center text-sidebar-foreground",t?"size-4":"size-8"),onClick:()=>n(!t),onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:t?l.jsx(Xp,{className:"w-4 h-4"}):s?l.jsx(Xp,{className:"w-4 h-4 rotate-180 transition-transform"}):l.jsx(Vd,{className:"w-8 h-8"})})]})}),l.jsx("div",{className:Ae("p-2",!t&&"flex justify-center"),children:l.jsxs(xu,{open:m,onOpenChange:x,children:[l.jsx(yu,{asChild:!0,children:l.jsx("div",{className:Ae("flex items-center gap-2 p-2 rounded-md hover:bg-accent/50 transition-colors cursor-pointer",!t&&"justify-center p-0"),children:t?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"size-10 bg-teal-500 rounded-lg flex items-center justify-center shrink-0",children:l.jsx("span",{className:"text-white font-semibold text-lg",children:N.initial})}),l.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm text-left font-semibold text-sidebar-foreground truncate",children:N.name}),l.jsx("div",{className:"flex items-center text-xs text-muted-foreground",children:l.jsx("span",{children:N.role})})]}),l.jsx("div",{className:"size-4 relative shrink-0 flex items-center justify-center text-sidebar-foreground",children:l.jsx(Z8,{className:"size-full"})})]}):l.jsx("div",{className:"size-8 bg-teal-500 rounded-md flex items-center justify-center shrink-0",children:l.jsx("span",{className:"text-white font-semibold text-base",children:N.initial})})})}),l.jsx(M,{})]})}),l.jsx("div",{className:"flex flex-col p-2 gap-1 overflow-y-auto flex-1",children:Bp.map((L,D)=>l.jsxs("div",{className:Ae("flex flex-col",D>0&&"mt-4"),children:[t&&L.title!==""&&l.jsx("div",{className:"px-2 pb-1 opacity-70",children:l.jsx("p",{className:"text-xs text-left font-medium text-sidebar-foreground",children:L.title})}),L.items.map((V,K)=>l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsxs("div",{className:Ae("flex items-center gap-2 p-2 h-8 rounded-md cursor-pointer hover:bg-accent/50 transition-colors",!t&&"justify-center",T(V.href)&&"bg-accent text-accent-foreground font-medium"),onClick:()=>V.items?z(V.title):r(V.href||"#"),children:[l.jsx("div",{className:"size-4 relative shrink-0 flex items-center justify-center text-sidebar-foreground",children:l.jsx(V.icon,{className:"size-full"})}),t&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"flex-1 text-sm text-sidebar-foreground text-left",children:V.title}),V.items&&l.jsx(Su,{className:Ae("size-4 text-sidebar-foreground transition-transform",j[V.title]&&"rotate-180")})]})]}),t&&V.items&&j[V.title]&&l.jsx("div",{className:"px-2 py-0.5 border-l border-sidebar-border ml-3.5 flex flex-col gap-1 animate-in slide-in-from-top-1 duration-200",children:V.items.map((J,Z)=>l.jsx("div",{className:Ae("flex items-center h-7 px-2 rounded-md hover:bg-accent cursor-pointer",E(J.href)&&"bg-accent text-accent-foreground font-medium"),onClick:()=>r(J.href||"#"),children:l.jsx("span",{className:"text-sm text-sidebar-foreground truncate",children:J.title})},Z))})]},K))]},D))})]})}const y7=b.createContext(void 0);function uX({children:e}){const[t,n]=b.useState(null),[r,i]=b.useState("");return l.jsx(y7.Provider,{value:{action:t,setAction:n,title:r,setTitle:i},children:e})}function Gi(){const e=b.useContext(y7);if(!e)throw new Error("useAdminHeaderActionContext must be used within AdminHeaderActionProvider");return e}function cX(){const{toggleTheme:e}=Iu(),t=Mi(),[n,r]=b.useState("Dashboard"),{action:i,title:s}=Gi();b.useEffect(()=>{let u="Dashboard";for(const d of Bp)for(const f of d.items){if(f.href===t.pathname){u=f.title;break}if(f.items){const p=f.items.find(m=>m.href===t.pathname);if(p){u=`${f.title} > ${p.title}`;break}}}r(u)},[t.pathname]);const a=s||n;return l.jsxs("div",{className:"h-[60px] flex items-center justify-between px-6 shrink-0",children:[l.jsx("nav",{"aria-label":"Breadcrumb",className:"flex items-center gap-2 text-sm text-muted-foreground",children:a.split(" > ").map((u,d,f)=>l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx("span",{className:d===f.length-1?"text-foreground font-semibold":"",children:u}),d<f.length-1&&l.jsx("span",{className:"text-border",children:"/"})]},u))}),l.jsxs("div",{className:"flex items-center gap-4",children:[i,l.jsx("div",{className:"size-4 cursor-pointer relative flex items-center justify-center text-foreground",onClick:e,children:l.jsx(Om,{className:"size-full"})})]})]})}function dX(){const e=ea();return b.useEffect(()=>{const t=localStorage.getItem("token"),n=Number(localStorage.getItem("token_expires_at")||0),r=!n||Date.now()>n;(!t||r)&&(localStorage.removeItem("token"),localStorage.removeItem("token_expires_at"),localStorage.removeItem("user_email"),localStorage.removeItem("user_id"),alert("    .  ."),e("/admin/login",{replace:!0}))},[e]),l.jsxs("div",{className:"bg-background flex w-full h-screen overflow-hidden",children:[l.jsx(oX,{}),l.jsx(uX,{children:l.jsxs("div",{className:"flex flex-col flex-1 h-full min-w-0",children:[l.jsx(cX,{}),l.jsx("div",{className:"flex-1 overflow-auto p-6 pt-1 bg-background",children:l.jsx(H8,{})})]})})]})}function fX(){return l.jsx("div",{className:"flex flex-col items-center justify-center h-full",children:l.jsx("div",{className:"w-[800px] flex items-center justify-center text-muted-foreground text-xs text-center",children:l.jsx("p",{children:"Contents"})})})}function sr({className:e,...t}){return l.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:l.jsx("table",{"data-slot":"table",className:Ae("w-full caption-bottom text-sm",e),...t})})}function ar({className:e,...t}){return l.jsx("thead",{"data-slot":"table-header",className:Ae("[&_tr]:border-b",e),...t})}function lr({className:e,...t}){return l.jsx("tbody",{"data-slot":"table-body",className:Ae("[&_tr:last-child]:border-0",e),...t})}function qe({className:e,...t}){return l.jsx("tr",{"data-slot":"table-row",className:Ae("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function ve({className:e,...t}){return l.jsx("th",{"data-slot":"table-head",className:Ae("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function ce({className:e,...t}){return l.jsx("td",{"data-slot":"table-cell",className:Ae("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}var d0="Switch",[hX,noe]=ci(d0),[pX,mX]=hX(d0),b7=b.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:a,disabled:u,value:d="on",onCheckedChange:f,form:p,...m}=e,[x,y]=b.useState(null),v=At(t,A=>y(A)),k=b.useRef(!1),j=x?p||!!x.closest("form"):!0,[C,N]=$i({prop:i,defaultProp:s??!1,onChange:f,caller:d0});return l.jsxs(pX,{scope:n,checked:C,disabled:u,children:[l.jsx(St.button,{type:"button",role:"switch","aria-checked":C,"aria-required":a,"data-state":S7(C),"data-disabled":u?"":void 0,disabled:u,value:d,...m,ref:v,onClick:Pe(e.onClick,A=>{N(z=>!z),j&&(k.current=A.isPropagationStopped(),k.current||A.stopPropagation())})}),j&&l.jsx(k7,{control:x,bubbles:!k.current,name:r,value:d,checked:C,required:a,disabled:u,form:p,style:{transform:"translateX(-100%)"}})]})});b7.displayName=d0;var v7="SwitchThumb",w7=b.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=mX(v7,n);return l.jsx(St.span,{"data-state":S7(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});w7.displayName=v7;var gX="SwitchBubbleInput",k7=b.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...i},s)=>{const a=b.useRef(null),u=At(a,s),d=Fm(n),f=Bm(t);return b.useEffect(()=>{const p=a.current;if(!p)return;const m=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(m,"checked").set;if(d!==n&&y){const v=new Event("click",{bubbles:r});y.call(p,n),p.dispatchEvent(v)}},[d,n,r]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:u,style:{...i.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});k7.displayName=gX;function S7(e){return e?"checked":"unchecked"}var xX=b7,yX=w7;function Wn({className:e,...t}){return l.jsx(xX,{"data-slot":"switch",className:Ae("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:l.jsx(yX,{"data-slot":"switch-thumb",className:Ae("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}const ap="http://localhost:3006/api/i18n/languages";function bX(){const{setAction:e}=Gi(),[t,n]=b.useState([]),[r,i]=b.useState(!0),[s,a]=b.useState(!1),[u,d]=b.useState(null),[f,p]=b.useState({code:"",name:"",native_name:"",direction:"ltr",is_active:!0,is_default:!1,flag_emoji:"",display_order:0}),m=()=>{const C=localStorage.getItem("token"),N={};return C&&(N.Authorization=`Bearer ${C}`),N};b.useEffect(()=>{x()},[]);const x=async()=>{try{const C=await fetch(ap,{headers:{...m()}});if(C.ok){const N=await C.json();n(N)}}catch(C){console.error("Failed to fetch languages",C)}finally{i(!1)}},y=()=>{d(null),p({code:"",name:"",native_name:"",direction:"ltr",is_active:!0,is_default:!1,flag_emoji:"",display_order:0}),a(!0)};b.useEffect(()=>(e(l.jsxs(xe,{onClick:y,size:"sm",children:[l.jsx(Rn,{className:"mr-2 h-4 w-4"}),"  "]})),()=>e(null)),[e]);const v=C=>{d(C),p(C),a(!0)},k=async C=>{if(confirm(" ?"))try{(await fetch(`${ap}/${C}`,{method:"DELETE",headers:{...m()}})).ok&&x()}catch(N){console.error("Failed to delete language",N)}},j=async()=>{try{const C=u?"PUT":"POST",N=u?`${ap}/${u.id}`:ap;(await fetch(N,{method:C,headers:{"Content-Type":"application/json",...m()},body:JSON.stringify(f)})).ok&&(a(!1),x())}catch(C){console.error("Failed to save language",C)}};return l.jsxs("div",{className:"space-y-4 bg-background",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("div",{children:l.jsx("p",{className:"text-muted-foreground",children:"    ."})})}),l.jsx("div",{className:"border rounded-md",children:l.jsxs(sr,{children:[l.jsx(ar,{children:l.jsxs(qe,{children:[l.jsx(ve,{className:"w-[100px]",children:""}),l.jsx(ve,{children:""}),l.jsx(ve,{children:" "}),l.jsx(ve,{children:""}),l.jsx(ve,{children:""}),l.jsx(ve,{children:""}),l.jsx(ve,{children:""}),l.jsx(ve,{children:""}),l.jsx(ve,{className:"text-right",children:""})]})}),l.jsx(lr,{children:r?l.jsx(qe,{children:l.jsx(ce,{colSpan:9,className:"h-24 text-center",children:l.jsx(Pt,{className:"h-6 w-6 animate-spin mx-auto"})})}):t.length===0?l.jsx(qe,{children:l.jsx(ce,{colSpan:9,className:"h-24 text-center",children:"  ."})}):t.map(C=>l.jsxs(qe,{children:[l.jsx(ce,{className:"font-medium",children:C.code}),l.jsx(ce,{children:C.name}),l.jsx(ce,{children:C.native_name}),l.jsx(ce,{className:"text-2xl",children:C.flag_emoji}),l.jsx(ce,{children:C.direction.toUpperCase()}),l.jsx(ce,{children:C.display_order}),l.jsx(ce,{children:l.jsx("div",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 ${C.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:C.is_active?"Active":"Inactive"})}),l.jsx(ce,{children:C.is_default&&l.jsx("div",{className:"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground",children:"Default"})}),l.jsx(ce,{className:"text-right",children:l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(xe,{variant:"ghost",size:"icon",onClick:()=>v(C),children:l.jsx(zr,{className:"h-4 w-4"})}),l.jsx(xe,{variant:"ghost",size:"icon",onClick:()=>k(C.id),children:l.jsx(yr,{className:"h-4 w-4 text-destructive"})})]})})]},C.id))})]})}),l.jsx(Yn,{open:s,onOpenChange:a,children:l.jsxs(Kn,{className:"sm:max-w-[425px]",children:[l.jsxs(Jn,{children:[l.jsx(Xn,{children:u?" ":" "}),l.jsx(vr,{children:"   ."})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"code",className:"text-right",children:""}),l.jsx(Re,{id:"code",value:f.code,onChange:C=>p({...f,code:C.target.value}),className:"col-span-3",placeholder:"Ex: ko, en"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"name",className:"text-right",children:""}),l.jsx(Re,{id:"name",value:f.name,onChange:C=>p({...f,name:C.target.value}),className:"col-span-3",placeholder:"Ex: Korean"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"native_name",className:"text-right",children:" "}),l.jsx(Re,{id:"native_name",value:f.native_name,onChange:C=>p({...f,native_name:C.target.value}),className:"col-span-3",placeholder:"Ex: "})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"flag_emoji",className:"text-right",children:""}),l.jsx(Re,{id:"flag_emoji",value:f.flag_emoji,onChange:C=>p({...f,flag_emoji:C.target.value}),className:"col-span-3",placeholder:"Ex: "})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"direction",className:"text-right",children:""}),l.jsxs(rt,{value:f.direction,onValueChange:C=>p({...f,direction:C}),children:[l.jsx(st,{className:"col-span-3",children:l.jsx(it,{placeholder:"Select direction"})}),l.jsxs(at,{children:[l.jsx(ye,{value:"ltr",children:"LTR (Left to Right)"}),l.jsx(ye,{value:"rtl",children:"RTL (Right to Left)"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"display_order",className:"text-right",children:" "}),l.jsx(Re,{id:"display_order",type:"number",value:f.display_order,onChange:C=>p({...f,display_order:parseInt(C.target.value)}),className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"is_active",className:"text-right",children:" "}),l.jsx("div",{className:"flex items-center space-x-2 col-span-3",children:l.jsx(Wn,{id:"is_active",checked:f.is_active,onCheckedChange:C=>p({...f,is_active:C})})})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"is_default",className:"text-right",children:" "}),l.jsx("div",{className:"flex items-center space-x-2 col-span-3",children:l.jsx(Wn,{id:"is_default",checked:f.is_default,onCheckedChange:C=>p({...f,is_default:C})})})]})]}),l.jsx(br,{children:l.jsx(xe,{onClick:j,children:""})})]})})]})}const lp="http://localhost:3006/api/i18n/namespaces";function vX(){const{setAction:e,setTitle:t}=Gi(),[n,r]=b.useState([]),[i,s]=b.useState(!0),[a,u]=b.useState(!1),[d,f]=b.useState(null),[p,m]=b.useState(""),[x,y]=b.useState({page:1,limit:10,total:0,totalPages:0}),[v,k]=b.useState({name:"",description:"",service_name:"",is_system:!1}),j=()=>{const T=localStorage.getItem("token"),E={};return T&&(E.Authorization=`Bearer ${T}`),E};b.useEffect(()=>{t("(i18n) >  "),C()},[x.page,p]);const C=async()=>{s(!0);try{const T=new URLSearchParams({page:x.page.toString(),limit:x.limit.toString(),search:p}),E=await fetch(`${lp}?${T}`,{headers:{...j()}});if(E.ok){const M=await E.json();r(M.namespaces),y(M.pagination)}else{const M=await E.json();alert(`  : ${M.message||E.statusText}`)}}catch(T){console.error("Failed to fetch namespaces",T),alert("    .")}finally{s(!1)}},N=()=>{f(null),k({name:"",description:"",service_name:"",is_system:!1}),u(!0)};b.useEffect(()=>(e(l.jsxs(xe,{onClick:N,size:"sm",children:[l.jsx(Rn,{className:"mr-2 h-4 w-4"}),"  "]})),()=>e(null)),[e]);const A=T=>{f(T),k({name:T.name,description:T.description||"",service_name:T.service_name||"",is_system:T.is_system}),u(!0)},z=async(T,E)=>{if(E){alert("    .");return}if(confirm(" ?       ."))try{const M=await fetch(`${lp}/${T}`,{method:"DELETE",headers:{...j()}});if(M.ok)C();else{const L=await M.json();alert(` : ${L.message||M.statusText}`)}}catch(M){console.error("Failed to delete namespace",M),alert("    .")}},I=async()=>{try{const T=d?"PUT":"POST",E=d?`${lp}/${d.id}`:lp,M=await fetch(E,{method:T,headers:{"Content-Type":"application/json",...j()},body:JSON.stringify(v)});if(M.ok)u(!1),C();else{const L=await M.json();alert(` : ${L.message||M.statusText}`)}}catch(T){console.error("Failed to save namespace",T),alert("    .")}};return l.jsxs("div",{className:"space-y-4 bg-background",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("div",{children:l.jsx("p",{className:"text-muted-foreground",children:"     ."})})}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs("form",{onSubmit:T=>{T.preventDefault(),y(E=>({...E,page:1}))},className:"flex gap-2",children:[l.jsx(Re,{placeholder:",    ...",value:p,onChange:T=>m(T.target.value),className:"w-[300px]"}),l.jsxs(xe,{type:"submit",variant:"secondary",children:[l.jsx(ws,{className:"h-4 w-4 mr-2"})," "]})]})}),l.jsx("div",{className:"border rounded-md",children:l.jsxs(sr,{children:[l.jsx(ar,{children:l.jsxs(qe,{children:[l.jsx(ve,{children:""}),l.jsx(ve,{children:""}),l.jsx(ve,{children:""}),l.jsx(ve,{children:""}),l.jsx(ve,{children:""}),l.jsx(ve,{className:"text-right",children:""})]})}),l.jsx(lr,{children:i?l.jsx(qe,{children:l.jsx(ce,{colSpan:6,className:"h-24 text-center",children:l.jsx(Pt,{className:"h-6 w-6 animate-spin mx-auto"})})}):n.length===0?l.jsx(qe,{children:l.jsx(ce,{colSpan:6,className:"h-24 text-center",children:"  ."})}):n.map(T=>l.jsxs(qe,{children:[l.jsx(ce,{className:"font-medium",children:T.name}),l.jsx(ce,{children:T.service_name?l.jsx(vt,{variant:"outline",children:T.service_name}):"-"}),l.jsx(ce,{className:"text-muted-foreground",children:T.description}),l.jsx(ce,{children:T.is_system&&l.jsx(vt,{variant:"secondary",children:"System"})}),l.jsx(ce,{className:"text-xs text-muted-foreground",children:new Date(T.created_at).toLocaleDateString()}),l.jsx(ce,{className:"text-right",children:l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(xe,{variant:"ghost",size:"icon",onClick:()=>A(T),children:l.jsx(zr,{className:"h-4 w-4"})}),l.jsx(xe,{variant:"ghost",size:"icon",onClick:()=>z(T.id,T.is_system),disabled:T.is_system,className:T.is_system?"opacity-50 cursor-not-allowed":"",children:l.jsx(yr,{className:"h-4 w-4 text-destructive"})})]})})]},T.id))})]})}),l.jsxs("div",{className:"flex items-center justify-end space-x-2 py-4",children:[l.jsx(xe,{variant:"outline",size:"sm",onClick:()=>y(T=>({...T,page:T.page-1})),disabled:x.page<=1,children:""}),l.jsxs("div",{className:"text-sm font-medium",children:[" ",x.page," / ",x.totalPages||1]}),l.jsx(xe,{variant:"outline",size:"sm",onClick:()=>y(T=>({...T,page:T.page+1})),disabled:x.page>=x.totalPages,children:""})]}),l.jsx(Yn,{open:a,onOpenChange:u,children:l.jsxs(Kn,{className:"sm:max-w-[500px]",children:[l.jsxs(Jn,{children:[l.jsx(Xn,{children:d?" ":" "}),l.jsx(vr,{children:"  .     ."})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"name",className:"text-right",children:""}),l.jsx(Re,{id:"name",value:v.name,onChange:T=>k({...v,name:T.target.value}),className:"col-span-3",placeholder:": common, auth",disabled:!!d&&d.is_system})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"service_name",className:"text-right",children:""}),l.jsx(Re,{id:"service_name",value:v.service_name,onChange:T=>k({...v,service_name:T.target.value}),className:"col-span-3",placeholder:": auth-service"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"description",className:"text-right",children:""}),l.jsx(Re,{id:"description",value:v.description,onChange:T=>k({...v,description:T.target.value}),className:"col-span-3",placeholder:" "})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"is_system",className:"text-right",children:" "}),l.jsxs("div",{className:"flex items-center space-x-2 col-span-3",children:[l.jsx(Wn,{id:"is_system",checked:v.is_system,onCheckedChange:T=>k({...v,is_system:T}),disabled:d?.is_system}),l.jsx(be,{htmlFor:"is_system",className:"text-sm text-muted-foreground",children:"   ( )"})]})]})]}),l.jsx(br,{children:l.jsx(xe,{onClick:I,children:""})})]})})]})}const wX=(e,t,n)=>{const r=t.find(a=>a.is_default)?.code||t[0]?.code||"en",i=n||r,s={};return e.forEach(a=>{const u=`${a.namespace_name}.${a.key}`,d=a.translations[i]||a.translations[r];d&&(s[u]=d)}),s},op=(e,t,n)=>e[t]??n,tu="http://localhost:3006/api/i18n";function kX(){const{setAction:e,setTitle:t}=Gi(),[n,r]=b.useState([]),[i,s]=b.useState([]),[a,u]=b.useState([]),[d,f]=b.useState(!0),[p,m]=b.useState({}),[x,y]=b.useState(""),[v,k]=b.useState(""),[j,C]=b.useState("all"),[N,A]=b.useState({page:1,limit:20,total:0,totalPages:0}),[z,I]=b.useState(!1),[T,E]=b.useState({namespace_id:"",key:"",description:""}),[M,L]=b.useState({}),[D,V]=b.useState(null),K=()=>{const R=localStorage.getItem("token");return R?{Authorization:`Bearer ${R}`}:{}};b.useEffect(()=>{t("(i18n) >   "),J()},[]),b.useEffect(()=>{Z()},[N.page,v,j]),b.useEffect(()=>(e(l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(xe,{onClick:()=>I(!0),size:"sm",children:[l.jsx(Rn,{className:"mr-2 h-4 w-4"}),"  "]}),l.jsxs(rt,{value:x,onValueChange:y,children:[l.jsx(st,{className:"w-[140px] h-8",children:l.jsx(it,{placeholder:" "})}),l.jsx(at,{children:a.map(R=>l.jsxs(ye,{value:R.code,children:[R.flag_emoji," ",R.name]},R.code))})]})]})),()=>e(null)),[e,x,a]);const J=async()=>{try{const[R,U]=await Promise.all([fetch(`${tu}/namespaces?limit=100`,{headers:{...K()}}),fetch(`${tu}/languages`,{headers:{...K()}})]);if(R.ok){const _=await R.json();s(_.namespaces||[])}if(U.ok){const Q=(await U.json()||[]).filter(G=>G.is_active!==!1);if(u(Q),!x&&(Q?.length??0)>0){const G=Q.find(P=>P.is_default)?.code||Q[0].code;y(G)}}}catch(R){console.error("Failed to fetch init data",R)}},Z=async()=>{f(!0);try{const R=new URLSearchParams({page:N.page.toString(),limit:N.limit.toString(),search:v,namespace_id:j==="all"?"":j}),U=await fetch(`${tu}/translations?${R}`,{headers:{...K()}});if(U.ok){const _=await U.json();r(_.data),A(_.pagination)}}catch(R){console.error("Failed to fetch translations",R)}finally{f(!1)}};b.useEffect(()=>{m(wX(n,a,x))},[n,a,x]);const q=async()=>{if(!T.namespace_id||!T.key){alert("  .");return}try{const R=await fetch(`${tu}/translations/keys`,{method:"POST",headers:{"Content-Type":"application/json",...K()},body:JSON.stringify(T)});if(R.ok)I(!1),E({namespace_id:"",key:"",description:""}),Z();else{const U=await R.json();alert(` : ${U.message}`)}}catch{alert("    .")}},F=async R=>{if(confirm(" ?      ."))try{(await fetch(`${tu}/translations/keys/${R}`,{method:"DELETE",headers:{...K()}})).ok?Z():alert(" ")}catch{alert("   .")}},W=async(R,U,_)=>{const Q=`${R}_${U}`;V(Q);try{(await fetch(`${tu}/translations/values`,{method:"PUT",headers:{"Content-Type":"application/json",...K()},body:JSON.stringify({translation_key_id:R,language_code:U,value:_})})).ok?(r(P=>P.map(ie=>ie.id===R?{...ie,translations:{...ie.translations,[U]:_}}:ie)),L(P=>{const ie={...P};return delete ie[Q],ie})):alert(" ")}catch(G){console.error(G),alert("  ")}finally{V(null)}};return l.jsxs("div",{className:"space-y-4 bg-background h-full flex flex-col",children:[l.jsx("div",{className:"flex items-center justify-between shrink-0",children:l.jsx("div",{children:l.jsx("p",{className:"text-muted-foreground",children:op(p,"ui.translation_manager.description","       .")})})}),l.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[l.jsxs(rt,{value:j,onValueChange:C,children:[l.jsx(st,{className:"w-[200px]",children:l.jsx(it,{placeholder:" "})}),l.jsxs(at,{children:[l.jsx(ye,{value:"all",children:" "}),i.map(R=>l.jsx(ye,{value:R.id,children:R.name},R.id))]})]}),l.jsxs("form",{onSubmit:R=>{R.preventDefault(),A(U=>({...U,page:1}))},className:"flex gap-2",children:[l.jsx(Re,{placeholder:op(p,"ui.translation_manager.search_placeholder","   ..."),value:v,onChange:R=>k(R.target.value),className:"w-[300px]"}),l.jsxs(xe,{type:"submit",variant:"secondary",children:[l.jsx(ws,{className:"h-4 w-4 mr-2"})," ",op(p,"common.search","")]})]})]}),l.jsx("div",{className:"border rounded-md flex-1 overflow-hidden flex flex-col",children:l.jsx("div",{className:"overflow-auto flex-1",children:l.jsxs(sr,{children:[l.jsx(ar,{className:"sticky top-0 bg-background z-10 shadow-sm",children:l.jsxs(qe,{children:[l.jsx(ve,{className:"w-[200px]",children:"Key (Namespace)"}),a.map(R=>l.jsx(ve,{className:"min-w-[200px]",children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{children:R.flag_emoji}),l.jsx("span",{children:R.name}),R.is_default&&l.jsx("span",{className:"text-xs text-muted-foreground",children:"(Default)"})]})},R.code)),l.jsx(ve,{className:"w-[50px]"})]})}),l.jsx(lr,{children:d?l.jsx(qe,{children:l.jsx(ce,{colSpan:a.length+2,className:"h-24 text-center",children:l.jsx(Pt,{className:"h-6 w-6 animate-spin mx-auto"})})}):n.length===0?l.jsx(qe,{children:l.jsx(ce,{colSpan:a.length+2,className:"h-24 text-center",children:" ."})}):n.map(R=>l.jsxs(qe,{children:[l.jsx(ce,{className:"align-top",children:l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"font-medium text-sm break-all",children:R.key}),l.jsx("span",{className:"text-xs text-muted-foreground",children:R.namespace_name}),R.description&&l.jsx("span",{className:"text-xs text-muted-foreground/70 mt-1 italic",children:R.description})]})}),a.map(U=>{const _=`${R.id}_${U.code}`,Q=M[_]??R.translations[U.code]??"",G=M[_]!==void 0&&M[_]!==(R.translations[U.code]||""),P=D===_;return l.jsx(ce,{className:"align-top p-2",children:l.jsxs("div",{className:"relative group",children:[l.jsx("textarea",{className:"w-full min-h-[60px] p-2 text-sm border rounded-md resize-none bg-transparent focus:bg-background focus:ring-1 focus:ring-ring transition-colors",value:Q,onChange:ie=>L(H=>({...H,[_]:ie.target.value})),placeholder:`${U.name}  ...`}),G&&l.jsx("div",{className:"absolute bottom-2 right-2",children:l.jsx(xe,{size:"icon",className:"h-6 w-6",onClick:()=>W(R.id,U.code,Q),disabled:P,children:P?l.jsx(Pt,{className:"h-3 w-3 animate-spin"}):l.jsx(Il,{className:"h-3 w-3"})})})]})},U.code)}),l.jsx(ce,{className:"align-top",children:l.jsx(xe,{variant:"ghost",size:"icon",onClick:()=>F(R.id),children:l.jsx(yr,{className:"h-4 w-4 text-destructive"})})})]},R.id))})]})})}),l.jsxs("div",{className:"flex items-center justify-end space-x-2 py-2 shrink-0",children:[l.jsx(xe,{variant:"outline",size:"sm",onClick:()=>A(R=>({...R,page:R.page-1})),disabled:N.page<=1,children:""}),l.jsxs("div",{className:"text-sm font-medium",children:[op(p,"common.page","")," ",N.page," / ",N.totalPages||1]}),l.jsx(xe,{variant:"outline",size:"sm",onClick:()=>A(R=>({...R,page:R.page+1})),disabled:N.page>=N.totalPages,children:""})]}),l.jsx(Yn,{open:z,onOpenChange:I,children:l.jsxs(Kn,{children:[l.jsxs(Jn,{children:[l.jsx(Xn,{children:"   "}),l.jsx(vr,{children:"     ."})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{className:"text-right",children:""}),l.jsxs(rt,{value:T.namespace_id,onValueChange:R=>E(U=>({...U,namespace_id:R})),children:[l.jsx(st,{className:"col-span-3",children:l.jsx(it,{placeholder:""})}),l.jsx(at,{children:i.map(R=>l.jsx(ye,{value:R.id,children:R.name},R.id))})]})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{className:"text-right",children:" "}),l.jsx(Re,{value:T.key,onChange:R=>E(U=>({...U,key:R.target.value})),className:"col-span-3",placeholder:": button.save"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{className:"text-right",children:""}),l.jsx(Re,{value:T.description,onChange:R=>E(U=>({...U,description:R.target.value})),className:"col-span-3",placeholder:"()  "})]})]}),l.jsx(br,{children:l.jsx(xe,{onClick:q,children:""})})]})})]})}const C7=6048e5,SX=864e5,vS=Symbol.for("constructDateFrom");function sl(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&vS in e?e[vS](t):e instanceof Date?new e.constructor(t):new Date(t)}function Wi(e,t){return sl(t||e,e)}let CX={};function f0(){return CX}function Kd(e,t){const n=f0(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=Wi(e,t?.in),s=i.getDay(),a=(s<r?7:0)+s-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function hm(e,t){return Kd(e,{...t,weekStartsOn:1})}function j7(e,t){const n=Wi(e,t?.in),r=n.getFullYear(),i=sl(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=hm(i),a=sl(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const u=hm(a);return n.getTime()>=s.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function wS(e){const t=Wi(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function jX(e,...t){const n=sl.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function kS(e,t){const n=Wi(e,t?.in);return n.setHours(0,0,0,0),n}function _X(e,t,n){const[r,i]=jX(n?.in,e,t),s=kS(r),a=kS(i),u=+s-wS(s),d=+a-wS(a);return Math.round((u-d)/SX)}function NX(e,t){const n=j7(e,t),r=sl(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),hm(r)}function EX(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function AX(e){return!(!EX(e)&&typeof e!="number"||isNaN(+Wi(e)))}function DX(e,t){const n=Wi(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const TX={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},MX=(e,t,n)=>{let r;const i=TX[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Dx(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const OX={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},RX={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},LX={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},PX={date:Dx({formats:OX,defaultWidth:"full"}),time:Dx({formats:RX,defaultWidth:"full"}),dateTime:Dx({formats:LX,defaultWidth:"full"})},zX={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},IX=(e,t,n,r)=>zX[e];function rd(e){return(t,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,u=n?.width?String(n.width):a;i=e.formattingValues[u]||e.formattingValues[a]}else{const a=e.defaultWidth,u=n?.width?String(n.width):e.defaultWidth;i=e.values[u]||e.values[a]}const s=e.argumentCallback?e.argumentCallback(t):t;return i[s]}}const FX={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},BX={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},$X={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},HX={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},UX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},VX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},qX=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},GX={ordinalNumber:qX,era:rd({values:FX,defaultWidth:"wide"}),quarter:rd({values:BX,defaultWidth:"wide",argumentCallback:e=>e-1}),month:rd({values:$X,defaultWidth:"wide"}),day:rd({values:HX,defaultWidth:"wide"}),dayPeriod:rd({values:UX,defaultWidth:"wide",formattingValues:VX,defaultFormattingWidth:"wide"})};function id(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;const a=s[0],u=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(u)?YX(u,m=>m.test(a)):WX(u,m=>m.test(a));let f;f=e.valueCallback?e.valueCallback(d):d,f=n.valueCallback?n.valueCallback(f):f;const p=t.slice(a.length);return{value:f,rest:p}}}function WX(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function YX(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function KX(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],s=t.match(e.parsePattern);if(!s)return null;let a=e.valueCallback?e.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const u=t.slice(i.length);return{value:a,rest:u}}}const JX=/^(\d+)(th|st|nd|rd)?/i,XX=/\d+/i,ZX={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},QX={any:[/^b/i,/^(a|c)/i]},eZ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},tZ={any:[/1/i,/2/i,/3/i,/4/i]},nZ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},rZ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},iZ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},sZ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},aZ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},lZ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},oZ={ordinalNumber:KX({matchPattern:JX,parsePattern:XX,valueCallback:e=>parseInt(e,10)}),era:id({matchPatterns:ZX,defaultMatchWidth:"wide",parsePatterns:QX,defaultParseWidth:"any"}),quarter:id({matchPatterns:eZ,defaultMatchWidth:"wide",parsePatterns:tZ,defaultParseWidth:"any",valueCallback:e=>e+1}),month:id({matchPatterns:nZ,defaultMatchWidth:"wide",parsePatterns:rZ,defaultParseWidth:"any"}),day:id({matchPatterns:iZ,defaultMatchWidth:"wide",parsePatterns:sZ,defaultParseWidth:"any"}),dayPeriod:id({matchPatterns:aZ,defaultMatchWidth:"any",parsePatterns:lZ,defaultParseWidth:"any"})},uZ={code:"en-US",formatDistance:MX,formatLong:PX,formatRelative:IX,localize:GX,match:oZ,options:{weekStartsOn:0,firstWeekContainsDate:1}};function cZ(e,t){const n=Wi(e,t?.in);return _X(n,DX(n))+1}function dZ(e,t){const n=Wi(e,t?.in),r=+hm(n)-+NX(n);return Math.round(r/C7)+1}function _7(e,t){const n=Wi(e,t?.in),r=n.getFullYear(),i=f0(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,a=sl(t?.in||e,0);a.setFullYear(r+1,0,s),a.setHours(0,0,0,0);const u=Kd(a,t),d=sl(t?.in||e,0);d.setFullYear(r,0,s),d.setHours(0,0,0,0);const f=Kd(d,t);return+n>=+u?r+1:+n>=+f?r:r-1}function fZ(e,t){const n=f0(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=_7(e,t),s=sl(t?.in||e,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Kd(s,t)}function hZ(e,t){const n=Wi(e,t?.in),r=+Kd(n,t)-+fZ(n,t);return Math.round(r/C7)+1}function sn(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Ta={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return sn(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):sn(n+1,2)},d(e,t){return sn(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return sn(e.getHours()%12||12,t.length)},H(e,t){return sn(e.getHours(),t.length)},m(e,t){return sn(e.getMinutes(),t.length)},s(e,t){return sn(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return sn(i,t.length)}},nu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},SS={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Ta.y(e,t)},Y:function(e,t,n,r){const i=_7(e,r),s=i>0?i:1-i;if(t==="YY"){const a=s%100;return sn(a,2)}return t==="Yo"?n.ordinalNumber(s,{unit:"year"}):sn(s,t.length)},R:function(e,t){const n=j7(e);return sn(n,t.length)},u:function(e,t){const n=e.getFullYear();return sn(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return sn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return sn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Ta.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return sn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=hZ(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):sn(i,t.length)},I:function(e,t,n){const r=dZ(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):sn(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Ta.d(e,t)},D:function(e,t,n){const r=cZ(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):sn(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return sn(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return sn(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return sn(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=nu.noon:r===0?i=nu.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=nu.evening:r>=12?i=nu.afternoon:r>=4?i=nu.morning:i=nu.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ta.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Ta.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):sn(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):sn(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ta.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Ta.s(e,t)},S:function(e,t){return Ta.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return jS(r);case"XXXX":case"XX":return Fl(r);case"XXXXX":case"XXX":default:return Fl(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return jS(r);case"xxxx":case"xx":return Fl(r);case"xxxxx":case"xxx":default:return Fl(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+CS(r,":");case"OOOO":default:return"GMT"+Fl(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+CS(r,":");case"zzzz":default:return"GMT"+Fl(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return sn(r,t.length)},T:function(e,t,n){return sn(+e,t.length)}};function CS(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+t+sn(s,2)}function jS(e,t){return e%60===0?(e>0?"-":"+")+sn(Math.abs(e)/60,2):Fl(e,t)}function Fl(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=sn(Math.trunc(r/60),2),s=sn(r%60,2);return n+i+t+s}const _S=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},N7=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},pZ=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return _S(e,t);let s;switch(r){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",_S(r,t)).replace("{{time}}",N7(i,t))},mZ={p:N7,P:pZ},gZ=/^D+$/,xZ=/^Y+$/,yZ=["D","DD","YY","YYYY"];function bZ(e){return gZ.test(e)}function vZ(e){return xZ.test(e)}function wZ(e,t,n){const r=kZ(e,t,n);if(console.warn(r),yZ.includes(e))throw new RangeError(r)}function kZ(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const SZ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,CZ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,jZ=/^'([^]*?)'?$/,_Z=/''/g,NZ=/[a-zA-Z]/;function EZ(e,t,n){const r=f0(),i=r.locale??uZ,s=r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,u=Wi(e,n?.in);if(!AX(u))throw new RangeError("Invalid time value");let d=t.match(CZ).map(p=>{const m=p[0];if(m==="p"||m==="P"){const x=mZ[m];return x(p,i.formatLong)}return p}).join("").match(SZ).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const m=p[0];if(m==="'")return{isToken:!1,value:AZ(p)};if(SS[m])return{isToken:!0,value:p};if(m.match(NZ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:p}});i.localize.preprocessor&&(d=i.localize.preprocessor(u,d));const f={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return d.map(p=>{if(!p.isToken)return p.value;const m=p.value;(vZ(m)||bZ(m))&&wZ(m,t,String(e));const x=SS[m[0]];return x(u,m,i.localize,f)}).join("")}function AZ(e){const t=e.match(jZ);return t?t[1].replace(_Z,"'"):e}function DZ(){const{setAction:e,setTitle:t}=Gi(),[n,r]=b.useState([]),[i,s]=b.useState([]),[a,u]=b.useState([]),[d,f]=b.useState(new Map),[p,m]=b.useState(""),[x,y]=b.useState("all"),[v,k]=b.useState("all"),[j,C]=b.useState(1),[N,A]=b.useState(1),[z,I]=b.useState(!1);b.useEffect(()=>{t("(i18n) >  "),e(null)},[t,e]),b.useEffect(()=>{(async()=>{try{const D={Authorization:`Bearer ${localStorage.getItem("token")}`},V=await fetch("/api/i18n/namespaces?limit=100",{headers:D});if(V.ok){const Z=await V.json();s(Z.data||[])}const K=await fetch("/api/i18n/languages",{headers:D});if(K.ok){const Z=await K.json();u(Z||[])}const J=await fetch("/api/users",{headers:D});if(J.ok){const Z=await J.json(),q=new Map;Array.isArray(Z.users)&&Z.users.forEach(F=>q.set(F.id,F)),f(q)}}catch(L){console.error("Failed to fetch basic data",L)}})()},[]),b.useEffect(()=>{const M=async()=>{I(!0);try{const D=localStorage.getItem("token"),V=new URLSearchParams({page:j.toString(),limit:"20"});p&&V.append("search",p),x!=="all"&&V.append("namespace_id",x),v!=="all"&&V.append("language_code",v);const K=await fetch(`/api/i18n/history?${V}`,{headers:{Authorization:`Bearer ${D}`}});if(K.ok){const J=await K.json();r(J.history||[]),A(J.pagination.totalPages)}}catch(D){console.error("Failed to fetch history",D)}finally{I(!1)}},L=setTimeout(()=>{M()},300);return()=>clearTimeout(L)},[j,p,x,v]);const T=M=>{if(!M)return"-";const L=d.get(M);return L?`${L.name} (${L.email})`:M},E=(M,L)=>M===null?l.jsxs("span",{className:"text-green-600 font-medium",children:["() ",L]}):l.jsxs("div",{className:"flex flex-col gap-1 text-sm",children:[l.jsx("span",{className:"text-red-500 line-through bg-red-50 px-1 rounded w-fit",children:M}),l.jsx("span",{className:"text-green-600 font-medium bg-green-50 px-1 rounded w-fit",children:L})]});return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex flex-col md:flex-row gap-4 bg-white p-4 rounded-lg border shadow-sm",children:[l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"relative",children:[l.jsx(ws,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),l.jsx(Re,{placeholder:",   ...",className:"pl-8",value:p,onChange:M=>{m(M.target.value),C(1)}})]})}),l.jsx("div",{className:"w-full md:w-[200px]",children:l.jsxs(rt,{value:x,onValueChange:M=>{y(M),C(1)},children:[l.jsx(st,{children:l.jsx(it,{placeholder:""})}),l.jsxs(at,{children:[l.jsx(ye,{value:"all",children:" "}),i.map(M=>l.jsx(ye,{value:M.id,children:M.name},M.id))]})]})}),l.jsx("div",{className:"w-full md:w-[150px]",children:l.jsxs(rt,{value:v,onValueChange:M=>{k(M),C(1)},children:[l.jsx(st,{children:l.jsx(it,{placeholder:""})}),l.jsxs(at,{children:[l.jsx(ye,{value:"all",children:" "}),a.map(M=>l.jsxs(ye,{value:M.code,children:[M.flag_emoji," ",M.name]},M.code))]})]})})]}),l.jsx("div",{className:"border rounded-lg bg-white shadow-sm",children:l.jsxs(sr,{children:[l.jsx(ar,{children:l.jsxs(qe,{children:[l.jsx(ve,{className:"w-[180px]",children:""}),l.jsx(ve,{className:"w-[150px]",children:" (NS / Lang)"}),l.jsx(ve,{className:"w-[200px]",children:" (Key)"}),l.jsx(ve,{children:"  (Old  New)"}),l.jsx(ve,{className:"w-[150px]",children:""})]})}),l.jsx(lr,{children:z?l.jsx(qe,{children:l.jsx(ce,{colSpan:5,className:"h-24 text-center",children:" ..."})}):n.length===0?l.jsx(qe,{children:l.jsx(ce,{colSpan:5,className:"h-24 text-center text-muted-foreground",children:"  ."})}):n.map(M=>l.jsxs(qe,{children:[l.jsx(ce,{className:"text-sm text-muted-foreground",children:EZ(new Date(M.created_at),"yyyy-MM-dd HH:mm:ss")}),l.jsx(ce,{children:l.jsxs("div",{className:"flex flex-col text-sm",children:[l.jsx("span",{className:"font-medium",children:M.namespace_name}),l.jsxs("span",{className:"text-muted-foreground flex items-center gap-1",children:[M.flag_emoji," ",M.language_name]})]})}),l.jsx(ce,{className:"font-mono text-sm break-all",children:M.key}),l.jsx(ce,{children:E(M.old_value,M.new_value)}),l.jsx(ce,{className:"text-sm",children:T(M.changed_by)})]},M.id))})]})}),l.jsxs("div",{className:"flex items-center justify-center gap-2 py-4",children:[l.jsx(xe,{variant:"outline",size:"sm",onClick:()=>C(M=>Math.max(1,M-1)),disabled:j===1,children:l.jsx(df,{className:"h-4 w-4"})}),l.jsxs("span",{className:"text-sm text-muted-foreground",children:[j," / ",N||1]}),l.jsx(xe,{variant:"outline",size:"sm",onClick:()=>C(M=>Math.min(N,M+1)),disabled:j===N||N===0,children:l.jsx(ms,{className:"h-4 w-4"})})]})]})}function hr(e){this.content=e}hr.prototype={constructor:hr,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,i=r.find(e),s=r.content.slice();return i==-1?s.push(n||e,t):(s[i+1]=t,n&&(s[i]=n)),new hr(s)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new hr(n)},addToStart:function(e,t){return new hr([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new hr(n)},addBefore:function(e,t,n){var r=this.remove(t),i=r.content.slice(),s=r.find(e);return i.splice(s==-1?i.length:s,0,t,n),new hr(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=hr.from(e),e.size?new hr(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=hr.from(e),e.size?new hr(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=hr.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};hr.from=function(e){if(e instanceof hr)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new hr(t)};function E7(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let i=e.child(r),s=t.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let a=0;i.text[a]==s.text[a];a++)n++;return n}if(i.content.size||s.content.size){let a=E7(i.content,s.content,n+1);if(a!=null)return a}n+=i.nodeSize}}function A7(e,t,n,r){for(let i=e.childCount,s=t.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let a=e.child(--i),u=t.child(--s),d=a.nodeSize;if(a==u){n-=d,r-=d;continue}if(!a.sameMarkup(u))return{a:n,b:r};if(a.isText&&a.text!=u.text){let f=0,p=Math.min(a.text.length,u.text.length);for(;f<p&&a.text[a.text.length-f-1]==u.text[u.text.length-f-1];)f++,n--,r--;return{a:n,b:r}}if(a.content.size||u.content.size){let f=A7(a.content,u.content,n-1,r-1);if(f)return f}n-=d,r-=d}}class Ee{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,n,r,i=0,s){for(let a=0,u=0;u<n;a++){let d=this.content[a],f=u+d.nodeSize;if(f>t&&r(d,i+u,s||null,a)!==!1&&d.content.size){let p=u+1;d.nodesBetween(Math.max(0,t-p),Math.min(d.content.size,n-p),r,i+p)}u=f}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,r,i){let s="",a=!0;return this.nodesBetween(t,n,(u,d)=>{let f=u.isText?u.text.slice(Math.max(t,d)-d,n-d):u.isLeaf?i?typeof i=="function"?i(u):i:u.type.spec.leafText?u.type.spec.leafText(u):"":"";u.isBlock&&(u.isLeaf&&f||u.isTextblock)&&r&&(a?a=!1:s+=r),s+=f},0),s}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,r=t.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<t.content.length;s++)i.push(t.content[s]);return new Ee(i,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let r=[],i=0;if(n>t)for(let s=0,a=0;a<n;s++){let u=this.content[s],d=a+u.nodeSize;d>t&&((a<t||d>n)&&(u.isText?u=u.cut(Math.max(0,t-a),Math.min(u.text.length,n-a)):u=u.cut(Math.max(0,t-a-1),Math.min(u.content.size,n-a-1))),r.push(u),i+=u.nodeSize),a=d}return new Ee(r,i)}cutByIndex(t,n){return t==n?Ee.empty:t==0&&n==this.content.length?this:new Ee(this.content.slice(t,n))}replaceChild(t,n){let r=this.content[t];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[t]=n,new Ee(i,s)}addToStart(t){return new Ee([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new Ee(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];t(i,r,n),r+=i.nodeSize}}findDiffStart(t,n=0){return E7(this,t,n)}findDiffEnd(t,n=this.size,r=t.size){return A7(this,t,n,r)}findIndex(t){if(t==0)return up(0,t);if(t==this.size)return up(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),s=r+i.nodeSize;if(s>=t)return s==t?up(n+1,s):up(n,r);r=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return Ee.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new Ee(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return Ee.empty;let n,r=0;for(let i=0;i<t.length;i++){let s=t[i];r+=s.nodeSize,i&&s.isText&&t[i-1].sameMarkup(s)?(n||(n=t.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new Ee(n||t,r)}static from(t){if(!t)return Ee.empty;if(t instanceof Ee)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new Ee([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Ee.empty=new Ee([],0);const Tx={index:0,offset:0};function up(e,t){return Tx.index=e,Tx.offset=t,Tx}function pm(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!pm(e[r],t[r]))return!1}else{for(let r in e)if(!(r in t)||!pm(e[r],t[r]))return!1;for(let r in t)if(!(r in e))return!1}return!0}class Jt{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,r=!1;for(let i=0;i<t.length;i++){let s=t[i];if(this.eq(s))return t;if(this.type.excludes(s.type))n||(n=t.slice(0,i));else{if(s.type.excludes(this.type))return t;!r&&s.type.rank>this.type.rank&&(n||(n=t.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=t.slice()),r||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&pm(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(n[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return Jt.none;if(t instanceof Jt)return[t];let n=t.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}}Jt.none=[];class mm extends Error{}class $e{constructor(t,n,r){this.content=t,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let r=T7(this.content,t+this.openStart,n);return r&&new $e(r,this.openStart,this.openEnd)}removeBetween(t,n){return new $e(D7(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return $e.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new $e(Ee.fromJSON(t,n.content),r,i)}static maxOpen(t,n=!0){let r=0,i=0;for(let s=t.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=t.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new $e(t,r,i)}}$e.empty=new $e(Ee.empty,0,0);function D7(e,t,n){let{index:r,offset:i}=e.findIndex(t),s=e.maybeChild(r),{index:a,offset:u}=e.findIndex(n);if(i==t||s.isText){if(u!=n&&!e.child(a).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=a)throw new RangeError("Removing non-flat range");return e.replaceChild(r,s.copy(D7(s.content,t-i-1,n-i-1)))}function T7(e,t,n,r){let{index:i,offset:s}=e.findIndex(t),a=e.maybeChild(i);if(s==t||a.isText)return r&&!r.canReplace(i,i,n)?null:e.cut(0,t).append(n).append(e.cut(t));let u=T7(a.content,t-s-1,n,a);return u&&e.replaceChild(i,a.copy(u))}function TZ(e,t,n){if(n.openStart>e.depth)throw new mm("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new mm("Inconsistent open depths");return M7(e,t,n,0)}function M7(e,t,n,r){let i=e.index(r),s=e.node(r);if(i==t.index(r)&&r<e.depth-n.openStart){let a=M7(e,t,n,r+1);return s.copy(s.content.replaceChild(i,a))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==r&&t.depth==r){let a=e.parent,u=a.content;return Gl(a,u.cut(0,e.parentOffset).append(n.content).append(u.cut(t.parentOffset)))}else{let{start:a,end:u}=MZ(n,e);return Gl(s,R7(e,a,u,t,r))}else return Gl(s,gm(e,t,r))}function O7(e,t){if(!t.type.compatibleContent(e.type))throw new mm("Cannot join "+t.type.name+" onto "+e.type.name)}function f2(e,t,n){let r=e.node(n);return O7(r,t.node(n)),r}function ql(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function Td(e,t,n,r){let i=(t||e).node(n),s=0,a=t?t.index(n):i.childCount;e&&(s=e.index(n),e.depth>n?s++:e.textOffset&&(ql(e.nodeAfter,r),s++));for(let u=s;u<a;u++)ql(i.child(u),r);t&&t.depth==n&&t.textOffset&&ql(t.nodeBefore,r)}function Gl(e,t){return e.type.checkContent(t),e.copy(t)}function R7(e,t,n,r,i){let s=e.depth>i&&f2(e,t,i+1),a=r.depth>i&&f2(n,r,i+1),u=[];return Td(null,e,i,u),s&&a&&t.index(i)==n.index(i)?(O7(s,a),ql(Gl(s,R7(e,t,n,r,i+1)),u)):(s&&ql(Gl(s,gm(e,t,i+1)),u),Td(t,n,i,u),a&&ql(Gl(a,gm(n,r,i+1)),u)),Td(r,null,i,u),new Ee(u)}function gm(e,t,n){let r=[];if(Td(null,e,n,r),e.depth>n){let i=f2(e,t,n+1);ql(Gl(i,gm(e,t,n+1)),r)}return Td(t,null,n,r),new Ee(r)}function MZ(e,t){let n=t.depth-e.openStart,i=t.node(n).copy(e.content);for(let s=n-1;s>=0;s--)i=t.node(s).copy(Ee.from(i));return{start:i.resolveNoCache(e.openStart+n),end:i.resolveNoCache(i.content.size-e.openEnd-n)}}class Jd{constructor(t,n,r){this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=t.child(n);return r?t.child(n).cut(r):i}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<t;s++)i+=r.child(s).nodeSize;return i}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return Jt.none;if(this.textOffset)return t.child(n).marks;let r=t.maybeChild(n-1),i=t.maybeChild(n);if(!r){let u=r;r=i,i=u}let s=r.marks;for(var a=0;a<s.length;a++)s[a].type.spec.inclusive===!1&&(!i||!s[a].isInSet(i.marks))&&(s=s[a--].removeFromSet(s));return s}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=t.parent.maybeChild(t.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!n||n(this.node(r))))return new xm(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let a=t;;){let{index:u,offset:d}=a.content.findIndex(s),f=s-d;if(r.push(a,u,i+d),!f||(a=a.child(u),a.isText))break;s=f-1,i+=d+1}return new Jd(n,r,s)}static resolveCached(t,n){let r=NS.get(t);if(r)for(let s=0;s<r.elts.length;s++){let a=r.elts[s];if(a.pos==n)return a}else NS.set(t,r=new OZ);let i=r.elts[r.i]=Jd.resolve(t,n);return r.i=(r.i+1)%RZ,i}}class OZ{constructor(){this.elts=[],this.i=0}}const RZ=12,NS=new WeakMap;class xm{constructor(t,n,r){this.$from=t,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const LZ=Object.create(null);let Wl=class h2{constructor(t,n,r,i=Jt.none){this.type=t,this.attrs=n,this.marks=i,this.content=r||Ee.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,r,i=0){this.content.nodesBetween(t,n,r,i,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,r,i){return this.content.textBetween(t,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,r){return this.type==t&&pm(this.attrs,n||t.defaultAttrs||LZ)&&Jt.sameSet(this.marks,r||Jt.none)}copy(t=null){return t==this.content?this:new h2(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new h2(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,r=!1){if(t==n)return $e.empty;let i=this.resolve(t),s=this.resolve(n),a=r?0:i.sharedDepth(n),u=i.start(a),f=i.node(a).content.cut(i.pos-u,s.pos-u);return new $e(f,i.depth-a,s.depth-a)}replace(t,n,r){return TZ(this.resolve(t),this.resolve(n),r)}nodeAt(t){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(t);if(n=n.maybeChild(r),!n)return null;if(i==t||n.isText)return n;t-=i+1}}childAfter(t){let{index:n,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(t){return Jd.resolveCached(this,t)}resolveNoCache(t){return Jd.resolve(this,t)}rangeHasMark(t,n,r){let i=!1;return n>t&&this.nodesBetween(t,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),L7(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,r=Ee.empty,i=0,s=r.childCount){let a=this.contentMatchAt(t).matchFragment(r,i,s),u=a&&a.matchFragment(this.content,n);if(!u||!u.validEnd)return!1;for(let d=i;d<s;d++)if(!this.type.allowsMarks(r.child(d).marks))return!1;return!0}canReplaceWith(t,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(t).matchType(r),a=s&&s.matchFragment(this.content,n);return a?a.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=Jt.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),t=r.addToSet(t)}if(!Jt.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,r)}let i=Ee.fromJSON(t,n.content),s=t.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};Wl.prototype.text=void 0;class ym extends Wl{constructor(t,n,r,i){if(super(t,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):L7(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new ym(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new ym(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function L7(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class no{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let r=new PZ(t,n);if(r.next==null)return no.empty;let i=P7(r);r.next&&r.err("Unexpected trailing text");let s=UZ(HZ(i));return VZ(s,r),s}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,r=t.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(t.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let r=0;r<t.next.length;r++)if(this.next[n].type==t.next[r].type)return!0;return!1}fillBefore(t,n=!1,r=0){let i=[this];function s(a,u){let d=a.matchFragment(t,r);if(d&&(!n||d.validEnd))return Ee.from(u.map(f=>f.createAndFill()));for(let f=0;f<a.next.length;f++){let{type:p,next:m}=a.next[f];if(!(p.isText||p.hasRequiredAttrs())&&i.indexOf(m)==-1){i.push(m);let x=s(m,u.concat(p));if(x)return x}}return null}return s(this,[])}findWrapping(t){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(t)){let a=[];for(let u=i;u.type;u=u.via)a.push(u.type);return a.reverse()}for(let a=0;a<s.next.length;a++){let{type:u,next:d}=s.next[a];!u.isLeaf&&!u.hasRequiredAttrs()&&!(u.name in n)&&(!i.type||d.validEnd)&&(r.push({match:u.contentMatch,type:u,via:i}),n[u.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function n(r){t.push(r);for(let i=0;i<r.next.length;i++)t.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),t.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)s+=(a?", ":"")+r.next[a].type.name+"->"+t.indexOf(r.next[a].next);return s}).join(`
`)}}no.empty=new no(!0);class PZ{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function P7(e){let t=[];do t.push(zZ(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function zZ(e){let t=[];do t.push(IZ(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function IZ(e){let t=$Z(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=FZ(e,t);else break;return t}function ES(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function FZ(e,t){let n=ES(e),r=n;return e.eat(",")&&(e.next!="}"?r=ES(e):r=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function BZ(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let i=[];for(let s in n){let a=n[s];a.isInGroup(t)&&i.push(a)}return i.length==0&&e.err("No node type or group '"+t+"' found"),i}function $Z(e){if(e.eat("(")){let t=P7(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=BZ(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function HZ(e){let t=[[]];return i(s(e,0),n()),t;function n(){return t.push([])-1}function r(a,u,d){let f={term:d,to:u};return t[a].push(f),f}function i(a,u){a.forEach(d=>d.to=u)}function s(a,u){if(a.type=="choice")return a.exprs.reduce((d,f)=>d.concat(s(f,u)),[]);if(a.type=="seq")for(let d=0;;d++){let f=s(a.exprs[d],u);if(d==a.exprs.length-1)return f;i(f,u=n())}else if(a.type=="star"){let d=n();return r(u,d),i(s(a.expr,d),d),[r(d)]}else if(a.type=="plus"){let d=n();return i(s(a.expr,u),d),i(s(a.expr,d),d),[r(d)]}else{if(a.type=="opt")return[r(u)].concat(s(a.expr,u));if(a.type=="range"){let d=u;for(let f=0;f<a.min;f++){let p=n();i(s(a.expr,d),p),d=p}if(a.max==-1)i(s(a.expr,d),d);else for(let f=a.min;f<a.max;f++){let p=n();r(d,p),i(s(a.expr,d),p),d=p}return[r(d)]}else{if(a.type=="name")return[r(u,void 0,a.value)];throw new Error("Unknown expr type")}}}}function z7(e,t){return t-e}function AS(e,t){let n=[];return r(t),n.sort(z7);function r(i){let s=e[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let a=0;a<s.length;a++){let{term:u,to:d}=s[a];!u&&n.indexOf(d)==-1&&r(d)}}}function UZ(e){let t=Object.create(null);return n(AS(e,0));function n(r){let i=[];r.forEach(a=>{e[a].forEach(({term:u,to:d})=>{if(!u)return;let f;for(let p=0;p<i.length;p++)i[p][0]==u&&(f=i[p][1]);AS(e,d).forEach(p=>{f||i.push([u,f=[]]),f.indexOf(p)==-1&&f.push(p)})})});let s=t[r.join(",")]=new no(r.indexOf(e.length-1)>-1);for(let a=0;a<i.length;a++){let u=i[a][1].sort(z7);s.next.push({type:i[a][0],next:t[u.join(",")]||n(u)})}return s}}function VZ(e,t){for(let n=0,r=[e];n<r.length;n++){let i=r[n],s=!i.validEnd,a=[];for(let u=0;u<i.next.length;u++){let{type:d,next:f}=i.next[u];a.push(d.name),s&&!(d.isText||d.hasRequiredAttrs())&&(s=!1),r.indexOf(f)==-1&&r.push(f)}s&&t.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function I7(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function F7(e,t){let n=Object.create(null);for(let r in e){let i=t&&t[r];if(i===void 0){let s=e[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function B7(e,t,n,r){for(let i in t)if(!(i in e))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in e){let s=e[i];s.validate&&s.validate(t[i])}}function $7(e,t){let n=Object.create(null);if(t)for(let r in t)n[r]=new GZ(e,r,t[r]);return n}let DS=class H7{constructor(t,n,r){this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=$7(t,r.attrs),this.defaultAttrs=I7(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==no.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:F7(this.attrs,t)}create(t=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Wl(this,this.computeAttrs(t),Ee.from(n),Jt.setFrom(r))}createChecked(t=null,n,r){return n=Ee.from(n),this.checkContent(n),new Wl(this,this.computeAttrs(t),n,Jt.setFrom(r))}createAndFill(t=null,n,r){if(t=this.computeAttrs(t),n=Ee.from(n),n.size){let a=this.contentMatch.fillBefore(n);if(!a)return null;n=a.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(Ee.empty,!0);return s?new Wl(this,t,n.append(s),Jt.setFrom(r)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){B7(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?n&&n.push(t[r]):n||(n=t.slice(0,r));return n?n.length?n:Jt.none:t}static compile(t,n){let r=Object.create(null);t.forEach((s,a)=>r[s]=new H7(s,n,a));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function qZ(e,t,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${t} on type ${e}, got ${s}`)}}class GZ{constructor(t,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?qZ(t,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class h0{constructor(t,n,r,i){this.name=t,this.rank=n,this.schema=r,this.spec=i,this.attrs=$7(t,i.attrs),this.excluded=null;let s=I7(this.attrs);this.instance=s?new Jt(this,s):null}create(t=null){return!t&&this.instance?this.instance:new Jt(this,F7(this.attrs,t))}static compile(t,n){let r=Object.create(null),i=0;return t.forEach((s,a)=>r[s]=new h0(s,i++,n,a)),r}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}checkAttrs(t){B7(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class Vb{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in t)n[i]=t[i];n.nodes=hr.from(t.nodes),n.marks=hr.from(t.marks||{}),this.nodes=DS.compile(this.spec.nodes,this),this.marks=h0.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],a=s.spec.content||"",u=s.spec.marks;if(s.contentMatch=r[a]||(r[a]=no.parse(a,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=u=="_"?null:u?TS(this,u.split(" ")):u==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],a=s.spec.excludes;s.excluded=a==null?[s]:a==""?[]:TS(this,a.split(" "))}this.nodeFromJSON=i=>Wl.fromJSON(this,i),this.markFromJSON=i=>Jt.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,r,i){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof DS){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(n,r,i)}text(t,n){let r=this.nodes.text;return new ym(r,r.defaultAttrs,t,Jt.setFrom(n))}mark(t,n){return typeof t=="string"&&(t=this.marks[t]),t.create(n)}nodeType(t){let n=this.nodes[t];if(!n)throw new RangeError("Unknown node type: "+t);return n}}function TS(e,t){let n=[];for(let r=0;r<t.length;r++){let i=t[r],s=e.marks[i],a=s;if(s)n.push(s);else for(let u in e.marks){let d=e.marks[u];(i=="_"||d.spec.group&&d.spec.group.split(" ").indexOf(i)>-1)&&n.push(a=d)}if(!a)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}function WZ(e){return e.tag!=null}function YZ(e){return e.style!=null}class Au{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(WZ(i))this.tags.push(i);else if(YZ(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=t.nodes[i.node];return s.contentMatch.matchType(s)})}parse(t,n={}){let r=new OS(this,n,!1);return r.addAll(t,Jt.none,n.from,n.to),r.finish()}parseSlice(t,n={}){let r=new OS(this,n,!0);return r.addAll(t,Jt.none,n.from,n.to),$e.maxOpen(r.finish())}matchTag(t,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(XZ(t,s.tag)&&(s.namespace===void 0||t.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let a=s.getAttrs(t);if(a===!1)continue;s.attrs=a||void 0}return s}}}matchStyle(t,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let a=this.styles[s],u=a.style;if(!(u.indexOf(t)!=0||a.context&&!r.matchesContext(a.context)||u.length>t.length&&(u.charCodeAt(t.length)!=61||u.slice(t.length+1)!=n))){if(a.getAttrs){let d=a.getAttrs(n);if(d===!1)continue;a.attrs=d||void 0}return a}}}static schemaRules(t){let n=[];function r(i){let s=i.priority==null?50:i.priority,a=0;for(;a<n.length;a++){let u=n[a];if((u.priority==null?50:u.priority)<s)break}n.splice(a,0,i)}for(let i in t.marks){let s=t.marks[i].spec.parseDOM;s&&s.forEach(a=>{r(a=RS(a)),a.mark||a.ignore||a.clearMark||(a.mark=i)})}for(let i in t.nodes){let s=t.nodes[i].spec.parseDOM;s&&s.forEach(a=>{r(a=RS(a)),a.node||a.ignore||a.mark||(a.node=i)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new Au(t,Au.schemaRules(t)))}}const U7={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},KZ={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},V7={ol:!0,ul:!0},Xd=1,p2=2,Md=4;function MS(e,t,n){return t!=null?(t?Xd:0)|(t==="full"?p2:0):e&&e.whitespace=="pre"?Xd|p2:n&~Md}class cp{constructor(t,n,r,i,s,a){this.type=t,this.attrs=n,this.marks=r,this.solid=i,this.options=a,this.content=[],this.activeMarks=Jt.none,this.match=s||(a&Md?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(Ee.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(t.type))?(this.match=r,i):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&Xd)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=Ee.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(Ee.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!U7.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class OS{constructor(t,n,r){this.parser=t,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,s,a=MS(null,n.preserveWhitespace,0)|(r?Md:0);i?s=new cp(i.type,i.attrs,Jt.none,!0,n.topMatch||i.type.contentMatch,a):r?s=new cp(null,null,Jt.none,!0,null,a):s=new cp(t.schema.topNodeType,null,Jt.none,!0,null,a),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,n){t.nodeType==3?this.addTextNode(t,n):t.nodeType==1&&this.addElement(t,n)}addTextNode(t,n){let r=t.nodeValue,i=this.top,s=i.options&p2?"full":this.localPreserveWS||(i.options&Xd)>0,{schema:a}=this.parser;if(s==="full"||i.inlineContext(t)||/[^ \t\r\n\u000c]/.test(r)){if(s)if(s==="full")r=r.replace(/\r\n?/g,`
`);else if(a.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(a.linebreakReplacement.create())){let u=r.split(/\r?\n|\r/);for(let d=0;d<u.length;d++)d&&this.insertNode(a.linebreakReplacement.create(),n,!0),u[d]&&this.insertNode(a.text(u[d]),n,!/\S/.test(u[d]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let u=i.content[i.content.length-1],d=t.previousSibling;(!u||d&&d.nodeName=="BR"||u.isText&&/[ \t\r\n\u000c]$/.test(u.text))&&(r=r.slice(1))}r&&this.insertNode(a.text(r),n,!/\S/.test(r)),this.findInText(t)}else this.findInside(t)}addElement(t,n,r){let i=this.localPreserveWS,s=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let a=t.nodeName.toLowerCase(),u;V7.hasOwnProperty(a)&&this.parser.normalizeLists&&JZ(t);let d=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(u=this.parser.matchTag(t,this,r));e:if(d?d.ignore:KZ.hasOwnProperty(a))this.findInside(t),this.ignoreFallback(t,n);else if(!d||d.skip||d.closeParent){d&&d.closeParent?this.open=Math.max(0,this.open-1):d&&d.skip.nodeType&&(t=d.skip);let f,p=this.needsBlock;if(U7.hasOwnProperty(a))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),f=!0,s.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,n);break e}let m=d&&d.skip?n:this.readStyles(t,n);m&&this.addAll(t,m),f&&this.sync(s),this.needsBlock=p}else{let f=this.readStyles(t,n);f&&this.addElementByRule(t,d,f,d.consuming===!1?u:void 0)}this.localPreserveWS=i}leafFallback(t,n){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),n)}ignoreFallback(t,n){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(t,n){let r=t.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],a=r.getPropertyValue(s);if(a)for(let u=void 0;;){let d=this.parser.matchStyle(s,a,this,u);if(!d)break;if(d.ignore)return null;if(d.clearMark?n=n.filter(f=>!d.clearMark(f)):n=n.concat(this.parser.schema.marks[d.mark].create(d.attrs)),d.consuming===!1)u=d;else break}}return n}addElementByRule(t,n,r,i){let s,a;if(n.node)if(a=this.parser.schema.nodes[n.node],a.isLeaf)this.insertNode(a.create(n.attrs),r,t.nodeName=="BR")||this.leafFallback(t,r);else{let d=this.enter(a,n.attrs||null,r,n.preserveWhitespace);d&&(s=!0,r=d)}else{let d=this.parser.schema.marks[n.mark];r=r.concat(d.create(n.attrs))}let u=this.top;if(a&&a.isLeaf)this.findInside(t);else if(i)this.addElement(t,r,i);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(d=>this.insertNode(d,r,!1));else{let d=t;typeof n.contentElement=="string"?d=t.querySelector(n.contentElement):typeof n.contentElement=="function"?d=n.contentElement(t):n.contentElement&&(d=n.contentElement),this.findAround(t,d,!0),this.addAll(d,r),this.findAround(t,d,!1)}s&&this.sync(u)&&this.open--}addAll(t,n,r,i){let s=r||0;for(let a=r?t.childNodes[r]:t.firstChild,u=i==null?null:t.childNodes[i];a!=u;a=a.nextSibling,++s)this.findAtPoint(t,s),this.addDOM(a,n);this.findAtPoint(t,s)}findPlace(t,n,r){let i,s;for(let a=this.open,u=0;a>=0;a--){let d=this.nodes[a],f=d.findWrapping(t);if(f&&(!i||i.length>f.length+u)&&(i=f,s=d,!f.length))break;if(d.solid){if(r)break;u+=2}}if(!i)return null;this.sync(s);for(let a=0;a<i.length;a++)n=this.enterInner(i[a],null,n,!1);return n}insertNode(t,n,r){if(t.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(n=this.enterInner(s,null,n))}let i=this.findPlace(t,n,r);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(t.type));let a=Jt.none;for(let u of i.concat(t.marks))(s.type?s.type.allowsMarkType(u.type):LS(u.type,t.type))&&(a=u.addToSet(a));return s.content.push(t.mark(a)),!0}return!1}enter(t,n,r,i){let s=this.findPlace(t.create(n),r,!1);return s&&(s=this.enterInner(t,n,r,!0,i)),s}enterInner(t,n,r,i=!1,s){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(t);let u=MS(t,s,a.options);a.options&Md&&a.content.length==0&&(u|=Md);let d=Jt.none;return r=r.filter(f=>(a.type?a.type.allowsMarkType(f.type):LS(f.type,t))?(d=f.addToSet(d),!1):!0),this.nodes.push(new cp(t,n,d,i,null,u)),this.open++,r}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let n=this.open;n>=0;n--){if(this.nodes[n]==t)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Xd)}return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)t+=r[i].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,r){if(t!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&t.nodeType==1&&t.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),a=(u,d)=>{for(;u>=0;u--){let f=n[u];if(f==""){if(u==n.length-1||u==0)continue;for(;d>=s;d--)if(a(u-1,d))return!0;return!1}else{let p=d>0||d==0&&i?this.nodes[d].type:r&&d>=s?r.node(d-s).type:null;if(!p||p.name!=f&&!p.isInGroup(f))return!1;d--}}return!0};return a(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function JZ(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let r=t.nodeType==1?t.nodeName.toLowerCase():null;r&&V7.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):r=="li"?n=t:r&&(n=null)}}function XZ(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function RS(e){let t={};for(let n in e)t[n]=e[n];return t}function LS(e,t){let n=t.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(e))continue;let s=[],a=u=>{s.push(u);for(let d=0;d<u.edgeCount;d++){let{type:f,next:p}=u.edge(d);if(f==t||s.indexOf(p)<0&&a(p))return!0}};if(a(i.contentMatch))return!0}}class Yu{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},r){r||(r=Mx(n).createDocumentFragment());let i=r,s=[];return t.forEach(a=>{if(s.length||a.marks.length){let u=0,d=0;for(;u<s.length&&d<a.marks.length;){let f=a.marks[d];if(!this.marks[f.type.name]){d++;continue}if(!f.eq(s[u][0])||f.type.spec.spanning===!1)break;u++,d++}for(;u<s.length;)i=s.pop()[1];for(;d<a.marks.length;){let f=a.marks[d++],p=this.serializeMark(f,a.isInline,n);p&&(s.push([f,i]),i.appendChild(p.dom),i=p.contentDOM||p.dom)}}i.appendChild(this.serializeNodeInner(a,n))}),r}serializeNodeInner(t,n){let{dom:r,contentDOM:i}=$p(Mx(n),this.nodes[t.type.name](t),null,t.attrs);if(i){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,i)}return r}serializeNode(t,n={}){let r=this.serializeNodeInner(t,n);for(let i=t.marks.length-1;i>=0;i--){let s=this.serializeMark(t.marks[i],t.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(t,n,r={}){let i=this.marks[t.type.name];return i&&$p(Mx(r),i(t,n),null,t.attrs)}static renderSpec(t,n,r=null,i){return $p(t,n,r,i)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new Yu(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=PS(t.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(t){return PS(t.marks)}}function PS(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function Mx(e){return e.document||window.document}const zS=new WeakMap;function ZZ(e){let t=zS.get(e);return t===void 0&&zS.set(e,t=QZ(e)),t}function QZ(e){let t=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")t||(t=[]),t.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(e),t}function $p(e,t,n,r){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let i=t[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=ZZ(r))&&s.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=i.indexOf(" ");a>0&&(n=i.slice(0,a),i=i.slice(a+1));let u,d=n?e.createElementNS(n,i):e.createElement(i),f=t[1],p=1;if(f&&typeof f=="object"&&f.nodeType==null&&!Array.isArray(f)){p=2;for(let m in f)if(f[m]!=null){let x=m.indexOf(" ");x>0?d.setAttributeNS(m.slice(0,x),m.slice(x+1),f[m]):m=="style"&&d.style?d.style.cssText=f[m]:d.setAttribute(m,f[m])}}for(let m=p;m<t.length;m++){let x=t[m];if(x===0){if(m<t.length-1||m>p)throw new RangeError("Content hole must be the only child of its parent node");return{dom:d,contentDOM:d}}else{let{dom:y,contentDOM:v}=$p(e,x,n,r);if(d.appendChild(y),v){if(u)throw new RangeError("Multiple content holes");u=v}}}return{dom:d,contentDOM:u}}const q7=65535,G7=Math.pow(2,16);function eQ(e,t){return e+t*G7}function IS(e){return e&q7}function tQ(e){return(e-(e&q7))/G7}const W7=1,Y7=2,Hp=4,K7=8;class m2{constructor(t,n,r){this.pos=t,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&K7)>0}get deletedBefore(){return(this.delInfo&(W7|Hp))>0}get deletedAfter(){return(this.delInfo&(Y7|Hp))>0}get deletedAcross(){return(this.delInfo&Hp)>0}}class ii{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&ii.empty)return ii.empty}recover(t){let n=0,r=IS(t);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+tQ(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,r){let i=0,s=this.inverted?2:1,a=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let d=this.ranges[u]-(this.inverted?i:0);if(d>t)break;let f=this.ranges[u+s],p=this.ranges[u+a],m=d+f;if(t<=m){let x=f?t==d?-1:t==m?1:n:n,y=d+i+(x<0?0:p);if(r)return y;let v=t==(n<0?d:m)?null:eQ(u/3,t-d),k=t==d?Y7:t==m?W7:Hp;return(n<0?t!=d:t!=m)&&(k|=K7),new m2(y,k,v)}i+=p-f}return r?t+i:new m2(t+i,0,null)}touches(t,n){let r=0,i=IS(n),s=this.inverted?2:1,a=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let d=this.ranges[u]-(this.inverted?r:0);if(d>t)break;let f=this.ranges[u+s],p=d+f;if(t<=p&&u==i*3)return!0;r+=this.ranges[u+a]-f}return!1}forEach(t){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let a=this.ranges[i],u=a-(this.inverted?s:0),d=a+(this.inverted?0:s),f=this.ranges[i+n],p=this.ranges[i+r];t(u,u+f,d,d+p),s+=p-f}}invert(){return new ii(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?ii.empty:new ii(t<0?[0,-t,0]:[0,0,t])}}ii.empty=new ii([]);class Zd{constructor(t,n,r=0,i=t?t.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=t||[],this.ownData=!(t||n)}get maps(){return this._maps}slice(t=0,n=this.maps.length){return new Zd(this._maps,this.mirror,t,n)}appendMap(t,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(t){for(let n=0,r=this._maps.length;n<t._maps.length;n++){let i=t.getMirror(n);this.appendMap(t._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,r=this._maps.length+t._maps.length;n>=0;n--){let i=t.getMirror(n);this.appendMap(t._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let t=new Zd;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let r=this.from;r<this.to;r++)t=this._maps[r].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,r){let i=0;for(let s=this.from;s<this.to;s++){let a=this._maps[s],u=a.mapResult(t,n);if(u.recover!=null){let d=this.getMirror(s);if(d!=null&&d>s&&d<this.to){s=d,t=this._maps[d].recover(u.recover);continue}}i|=u.delInfo,t=u.pos}return r?t:new m2(t,i,null)}}const Ox=Object.create(null);class Ar{getMap(){return ii.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Ox[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in Ox)throw new RangeError("Duplicate use of step JSON ID "+t);return Ox[t]=n,n.prototype.jsonID=t,n}}class Hn{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new Hn(t,null)}static fail(t){return new Hn(null,t)}static fromReplace(t,n,r,i){try{return Hn.ok(t.replace(n,r,i))}catch(s){if(s instanceof mm)return Hn.fail(s.message);throw s}}}function qb(e,t,n){let r=[];for(let i=0;i<e.childCount;i++){let s=e.child(i);s.content.size&&(s=s.copy(qb(s.content,t,s))),s.isInline&&(s=t(s,n,i)),r.push(s)}return Ee.fromArray(r)}class Wa extends Ar{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=t.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new $e(qb(n.content,(a,u)=>!a.isAtom||!u.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),i),n.openStart,n.openEnd);return Hn.fromReplace(t,this.from,this.to,s)}invert(){return new us(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Wa(n.pos,r.pos,this.mark)}merge(t){return t instanceof Wa&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Wa(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Wa(n.from,n.to,t.markFromJSON(n.mark))}}Ar.jsonID("addMark",Wa);class us extends Ar{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=new $e(qb(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),t),n.openStart,n.openEnd);return Hn.fromReplace(t,this.from,this.to,r)}invert(){return new Wa(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new us(n.pos,r.pos,this.mark)}merge(t){return t instanceof us&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new us(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new us(n.from,n.to,t.markFromJSON(n.mark))}}Ar.jsonID("removeMark",us);class Ya extends Ar{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return Hn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Hn.fromReplace(t,this.pos,this.pos+1,new $e(Ee.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Ya(this.pos,n.marks[i]);return new Ya(this.pos,this.mark)}}return new ro(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Ya(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Ya(n.pos,t.markFromJSON(n.mark))}}Ar.jsonID("addNodeMark",Ya);class ro extends Ar{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return Hn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Hn.fromReplace(t,this.pos,this.pos+1,new $e(Ee.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Ya(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new ro(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new ro(n.pos,t.markFromJSON(n.mark))}}Ar.jsonID("removeNodeMark",ro);class pr extends Ar{constructor(t,n,r,i=!1){super(),this.from=t,this.to=n,this.slice=r,this.structure=i}apply(t){return this.structure&&g2(t,this.from,this.to)?Hn.fail("Structure replace would overwrite content"):Hn.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new ii([this.from,this.to-this.from,this.slice.size])}invert(t){return new pr(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new pr(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(t){if(!(t instanceof pr)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?$e.empty:new $e(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new pr(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?$e.empty:new $e(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new pr(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new pr(n.from,n.to,$e.fromJSON(t,n.slice),!!n.structure)}}Ar.jsonID("replace",pr);class xr extends Ar{constructor(t,n,r,i,s,a,u=!1){super(),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=a,this.structure=u}apply(t){if(this.structure&&(g2(t,this.from,this.gapFrom)||g2(t,this.gapTo,this.to)))return Hn.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Hn.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Hn.fromReplace(t,this.from,this.to,r):Hn.fail("Content does not fit in gap")}getMap(){return new ii([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new xr(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:t.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:t.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new xr(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new xr(n.from,n.to,n.gapFrom,n.gapTo,$e.fromJSON(t,n.slice),n.insert,!!n.structure)}}Ar.jsonID("replaceAround",xr);function g2(e,t,n){let r=e.resolve(t),i=n-t,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let a=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,i--}}return!1}function nQ(e,t,n,r){let i=[],s=[],a,u;e.doc.nodesBetween(t,n,(d,f,p)=>{if(!d.isInline)return;let m=d.marks;if(!r.isInSet(m)&&p.type.allowsMarkType(r.type)){let x=Math.max(f,t),y=Math.min(f+d.nodeSize,n),v=r.addToSet(m);for(let k=0;k<m.length;k++)m[k].isInSet(v)||(a&&a.to==x&&a.mark.eq(m[k])?a.to=y:i.push(a=new us(x,y,m[k])));u&&u.to==x?u.to=y:s.push(u=new Wa(x,y,r))}}),i.forEach(d=>e.step(d)),s.forEach(d=>e.step(d))}function rQ(e,t,n,r){let i=[],s=0;e.doc.nodesBetween(t,n,(a,u)=>{if(!a.isInline)return;s++;let d=null;if(r instanceof h0){let f=a.marks,p;for(;p=r.isInSet(f);)(d||(d=[])).push(p),f=p.removeFromSet(f)}else r?r.isInSet(a.marks)&&(d=[r]):d=a.marks;if(d&&d.length){let f=Math.min(u+a.nodeSize,n);for(let p=0;p<d.length;p++){let m=d[p],x;for(let y=0;y<i.length;y++){let v=i[y];v.step==s-1&&m.eq(i[y].style)&&(x=v)}x?(x.to=f,x.step=s):i.push({style:m,from:Math.max(u,t),to:f,step:s})}}}),i.forEach(a=>e.step(new us(a.from,a.to,a.style)))}function Gb(e,t,n,r=n.contentMatch,i=!0){let s=e.doc.nodeAt(t),a=[],u=t+1;for(let d=0;d<s.childCount;d++){let f=s.child(d),p=u+f.nodeSize,m=r.matchType(f.type);if(!m)a.push(new pr(u,p,$e.empty));else{r=m;for(let x=0;x<f.marks.length;x++)n.allowsMarkType(f.marks[x].type)||e.step(new us(u,p,f.marks[x]));if(i&&f.isText&&n.whitespace!="pre"){let x,y=/\r?\n|\r/g,v;for(;x=y.exec(f.text);)v||(v=new $e(Ee.from(n.schema.text(" ",n.allowedMarks(f.marks))),0,0)),a.push(new pr(u+x.index,u+x.index+x[0].length,v))}}u=p}if(!r.validEnd){let d=r.fillBefore(Ee.empty,!0);e.replace(u,u,new $e(d,0,0))}for(let d=a.length-1;d>=0;d--)e.step(a[d])}function iQ(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function p0(e){let n=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let r=e.depth,i=0,s=0;;--r){let a=e.$from.node(r),u=e.$from.index(r)+i,d=e.$to.indexAfter(r)-s;if(r<e.depth&&a.canReplace(u,d,n))return r;if(r==0||a.type.spec.isolating||!iQ(a,u,d))break;u&&(i=1),d<a.childCount&&(s=1)}return null}function sQ(e,t,n){let{$from:r,$to:i,depth:s}=t,a=r.before(s+1),u=i.after(s+1),d=a,f=u,p=Ee.empty,m=0;for(let v=s,k=!1;v>n;v--)k||r.index(v)>0?(k=!0,p=Ee.from(r.node(v).copy(p)),m++):d--;let x=Ee.empty,y=0;for(let v=s,k=!1;v>n;v--)k||i.after(v+1)<i.end(v)?(k=!0,x=Ee.from(i.node(v).copy(x)),y++):f++;e.step(new xr(d,f,a,u,new $e(p.append(x),m,y),p.size-m,!0))}function Wb(e,t,n=null,r=e){let i=aQ(e,t),s=i&&lQ(r,t);return s?i.map(FS).concat({type:t,attrs:n}).concat(s.map(FS)):null}function FS(e){return{type:e,attrs:null}}function aQ(e,t){let{parent:n,startIndex:r,endIndex:i}=e,s=n.contentMatchAt(r).findWrapping(t);if(!s)return null;let a=s.length?s[0]:t;return n.canReplaceWith(r,i,a)?s:null}function lQ(e,t){let{parent:n,startIndex:r,endIndex:i}=e,s=n.child(r),a=t.contentMatch.findWrapping(s.type);if(!a)return null;let d=(a.length?a[a.length-1]:t).contentMatch;for(let f=r;d&&f<i;f++)d=d.matchType(n.child(f).type);return!d||!d.validEnd?null:a}function oQ(e,t,n){let r=Ee.empty;for(let a=n.length-1;a>=0;a--){if(r.size){let u=n[a].type.contentMatch.matchFragment(r);if(!u||!u.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=Ee.from(n[a].type.create(n[a].attrs,r))}let i=t.start,s=t.end;e.step(new xr(i,s,i,s,new $e(r,0,0),n.length,!0))}function uQ(e,t,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=e.steps.length;e.doc.nodesBetween(t,n,(a,u)=>{let d=typeof i=="function"?i(a):i;if(a.isTextblock&&!a.hasMarkup(r,d)&&cQ(e.doc,e.mapping.slice(s).map(u),r)){let f=null;if(r.schema.linebreakReplacement){let y=r.whitespace=="pre",v=!!r.contentMatch.matchType(r.schema.linebreakReplacement);y&&!v?f=!1:!y&&v&&(f=!0)}f===!1&&X7(e,a,u,s),Gb(e,e.mapping.slice(s).map(u,1),r,void 0,f===null);let p=e.mapping.slice(s),m=p.map(u,1),x=p.map(u+a.nodeSize,1);return e.step(new xr(m,x,m+1,x-1,new $e(Ee.from(r.create(d,null,a.marks)),0,0),1,!0)),f===!0&&J7(e,a,u,s),!1}})}function J7(e,t,n,r){t.forEach((i,s)=>{if(i.isText){let a,u=/\r?\n|\r/g;for(;a=u.exec(i.text);){let d=e.mapping.slice(r).map(n+1+s+a.index);e.replaceWith(d,d+1,t.type.schema.linebreakReplacement.create())}}})}function X7(e,t,n,r){t.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let a=e.mapping.slice(r).map(n+1+s);e.replaceWith(a,a+1,t.type.schema.text(`
`))}})}function cQ(e,t,n){let r=e.resolve(t),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function dQ(e,t,n,r,i){let s=e.doc.nodeAt(t);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let a=n.create(r,null,i||s.marks);if(s.isLeaf)return e.replaceWith(t,t+s.nodeSize,a);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new xr(t,t+s.nodeSize,t+1,t+s.nodeSize-1,new $e(Ee.from(a),0,0),1,!0))}function Od(e,t,n=1,r){let i=e.resolve(t),s=i.depth-n,a=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let f=i.depth-1,p=n-2;f>s;f--,p--){let m=i.node(f),x=i.index(f);if(m.type.spec.isolating)return!1;let y=m.content.cutByIndex(x,m.childCount),v=r&&r[p+1];v&&(y=y.replaceChild(0,v.type.create(v.attrs)));let k=r&&r[p]||m;if(!m.canReplace(x+1,m.childCount)||!k.type.validContent(y))return!1}let u=i.indexAfter(s),d=r&&r[0];return i.node(s).canReplaceWith(u,u,d?d.type:i.node(s+1).type)}function fQ(e,t,n=1,r){let i=e.doc.resolve(t),s=Ee.empty,a=Ee.empty;for(let u=i.depth,d=i.depth-n,f=n-1;u>d;u--,f--){s=Ee.from(i.node(u).copy(s));let p=r&&r[f];a=Ee.from(p?p.type.create(p.attrs,a):i.node(u).copy(a))}e.step(new pr(t,t,new $e(s.append(a),n,n),!0))}function m0(e,t){let n=e.resolve(t),r=n.index();return pQ(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function hQ(e,t){t.content.size||e.type.compatibleContent(t.type);let n=e.contentMatchAt(e.childCount),{linebreakReplacement:r}=e.type.schema;for(let i=0;i<t.childCount;i++){let s=t.child(i),a=s.type==r?e.type.schema.nodes.text:s.type;if(n=n.matchType(a),!n||!e.type.allowsMarks(s.marks))return!1}return n.validEnd}function pQ(e,t){return!!(e&&t&&!e.isLeaf&&hQ(e,t))}function mQ(e,t,n){let r=null,{linebreakReplacement:i}=e.doc.type.schema,s=e.doc.resolve(t-n),a=s.node().type;if(i&&a.inlineContent){let p=a.whitespace=="pre",m=!!a.contentMatch.matchType(i);p&&!m?r=!1:!p&&m&&(r=!0)}let u=e.steps.length;if(r===!1){let p=e.doc.resolve(t+n);X7(e,p.node(),p.before(),u)}a.inlineContent&&Gb(e,t+n-1,a,s.node().contentMatchAt(s.index()),r==null);let d=e.mapping.slice(u),f=d.map(t-n);if(e.step(new pr(f,d.map(t+n,-1),$e.empty,!0)),r===!0){let p=e.doc.resolve(f);J7(e,p.node(),p.before(),e.steps.length)}return e}function gQ(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function Z7(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let a=r.depth;a>=0;a--){let u=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,d=r.index(a)+(u>0?1:0),f=r.node(a),p=!1;if(s==1)p=f.canReplace(d,d,i);else{let m=f.contentMatchAt(d).findWrapping(i.firstChild.type);p=m&&f.canReplaceWith(d,d,m[0])}if(p)return u==0?r.pos:u<0?r.before(a+1):r.after(a+1)}return null}function Yb(e,t,n=t,r=$e.empty){if(t==n&&!r.size)return null;let i=e.resolve(t),s=e.resolve(n);return Q7(i,s,r)?new pr(t,n,r):new xQ(i,s,r).fit()}function Q7(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}class xQ{constructor(t,n,r){this.$from=t,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=Ee.empty;for(let i=0;i<=t.depth;i++){let s=t.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(t.indexAfter(i))})}for(let i=t.depth;i>0;i--)this.placed=Ee.from(t.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let f=this.findFittable();f?this.placeNodes(f):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(t<0?this.$to:r.doc.resolve(t));if(!i)return null;let s=this.placed,a=r.depth,u=i.depth;for(;a&&u&&s.childCount==1;)s=s.firstChild.content,a--,u--;let d=new $e(s,a,u);return t>-1?new xr(r.pos,t,this.$to.pos,this.$to.end(),d,n):d.size||r.pos!=this.$to.pos?new pr(r.pos,i.pos,d):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<t;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){t=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?t:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=Rx(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let a=i.firstChild;for(let u=this.depth;u>=0;u--){let{type:d,match:f}=this.frontier[u],p,m=null;if(n==1&&(a?f.matchType(a.type)||(m=f.fillBefore(Ee.from(a),!1)):s&&d.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:u,parent:s,inject:m};if(n==2&&a&&(p=f.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:u,parent:s,wrap:p};if(s&&f.matchType(s.type))break}}}openMore(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=Rx(t,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new $e(t,n+1,Math.max(r,i.size+n>=t.size-r?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=Rx(t,n);if(i.childCount<=1&&n>0){let s=t.size-n<=n+i.size;this.unplaced=new $e(wd(t,n-1,1),n-1,s?n-1:r)}else this.unplaced=new $e(wd(t,n,1),n,r)}placeNodes({sliceDepth:t,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let k=0;k<s.length;k++)this.openFrontierNode(s[k]);let a=this.unplaced,u=r?r.content:a.content,d=a.openStart-t,f=0,p=[],{match:m,type:x}=this.frontier[n];if(i){for(let k=0;k<i.childCount;k++)p.push(i.child(k));m=m.matchFragment(i)}let y=u.size+t-(a.content.size-a.openEnd);for(;f<u.childCount;){let k=u.child(f),j=m.matchType(k.type);if(!j)break;f++,(f>1||d==0||k.content.size)&&(m=j,p.push(eE(k.mark(x.allowedMarks(k.marks)),f==1?d:0,f==u.childCount?y:-1)))}let v=f==u.childCount;v||(y=-1),this.placed=kd(this.placed,n,Ee.from(p)),this.frontier[n].match=m,v&&y<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let k=0,j=u;k<y;k++){let C=j.lastChild;this.frontier.push({type:C.type,match:C.contentMatchAt(C.childCount)}),j=C.content}this.unplaced=v?t==0?$e.empty:new $e(wd(a.content,t-1,1),t-1,y<0?a.openEnd:t-1):new $e(wd(a.content,t,f),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!Lx(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(t){e:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),a=Lx(t,n,i,r,s);if(a){for(let u=n-1;u>=0;u--){let{match:d,type:f}=this.frontier[u],p=Lx(t,u,f,d,!0);if(!p||p.childCount)continue e}return{depth:n,fit:a,move:s?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=kd(this.placed,n.depth,n.fit)),t=n.move;for(let r=n.depth+1;r<=t.depth;r++){let i=t.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,t.index(r));this.openFrontierNode(i.type,i.attrs,s)}return t}openFrontierNode(t,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(t),this.placed=kd(this.placed,this.depth,Ee.from(t.create(n,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(Ee.empty,!0);n.childCount&&(this.placed=kd(this.placed,this.frontier.length,n))}}function wd(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(wd(e.firstChild.content,t-1,n)))}function kd(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(kd(e.lastChild.content,t-1,n)))}function Rx(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function eE(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,eE(r.firstChild,t-1,r.childCount==1?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(Ee.empty,!0)))),e.copy(r)}function Lx(e,t,n,r,i){let s=e.node(t),a=i?e.indexAfter(t):e.index(t);if(a==s.childCount&&!n.compatibleContent(s.type))return null;let u=r.fillBefore(s.content,!0,a);return u&&!yQ(n,s.content,a)?u:null}function yQ(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function bQ(e){return e.spec.defining||e.spec.definingForContent}function vQ(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let i=e.doc.resolve(t),s=e.doc.resolve(n);if(Q7(i,s,r))return e.step(new pr(t,n,r));let a=nE(i,s);a[a.length-1]==0&&a.pop();let u=-(i.depth+1);a.unshift(u);for(let x=i.depth,y=i.pos-1;x>0;x--,y--){let v=i.node(x).type.spec;if(v.defining||v.definingAsContext||v.isolating)break;a.indexOf(x)>-1?u=x:i.before(x)==y&&a.splice(1,0,-x)}let d=a.indexOf(u),f=[],p=r.openStart;for(let x=r.content,y=0;;y++){let v=x.firstChild;if(f.push(v),y==r.openStart)break;x=v.content}for(let x=p-1;x>=0;x--){let y=f[x],v=bQ(y.type);if(v&&!y.sameMarkup(i.node(Math.abs(u)-1)))p=x;else if(v||!y.type.isTextblock)break}for(let x=r.openStart;x>=0;x--){let y=(x+p+1)%(r.openStart+1),v=f[y];if(v)for(let k=0;k<a.length;k++){let j=a[(k+d)%a.length],C=!0;j<0&&(C=!1,j=-j);let N=i.node(j-1),A=i.index(j-1);if(N.canReplaceWith(A,A,v.type,v.marks))return e.replace(i.before(j),C?s.after(j):n,new $e(tE(r.content,0,r.openStart,y),y,r.openEnd))}}let m=e.steps.length;for(let x=a.length-1;x>=0&&(e.replace(t,n,r),!(e.steps.length>m));x--){let y=a[x];y<0||(t=i.before(y),n=s.after(y))}}function tE(e,t,n,r,i){if(t<n){let s=e.firstChild;e=e.replaceChild(0,s.copy(tE(s.content,t+1,n,r,s)))}if(t>r){let s=i.contentMatchAt(0),a=s.fillBefore(e).append(e);e=a.append(s.matchFragment(a).fillBefore(Ee.empty,!0))}return e}function wQ(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let i=gQ(e.doc,t,r.type);i!=null&&(t=n=i)}e.replaceRange(t,n,new $e(Ee.from(r),0,0))}function kQ(e,t,n){let r=e.doc.resolve(t),i=e.doc.resolve(n),s=nE(r,i);for(let a=0;a<s.length;a++){let u=s[a],d=a==s.length-1;if(d&&u==0||r.node(u).type.contentMatch.validEnd)return e.delete(r.start(u),i.end(u));if(u>0&&(d||r.node(u-1).canReplace(r.index(u-1),i.indexAfter(u-1))))return e.delete(r.before(u),i.after(u))}for(let a=1;a<=r.depth&&a<=i.depth;a++)if(t-r.start(a)==r.depth-a&&n>r.end(a)&&i.end(a)-n!=i.depth-a&&r.start(a-1)==i.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),i.index(a-1)))return e.delete(r.before(a),n);e.delete(t,n)}function nE(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let i=r;i>=0;i--){let s=e.start(i);if(s<e.pos-(e.depth-i)||t.end(i)>t.pos+(t.depth-i)||e.node(i).type.spec.isolating||t.node(i).type.spec.isolating)break;(s==t.start(i)||i==e.depth&&i==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&i&&t.start(i-1)==s-1)&&n.push(i)}return n}class vu extends Ar{constructor(t,n,r){super(),this.pos=t,this.attr=n,this.value=r}apply(t){let n=t.nodeAt(this.pos);if(!n)return Hn.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return Hn.fromReplace(t,this.pos,this.pos+1,new $e(Ee.from(i),0,n.isLeaf?0:1))}getMap(){return ii.empty}invert(t){return new vu(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new vu(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new vu(n.pos,n.attr,n.value)}}Ar.jsonID("attr",vu);class Qd extends Ar{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let i in t.attrs)n[i]=t.attrs[i];n[this.attr]=this.value;let r=t.type.create(n,t.content,t.marks);return Hn.ok(r)}getMap(){return ii.empty}invert(t){return new Qd(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Qd(n.attr,n.value)}}Ar.jsonID("docAttr",Qd);let Du=class extends Error{};Du=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};Du.prototype=Object.create(Error.prototype);Du.prototype.constructor=Du;Du.prototype.name="TransformError";class rE{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new Zd}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new Du(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,r=$e.empty){let i=Yb(this.doc,t,n,r);return i&&this.step(i),this}replaceWith(t,n,r){return this.replace(t,n,new $e(Ee.from(r),0,0))}delete(t,n){return this.replace(t,n,$e.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,r){return vQ(this,t,n,r),this}replaceRangeWith(t,n,r){return wQ(this,t,n,r),this}deleteRange(t,n){return kQ(this,t,n),this}lift(t,n){return sQ(this,t,n),this}join(t,n=1){return mQ(this,t,n),this}wrap(t,n){return oQ(this,t,n),this}setBlockType(t,n=t,r,i=null){return uQ(this,t,n,r,i),this}setNodeMarkup(t,n,r=null,i){return dQ(this,t,n,r,i),this}setNodeAttribute(t,n,r){return this.step(new vu(t,n,r)),this}setDocAttribute(t,n){return this.step(new Qd(t,n)),this}addNodeMark(t,n){return this.step(new Ya(t,n)),this}removeNodeMark(t,n){let r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at position "+t);if(n instanceof Jt)n.isInSet(r.marks)&&this.step(new ro(t,n));else{let i=r.marks,s,a=[];for(;s=n.isInSet(i);)a.push(new ro(t,s)),i=s.removeFromSet(i);for(let u=a.length-1;u>=0;u--)this.step(a[u])}return this}split(t,n=1,r){return fQ(this,t,n,r),this}addMark(t,n,r){return nQ(this,t,n,r),this}removeMark(t,n,r){return rQ(this,t,n,r),this}clearIncompatible(t,n,r){return Gb(this,t,n,r),this}}const Px=Object.create(null);class Et{constructor(t,n,r){this.$anchor=t,this.$head=n,this.ranges=r||[new iE(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=$e.empty){let r=n.content.lastChild,i=null;for(let u=0;u<n.openEnd;u++)i=r,r=r.lastChild;let s=t.steps.length,a=this.ranges;for(let u=0;u<a.length;u++){let{$from:d,$to:f}=a[u],p=t.mapping.slice(s);t.replaceRange(p.map(d.pos),p.map(f.pos),u?$e.empty:n),u==0&&HS(t,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(t,n){let r=t.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:a,$to:u}=i[s],d=t.mapping.slice(r),f=d.map(a.pos),p=d.map(u.pos);s?t.deleteRange(f,p):(t.replaceRangeWith(f,p,n),HS(t,r,n.isInline?-1:1))}}static findFrom(t,n,r=!1){let i=t.parent.inlineContent?new qt(t):cu(t.node(0),t.parent,t.pos,t.index(),n,r);if(i)return i;for(let s=t.depth-1;s>=0;s--){let a=n<0?cu(t.node(0),t.node(s),t.before(s+1),t.index(s),n,r):cu(t.node(0),t.node(s),t.after(s+1),t.index(s)+1,n,r);if(a)return a}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new oi(t.node(0))}static atStart(t){return cu(t,t,0,0,1)||new oi(t)}static atEnd(t){return cu(t,t,t.content.size,t.childCount,-1)||new oi(t)}static fromJSON(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Px[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in Px)throw new RangeError("Duplicate use of selection JSON ID "+t);return Px[t]=n,n.prototype.jsonID=t,n}getBookmark(){return qt.between(this.$anchor,this.$head).getBookmark()}}Et.prototype.visible=!0;class iE{constructor(t,n){this.$from=t,this.$to=n}}let BS=!1;function $S(e){!BS&&!e.parent.inlineContent&&(BS=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class qt extends Et{constructor(t,n=t){$S(t),$S(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let r=t.resolve(n.map(this.head));if(!r.parent.inlineContent)return Et.near(r);let i=t.resolve(n.map(this.anchor));return new qt(i.parent.inlineContent?i:r,r)}replace(t,n=$e.empty){if(super.replace(t,n),n==$e.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof qt&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new g0(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new qt(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){let i=t.resolve(n);return new this(i,r==n?i:t.resolve(r))}static between(t,n,r){let i=t.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=Et.findFrom(n,r,!0)||Et.findFrom(n,-r,!0);if(s)n=s.$head;else return Et.near(n,r)}return t.parent.inlineContent||(i==0?t=n:(t=(Et.findFrom(t,-r,!0)||Et.findFrom(t,r,!0)).$anchor,t.pos<n.pos!=i<0&&(t=n))),new qt(t,n)}}Et.jsonID("text",qt);class g0{constructor(t,n){this.anchor=t,this.head=n}map(t){return new g0(t.map(this.anchor),t.map(this.head))}resolve(t){return qt.between(t.resolve(this.anchor),t.resolve(this.head))}}class _t extends Et{constructor(t){let n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);super(t,r),this.node=n}map(t,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=t.resolve(i);return r?Et.near(s):new _t(s)}content(){return new $e(Ee.from(this.node),0,0)}eq(t){return t instanceof _t&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Kb(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new _t(t.resolve(n.anchor))}static create(t,n){return new _t(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}_t.prototype.visible=!1;Et.jsonID("node",_t);class Kb{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:r}=t.mapResult(this.anchor);return n?new g0(r,r):new Kb(r)}resolve(t){let n=t.resolve(this.anchor),r=n.nodeAfter;return r&&_t.isSelectable(r)?new _t(n):Et.near(n)}}class oi extends Et{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=$e.empty){if(n==$e.empty){t.delete(0,t.doc.content.size);let r=Et.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new oi(t)}map(t){return new oi(t)}eq(t){return t instanceof oi}getBookmark(){return SQ}}Et.jsonID("all",oi);const SQ={map(){return this},resolve(e){return new oi(e)}};function cu(e,t,n,r,i,s=!1){if(t.inlineContent)return qt.create(e,n);for(let a=r-(i>0?0:1);i>0?a<t.childCount:a>=0;a+=i){let u=t.child(a);if(u.isAtom){if(!s&&_t.isSelectable(u))return _t.create(e,n-(i<0?u.nodeSize:0))}else{let d=cu(e,u,n+i,i<0?u.childCount:0,i,s);if(d)return d}n+=u.nodeSize*i}return null}function HS(e,t,n){let r=e.steps.length-1;if(r<t)return;let i=e.steps[r];if(!(i instanceof pr||i instanceof xr))return;let s=e.mapping.maps[r],a;s.forEach((u,d,f,p)=>{a==null&&(a=p)}),e.setSelection(Et.near(e.doc.resolve(a),n))}const US=1,dp=2,VS=4;class CQ extends rE{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|US)&~dp,this.storedMarks=null,this}get selectionSet(){return(this.updated&US)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=dp,this}ensureMarks(t){return Jt.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&dp)>0}addStep(t,n){super.addStep(t,n),this.updated=this.updated&~dp,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let r=this.selection;return n&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Jt.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,r){let i=this.doc.type.schema;if(n==null)return t?this.replaceSelectionWith(i.text(t),!0):this.deleteSelection();{if(r==null&&(r=n),!t)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let a=this.doc.resolve(n);s=r==n?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(t,s)),!this.selection.empty&&this.selection.to==n+t.length&&this.setSelection(Et.near(this.selection.$to)),this}}setMeta(t,n){return this.meta[typeof t=="string"?t:t.key]=n,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=VS,this}get scrolledIntoView(){return(this.updated&VS)>0}}function qS(e,t){return!t||!e?e:e.bind(t)}class Sd{constructor(t,n,r){this.name=t,this.init=qS(n.init,r),this.apply=qS(n.apply,r)}}const jQ=[new Sd("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new Sd("selection",{init(e,t){return e.selection||Et.atStart(t.doc)},apply(e){return e.selection}}),new Sd("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new Sd("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class zx{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=jQ.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Sd(r.key,r.spec.state,r))})}}class hu{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],r=this.applyInner(t),i=null;for(;;){let s=!1;for(let a=0;a<this.config.plugins.length;a++){let u=this.config.plugins[a];if(u.spec.appendTransaction){let d=i?i[a].n:0,f=i?i[a].state:this,p=d<n.length&&u.spec.appendTransaction.call(u,d?n.slice(d):n,f,r);if(p&&r.filterTransaction(p,a)){if(p.setMeta("appendedTransaction",t),!i){i=[];for(let m=0;m<this.config.plugins.length;m++)i.push(m<a?{state:r,n:n.length}:{state:this,n:0})}n.push(p),r=r.applyInner(p),s=!0}i&&(i[a]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new hu(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(t,this[s.name],this,n)}return n}get tr(){return new CQ(this)}static create(t){let n=new zx(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new hu(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(t,r);return r}reconfigure(t){let n=new zx(this.schema,t.plugins),r=n.fields,i=new hu(n);for(let s=0;s<r.length;s++){let a=r[s].name;i[a]=this.hasOwnProperty(a)?this[a]:r[s].init(t,i)}return i}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),t&&typeof t=="object")for(let r in t){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=t[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(t,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let i=new zx(t.schema,t.plugins),s=new hu(i);return i.fields.forEach(a=>{if(a.name=="doc")s.doc=Wl.fromJSON(t.schema,n.doc);else if(a.name=="selection")s.selection=Et.fromJSON(s.doc,n.selection);else if(a.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let u in r){let d=r[u],f=d.spec.state;if(d.key==a.name&&f&&f.fromJSON&&Object.prototype.hasOwnProperty.call(n,u)){s[a.name]=f.fromJSON.call(d,t,n[u],s);return}}s[a.name]=a.init(t,s)}}),s}}function sE(e,t,n){for(let r in e){let i=e[r];i instanceof Function?i=i.bind(t):r=="handleDOMEvents"&&(i=sE(i,t,{})),n[r]=i}return n}class na{constructor(t){this.spec=t,this.props={},t.props&&sE(t.props,this,this.props),this.key=t.key?t.key.key:aE("plugin")}getState(t){return t[this.key]}}const Ix=Object.create(null);function aE(e){return e in Ix?e+"$"+ ++Ix[e]:(Ix[e]=0,e+"$")}class po{constructor(t="key"){this.key=aE(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const mr=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},Tu=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let x2=null;const Ys=function(e,t,n){let r=x2||(x2=document.createRange());return r.setEnd(e,n??e.nodeValue.length),r.setStart(e,t||0),r},_Q=function(){x2=null},io=function(e,t,n,r){return n&&(GS(e,t,n,r,-1)||GS(e,t,n,r,1))},NQ=/^(img|br|input|textarea|hr)$/i;function GS(e,t,n,r,i){for(var s;;){if(e==n&&t==r)return!0;if(t==(i<0?0:_i(e))){let a=e.parentNode;if(!a||a.nodeType!=1||Ef(e)||NQ.test(e.nodeName)||e.contentEditable=="false")return!1;t=mr(e)+(i<0?0:1),e=a}else if(e.nodeType==1){let a=e.childNodes[t+(i<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((s=a.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)t+=i;else return!1;else e=a,t=i<0?_i(e):0}else return!1}}function _i(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function EQ(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=_i(e)}else if(e.parentNode&&!Ef(e))t=mr(e),e=e.parentNode;else return null}}function AQ(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!Ef(e))t=mr(e)+1,e=e.parentNode;else return null}}function DQ(e,t,n){for(let r=t==0,i=t==_i(e);r||i;){if(e==n)return!0;let s=mr(e);if(e=e.parentNode,!e)return!1;r=r&&s==0,i=i&&s==_i(e)}}function Ef(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const x0=function(e){return e.focusNode&&io(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function $l(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function TQ(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function MQ(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:Math.min(_i(r.offsetNode),r.offset)}}catch{}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:Math.min(_i(r.startContainer),r.startOffset)}}}const ys=typeof navigator<"u"?navigator:null,WS=typeof document<"u"?document:null,ml=ys&&ys.userAgent||"",y2=/Edge\/(\d+)/.exec(ml),lE=/MSIE \d/.exec(ml),b2=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ml),qr=!!(lE||b2||y2),Qa=lE?document.documentMode:b2?+b2[1]:y2?+y2[1]:0,Ei=!qr&&/gecko\/(\d+)/i.test(ml);Ei&&+(/Firefox\/(\d+)/.exec(ml)||[0,0])[1];const v2=!qr&&/Chrome\/(\d+)/.exec(ml),rr=!!v2,oE=v2?+v2[1]:0,_r=!qr&&!!ys&&/Apple Computer/.test(ys.vendor),Mu=_r&&(/Mobile\/\w+/.test(ml)||!!ys&&ys.maxTouchPoints>2),Ci=Mu||(ys?/Mac/.test(ys.platform):!1),uE=ys?/Win/.test(ys.platform):!1,Js=/Android \d/.test(ml),Af=!!WS&&"webkitFontSmoothing"in WS.documentElement.style,OQ=Af?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function RQ(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function Vs(e,t){return typeof e=="number"?e:e[t]}function LQ(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function YS(e,t,n){let r=e.someProp("scrollThreshold")||0,i=e.someProp("scrollMargin")||5,s=e.dom.ownerDocument;for(let a=n||e.dom;a;){if(a.nodeType!=1){a=Tu(a);continue}let u=a,d=u==s.body,f=d?RQ(s):LQ(u),p=0,m=0;if(t.top<f.top+Vs(r,"top")?m=-(f.top-t.top+Vs(i,"top")):t.bottom>f.bottom-Vs(r,"bottom")&&(m=t.bottom-t.top>f.bottom-f.top?t.top+Vs(i,"top")-f.top:t.bottom-f.bottom+Vs(i,"bottom")),t.left<f.left+Vs(r,"left")?p=-(f.left-t.left+Vs(i,"left")):t.right>f.right-Vs(r,"right")&&(p=t.right-f.right+Vs(i,"right")),p||m)if(d)s.defaultView.scrollBy(p,m);else{let y=u.scrollLeft,v=u.scrollTop;m&&(u.scrollTop+=m),p&&(u.scrollLeft+=p);let k=u.scrollLeft-y,j=u.scrollTop-v;t={left:t.left-k,top:t.top-j,right:t.right-k,bottom:t.bottom-j}}let x=d?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(x))break;a=x=="absolute"?a.offsetParent:Tu(a)}}function PQ(e){let t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),r,i;for(let s=(t.left+t.right)/2,a=n+1;a<Math.min(innerHeight,t.bottom);a+=5){let u=e.root.elementFromPoint(s,a);if(!u||u==e.dom||!e.dom.contains(u))continue;let d=u.getBoundingClientRect();if(d.top>=n-20){r=u,i=d.top;break}}return{refDOM:r,refTop:i,stack:cE(e.dom)}}function cE(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=Tu(r));return t}function zQ({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;dE(n,r==0?0:r-t)}function dE(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:i,left:s}=e[n];r.scrollTop!=i+t&&(r.scrollTop=i+t),r.scrollLeft!=s&&(r.scrollLeft=s)}}let ru=null;function IQ(e){if(e.setActive)return e.setActive();if(ru)return e.focus(ru);let t=cE(e);e.focus(ru==null?{get preventScroll(){return ru={preventScroll:!0},!0}}:void 0),ru||(ru=!1,dE(t,0))}function fE(e,t){let n,r=2e8,i,s=0,a=t.top,u=t.top,d,f;for(let p=e.firstChild,m=0;p;p=p.nextSibling,m++){let x;if(p.nodeType==1)x=p.getClientRects();else if(p.nodeType==3)x=Ys(p).getClientRects();else continue;for(let y=0;y<x.length;y++){let v=x[y];if(v.top<=a&&v.bottom>=u){a=Math.max(v.bottom,a),u=Math.min(v.top,u);let k=v.left>t.left?v.left-t.left:v.right<t.left?t.left-v.right:0;if(k<r){n=p,r=k,i=k&&n.nodeType==3?{left:v.right<t.left?v.right:v.left,top:t.top}:t,p.nodeType==1&&k&&(s=m+(t.left>=(v.left+v.right)/2?1:0));continue}}else v.top>t.top&&!d&&v.left<=t.left&&v.right>=t.left&&(d=p,f={left:Math.max(v.left,Math.min(v.right,t.left)),top:v.top});!n&&(t.left>=v.right&&t.top>=v.top||t.left>=v.left&&t.top>=v.bottom)&&(s=m+1)}}return!n&&d&&(n=d,i=f,r=0),n&&n.nodeType==3?FQ(n,i):!n||r&&n.nodeType==1?{node:e,offset:s}:fE(n,i)}function FQ(e,t){let n=e.nodeValue.length,r=document.createRange(),i;for(let s=0;s<n;s++){r.setEnd(e,s+1),r.setStart(e,s);let a=La(r,1);if(a.top!=a.bottom&&Jb(t,a)){i={node:e,offset:s+(t.left>=(a.left+a.right)/2?1:0)};break}}return r.detach(),i||{node:e,offset:0}}function Jb(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function BQ(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function $Q(e,t,n){let{node:r,offset:i}=fE(t,n),s=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();s=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return e.docView.posFromDOM(r,i,s)}function HQ(e,t,n,r){let i=-1;for(let s=t,a=!1;s!=e.dom;){let u=e.docView.nearestDesc(s,!0),d;if(!u)return null;if(u.dom.nodeType==1&&(u.node.isBlock&&u.parent||!u.contentDOM)&&((d=u.dom.getBoundingClientRect()).width||d.height)&&(u.node.isBlock&&u.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(u.dom.nodeName)&&(!a&&d.left>r.left||d.top>r.top?i=u.posBefore:(!a&&d.right<r.left||d.bottom<r.top)&&(i=u.posAfter),a=!0),!u.contentDOM&&i<0&&!u.node.isText))return(u.node.isBlock?r.top<(d.top+d.bottom)/2:r.left<(d.left+d.right)/2)?u.posBefore:u.posAfter;s=u.dom.parentNode}return i>-1?i:e.docView.posFromDOM(t,n,-1)}function hE(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let a=e.childNodes[s];if(a.nodeType==1){let u=a.getClientRects();for(let d=0;d<u.length;d++){let f=u[d];if(Jb(t,f))return hE(a,t,f)}}if((s=(s+1)%r)==i)break}return e}function UQ(e,t){let n=e.dom.ownerDocument,r,i=0,s=MQ(n,t.left,t.top);s&&({node:r,offset:i}=s);let a=(e.root.elementFromPoint?e.root:n).elementFromPoint(t.left,t.top),u;if(!a||!e.dom.contains(a.nodeType!=1?a.parentNode:a)){let f=e.dom.getBoundingClientRect();if(!Jb(t,f)||(a=hE(e.dom,t,f),!a))return null}if(_r)for(let f=a;r&&f;f=Tu(f))f.draggable&&(r=void 0);if(a=BQ(a,t),r){if(Ei&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let p=r.childNodes[i],m;p.nodeName=="IMG"&&(m=p.getBoundingClientRect()).right<=t.left&&m.bottom>t.top&&i++}let f;Af&&i&&r.nodeType==1&&(f=r.childNodes[i-1]).nodeType==1&&f.contentEditable=="false"&&f.getBoundingClientRect().top>=t.top&&i--,r==e.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&t.top>r.lastChild.getBoundingClientRect().bottom?u=e.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(u=HQ(e,r,i,t))}u==null&&(u=$Q(e,a,t));let d=e.docView.nearestDesc(a,!0);return{pos:u,inside:d?d.posAtStart-d.border:-1}}function KS(e){return e.top<e.bottom||e.left<e.right}function La(e,t){let n=e.getClientRects();if(n.length){let r=n[t<0?0:n.length-1];if(KS(r))return r}return Array.prototype.find.call(n,KS)||e.getBoundingClientRect()}const VQ=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function pE(e,t,n){let{node:r,offset:i,atom:s}=e.docView.domFromPos(t,n<0?-1:1),a=Af||Ei;if(r.nodeType==3)if(a&&(VQ.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let d=La(Ys(r,i,i),n);if(Ei&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let f=La(Ys(r,i-1,i-1),-1);if(f.top==d.top){let p=La(Ys(r,i,i+1),-1);if(p.top!=d.top)return sd(p,p.left<f.left)}}return d}else{let d=i,f=i,p=n<0?1:-1;return n<0&&!i?(f++,p=-1):n>=0&&i==r.nodeValue.length?(d--,p=1):n<0?d--:f++,sd(La(Ys(r,d,f),p),p<0)}if(!e.state.doc.resolve(t-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==_i(r))){let d=r.childNodes[i-1];if(d.nodeType==1)return Fx(d.getBoundingClientRect(),!1)}if(s==null&&i<_i(r)){let d=r.childNodes[i];if(d.nodeType==1)return Fx(d.getBoundingClientRect(),!0)}return Fx(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==_i(r))){let d=r.childNodes[i-1],f=d.nodeType==3?Ys(d,_i(d)-(a?0:1)):d.nodeType==1&&(d.nodeName!="BR"||!d.nextSibling)?d:null;if(f)return sd(La(f,1),!1)}if(s==null&&i<_i(r)){let d=r.childNodes[i];for(;d.pmViewDesc&&d.pmViewDesc.ignoreForCoords;)d=d.nextSibling;let f=d?d.nodeType==3?Ys(d,0,a?0:1):d.nodeType==1?d:null:null;if(f)return sd(La(f,-1),!0)}return sd(La(r.nodeType==3?Ys(r):r,-n),n>=0)}function sd(e,t){if(e.width==0)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function Fx(e,t){if(e.height==0)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function mE(e,t,n){let r=e.state,i=e.root.activeElement;r!=t&&e.updateState(t),i!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),i!=e.dom&&i&&i.focus()}}function qQ(e,t,n){let r=t.selection,i=n=="up"?r.$from:r.$to;return mE(e,t,()=>{let{node:s}=e.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let u=e.docView.nearestDesc(s,!0);if(!u)break;if(u.node.isBlock){s=u.contentDOM||u.dom;break}s=u.dom.parentNode}let a=pE(e,i.pos,1);for(let u=s.firstChild;u;u=u.nextSibling){let d;if(u.nodeType==1)d=u.getClientRects();else if(u.nodeType==3)d=Ys(u,0,u.nodeValue.length).getClientRects();else continue;for(let f=0;f<d.length;f++){let p=d[f];if(p.bottom>p.top+1&&(n=="up"?a.top-p.top>(p.bottom-a.top)*2:p.bottom-a.bottom>(a.bottom-p.top)*2))return!1}}return!0})}const GQ=/[\u0590-\u08ac]/;function WQ(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,a=i==r.parent.content.size,u=e.domSelection();return u?!GQ.test(r.parent.textContent)||!u.modify?n=="left"||n=="backward"?s:a:mE(e,t,()=>{let{focusNode:d,focusOffset:f,anchorNode:p,anchorOffset:m}=e.domSelectionRange(),x=u.caretBidiLevel;u.modify("move",n,"character");let y=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:v,focusOffset:k}=e.domSelectionRange(),j=v&&!y.contains(v.nodeType==1?v:v.parentNode)||d==v&&f==k;try{u.collapse(p,m),d&&(d!=p||f!=m)&&u.extend&&u.extend(d,f)}catch{}return x!=null&&(u.caretBidiLevel=x),j}):r.pos==r.start()||r.pos==r.end()}let JS=null,XS=null,ZS=!1;function YQ(e,t,n){return JS==t&&XS==n?ZS:(JS=t,XS=n,ZS=n=="up"||n=="down"?qQ(e,t,n):WQ(e,t,n))}const Ai=0,QS=1,Ul=2,bs=3;class Df{constructor(t,n,r,i){this.parent=t,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=Ai,r.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,r){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==t)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,r){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(r<0){let s,a;if(t==this.contentDOM)s=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;s=t.previousSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(a)+a.size:this.posAtStart}else{let s,a;if(t==this.contentDOM)s=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;s=t.nextSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(a):this.posAtEnd}let i;if(t==this.dom&&this.contentDOM)i=n>mr(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=t;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==t.childNodes.length)for(let s=t;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let r=!0,i=t;i;i=i.parentNode){let s=this.getDesc(i),a;if(s&&(!n||s.node))if(r&&(a=s.nodeDOM)&&!(a.nodeType==1?a.contains(t.nodeType==1?t:t.parentNode):a==t))r=!1;else return s}}getDesc(t){let n=t.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(t,n,r){for(let i=t;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(t,n,r)}return-1}descAt(t){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==t&&s!=r){for(;!i.border&&i.children.length;)for(let a=0;a<i.children.length;a++){let u=i.children[a];if(u.size){i=u;break}}return i}if(t<s)return i.descAt(t-r-i.border);r=s}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let a=this.children[r],u=s+a.size;if(u>t||a instanceof xE){i=t-s;break}s=u}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof gE&&s.side>=0;r--);if(n<=0){let s,a=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,a=!1);return s&&n&&a&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?mr(s.dom)+1:0}}else{let s,a=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,a=!1);return s&&a&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?mr(s.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let a=r,u=0;;u++){let d=this.children[u],f=a+d.size;if(i==-1&&t<=f){let p=a+d.border;if(t>=p&&n<=f-d.border&&d.node&&d.contentDOM&&this.contentDOM.contains(d.contentDOM))return d.parseRange(t,n,p);t=a;for(let m=u;m>0;m--){let x=this.children[m-1];if(x.size&&x.dom.parentNode==this.contentDOM&&!x.emptyChildAt(1)){i=mr(x.dom)+1;break}t-=x.size}i==-1&&(i=0)}if(i>-1&&(f>n||u==this.children.length-1)){n=f;for(let p=u+1;p<this.children.length;p++){let m=this.children[p];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){s=mr(m.dom);break}n+=m.size}s==-1&&(s=this.contentDOM.childNodes.length);break}a=f}return{node:this.contentDOM,from:t,to:n,fromOffset:i,toOffset:s}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:r}=this.domFromPos(t,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]}setSelection(t,n,r,i=!1){let s=Math.min(t,n),a=Math.max(t,n);for(let y=0,v=0;y<this.children.length;y++){let k=this.children[y],j=v+k.size;if(s>v&&a<j)return k.setSelection(t-v-k.border,n-v-k.border,r,i);v=j}let u=this.domFromPos(t,t?-1:1),d=n==t?u:this.domFromPos(n,n?-1:1),f=r.root.getSelection(),p=r.domSelectionRange(),m=!1;if((Ei||_r)&&t==n){let{node:y,offset:v}=u;if(y.nodeType==3){if(m=!!(v&&y.nodeValue[v-1]==`
`),m&&v==y.nodeValue.length)for(let k=y,j;k;k=k.parentNode){if(j=k.nextSibling){j.nodeName=="BR"&&(u=d={node:j.parentNode,offset:mr(j)+1});break}let C=k.pmViewDesc;if(C&&C.node&&C.node.isBlock)break}}else{let k=y.childNodes[v-1];m=k&&(k.nodeName=="BR"||k.contentEditable=="false")}}if(Ei&&p.focusNode&&p.focusNode!=d.node&&p.focusNode.nodeType==1){let y=p.focusNode.childNodes[p.focusOffset];y&&y.contentEditable=="false"&&(i=!0)}if(!(i||m&&_r)&&io(u.node,u.offset,p.anchorNode,p.anchorOffset)&&io(d.node,d.offset,p.focusNode,p.focusOffset))return;let x=!1;if((f.extend||t==n)&&!(m&&Ei)){f.collapse(u.node,u.offset);try{t!=n&&f.extend(d.node,d.offset),x=!0}catch{}}if(!x){if(t>n){let v=u;u=d,d=v}let y=document.createRange();y.setEnd(d.node,d.offset),y.setStart(u.node,u.offset),f.removeAllRanges(),f.addRange(y)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],a=r+s.size;if(r==a?t<=a&&n>=r:t<a&&n>r){let u=r+s.border,d=a-s.border;if(t>=u&&n<=d){this.dirty=t==r||n==a?Ul:QS,t==u&&n==d&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=bs:s.markDirty(t-u,n-u);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Ul:bs}r=a}this.dirty=Ul}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let r=t==1?Ul:QS;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(t){return!1}}class gE extends Df{constructor(t,n,r,i){let s,a=n.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(a.nodeType!=1){let u=document.createElement("span");u.appendChild(a),a=u}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(t,[],a,null),this.widget=n,this.widget=n,s=this}matchesWidget(t){return this.dirty==Ai&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return n?n(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class KQ extends Df{constructor(t,n,r,i){super(t,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class so extends Df{constructor(t,n,r,i,s){super(t,[],r,i),this.mark=n,this.spec=s}static create(t,n,r,i){let s=i.nodeViews[n.type.name],a=s&&s(n,i,r);return(!a||!a.dom)&&(a=Yu.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new so(t,n,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&bs||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=bs&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),this.dirty!=Ai){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Ai}}slice(t,n,r){let i=so.create(this.parent,this.mark,!0,r),s=this.children,a=this.size;n<a&&(s=k2(s,n,a,r)),t>0&&(s=k2(s,0,t,r));for(let u=0;u<s.length;u++)s[u].parent=i;return i.children=s,i}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class el extends Df{constructor(t,n,r,i,s,a,u,d,f){super(t,[],s,a),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=u}static create(t,n,r,i,s,a){let u=s.nodeViews[n.type.name],d,f=u&&u(n,s,()=>{if(!d)return a;if(d.parent)return d.parent.posBeforeChild(d)},r,i),p=f&&f.dom,m=f&&f.contentDOM;if(n.isText){if(!p)p=document.createTextNode(n.text);else if(p.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else p||({dom:p,contentDOM:m}=Yu.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!m&&!n.isText&&p.nodeName!="BR"&&(p.hasAttribute("contenteditable")||(p.contentEditable="false"),n.type.spec.draggable&&(p.draggable=!0));let x=p;return p=vE(p,r,n),f?d=new JQ(t,n,r,i,p,m||null,x,f,s,a+1):n.isText?new y0(t,n,r,i,p,x,s):new el(t,n,r,i,p,m||null,x,s,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>Ee.empty)}return t}matchesNode(t,n,r){return this.dirty==Ai&&t.eq(this.node)&&bm(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let r=this.node.inlineContent,i=n,s=t.composing?this.localCompositionInfo(t,n):null,a=s&&s.pos>-1?s:null,u=s&&s.pos<0,d=new ZQ(this,a&&a.node,t);tee(this.node,this.innerDeco,(f,p,m)=>{f.spec.marks?d.syncToMarks(f.spec.marks,r,t):f.type.side>=0&&!m&&d.syncToMarks(p==this.node.childCount?Jt.none:this.node.child(p).marks,r,t),d.placeWidget(f,t,i)},(f,p,m,x)=>{d.syncToMarks(f.marks,r,t);let y;d.findNodeMatch(f,p,m,x)||u&&t.state.selection.from>i&&t.state.selection.to<i+f.nodeSize&&(y=d.findIndexWithChild(s.node))>-1&&d.updateNodeAt(f,p,m,y,t)||d.updateNextNode(f,p,m,t,x,i)||d.addNode(f,p,m,t,i),i+=f.nodeSize}),d.syncToMarks([],r,t),this.node.isTextblock&&d.addTextblockHacks(),d.destroyRest(),(d.changed||this.dirty==Ul)&&(a&&this.protectLocalComposition(t,a),yE(this.contentDOM,this.children,t),Mu&&nee(this.dom))}localCompositionInfo(t,n){let{from:r,to:i}=t.state.selection;if(!(t.state.selection instanceof qt)||r<n||i>n+this.node.content.size)return null;let s=t.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let a=s.nodeValue,u=ree(this.node.content,a,r-n,i-n);return u<0?null:{node:s,pos:u,text:a}}else return{node:s,pos:-1,text:""}}protectLocalComposition(t,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let a=new KQ(this,s,n,i);t.input.compositionNodes.push(a),this.children=k2(this.children,r,r+i.length,t,a)}update(t,n,r,i){return this.dirty==bs||!t.sameMarkup(this.node)?!1:(this.updateInner(t,n,r,i),!0)}updateInner(t,n,r,i){this.updateOuterDeco(n),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Ai}updateOuterDeco(t){if(bm(t,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=bE(this.dom,this.nodeDOM,w2(this.outerDeco,this.node,n),w2(t,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function eC(e,t,n,r,i){vE(r,t,e);let s=new el(void 0,e,t,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class y0 extends el{constructor(t,n,r,i,s,a,u){super(t,n,r,i,s,null,a,u,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,r,i){return this.dirty==bs||this.dirty!=Ai&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Ai||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=t,this.dirty=Ai,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,r)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,n,r){let i=this.node.cut(t,n),s=document.createTextNode(i.text);return new y0(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(t==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=bs)}get domAtom(){return!1}isText(t){return this.node.text==t}}class xE extends Df{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==Ai&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class JQ extends el{constructor(t,n,r,i,s,a,u,d,f,p){super(t,n,r,i,s,a,u,f,p),this.spec=d}update(t,n,r,i){if(this.dirty==bs)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let s=this.spec.update(t,n,r);return s&&this.updateInner(t,n,r,i),s}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,r,i){this.spec.setSelection?this.spec.setSelection(t,n,r.root):super.setSelection(t,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function yE(e,t,n){let r=e.firstChild,i=!1;for(let s=0;s<t.length;s++){let a=t[s],u=a.dom;if(u.parentNode==e){for(;u!=r;)r=tC(r),i=!0;r=r.nextSibling}else i=!0,e.insertBefore(u,r);if(a instanceof so){let d=r?r.previousSibling:e.lastChild;yE(a.contentDOM,a.children,n),r=d?d.nextSibling:e.firstChild}}for(;r;)r=tC(r),i=!0;i&&n.trackWrites==e&&(n.trackWrites=null)}const Rd=function(e){e&&(this.nodeName=e)};Rd.prototype=Object.create(null);const Vl=[new Rd];function w2(e,t,n){if(e.length==0)return Vl;let r=n?Vl[0]:new Rd,i=[r];for(let s=0;s<e.length;s++){let a=e[s].type.attrs;if(a){a.nodeName&&i.push(r=new Rd(a.nodeName));for(let u in a){let d=a[u];d!=null&&(n&&i.length==1&&i.push(r=new Rd(t.isInline?"span":"div")),u=="class"?r.class=(r.class?r.class+" ":"")+d:u=="style"?r.style=(r.style?r.style+";":"")+d:u!="nodeName"&&(r[u]=d))}}}return i}function bE(e,t,n,r){if(n==Vl&&r==Vl)return t;let i=t;for(let s=0;s<r.length;s++){let a=r[s],u=n[s];if(s){let d;u&&u.nodeName==a.nodeName&&i!=e&&(d=i.parentNode)&&d.nodeName.toLowerCase()==a.nodeName||(d=document.createElement(a.nodeName),d.pmIsDeco=!0,d.appendChild(i),u=Vl[0]),i=d}XQ(i,u||Vl[0],a)}return i}function XQ(e,t,n){for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&e.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&e.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&e.classList.add(i[s]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(t.style);)e.style.removeProperty(i[1])}n.style&&(e.style.cssText+=n.style)}}function vE(e,t,n){return bE(e,e,Vl,w2(t,n,e.nodeType!=1))}function bm(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function tC(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class ZQ{constructor(t,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=QQ(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let r=t;r<n;r++)this.top.children[r].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,r){let i=0,s=this.stack.length>>1,a=Math.min(s,t.length);for(;i<a&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(t[i])&&t[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=Ai,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<t.length;){this.stack.push(this.top,this.index+1);let u=-1;for(let d=this.index;d<Math.min(this.index+3,this.top.children.length);d++){let f=this.top.children[d];if(f.matchesMark(t[s])&&!this.isLocked(f.dom)){u=d;break}}if(u>-1)u>this.index&&(this.changed=!0,this.destroyBetween(this.index,u)),this.top=this.top.children[this.index];else{let d=so.create(this.top,t[s],n,r);this.top.children.splice(this.index,0,d),this.top=d,this.changed=!0}this.index=0,s++}}findNodeMatch(t,n,r,i){let s=-1,a;if(i>=this.preMatch.index&&(a=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&a.matchesNode(t,n,r))s=this.top.children.indexOf(a,this.index);else for(let u=this.index,d=Math.min(this.top.children.length,u+5);u<d;u++){let f=this.top.children[u];if(f.matchesNode(t,n,r)&&!this.preMatch.matched.has(f)){s=u;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(t,n,r,i,s){let a=this.top.children[i];return a.dirty==bs&&a.dom==a.contentDOM&&(a.dirty=Ul),a.update(t,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=t.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}t=n}}updateNextNode(t,n,r,i,s,a){for(let u=this.index;u<this.top.children.length;u++){let d=this.top.children[u];if(d instanceof el){let f=this.preMatch.matched.get(d);if(f!=null&&f!=s)return!1;let p=d.dom,m,x=this.isLocked(p)&&!(t.isText&&d.node&&d.node.isText&&d.nodeDOM.nodeValue==t.text&&d.dirty!=bs&&bm(n,d.outerDeco));if(!x&&d.update(t,n,r,i))return this.destroyBetween(this.index,u),d.dom!=p&&(this.changed=!0),this.index++,!0;if(!x&&(m=this.recreateWrapper(d,t,n,r,i,a)))return this.destroyBetween(this.index,u),this.top.children[this.index]=m,m.contentDOM&&(m.dirty=Ul,m.updateChildren(i,a+1),m.dirty=Ai),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,n,r,i,s,a){if(t.dirty||n.isAtom||!t.children.length||!t.node.content.eq(n.content)||!bm(r,t.outerDeco)||!i.eq(t.innerDeco))return null;let u=el.create(this.top,n,r,i,s,a);if(u.contentDOM){u.children=t.children,t.children=[];for(let d of u.children)d.parent=u}return t.destroy(),u}addNode(t,n,r,i,s){let a=el.create(this.top,t,n,r,i,s);a.contentDOM&&a.updateChildren(i,s+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(t,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(t)&&(t==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new gE(this.top,t,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof so;)n=t,t=n.children[n.children.length-1];(!t||!(t instanceof y0)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((_r||rr)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let r=document.createElement(t);t=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),t=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new xE(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function QQ(e,t){let n=t,r=n.children.length,i=e.childCount,s=new Map,a=[];e:for(;i>0;){let u;for(;;)if(r){let f=n.children[r-1];if(f instanceof so)n=f,r=f.children.length;else{u=f,r--;break}}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let d=u.node;if(d){if(d!=e.child(i-1))break;--i,s.set(u,i),a.push(u)}}return{index:i,matched:s,matches:a.reverse()}}function eee(e,t){return e.type.side-t.type.side}function tee(e,t,n,r){let i=t.locals(e),s=0;if(i.length==0){for(let f=0;f<e.childCount;f++){let p=e.child(f);r(p,i,t.forChild(s,p),f),s+=p.nodeSize}return}let a=0,u=[],d=null;for(let f=0;;){let p,m;for(;a<i.length&&i[a].to==s;){let j=i[a++];j.widget&&(p?(m||(m=[p])).push(j):p=j)}if(p)if(m){m.sort(eee);for(let j=0;j<m.length;j++)n(m[j],f,!!d)}else n(p,f,!!d);let x,y;if(d)y=-1,x=d,d=null;else if(f<e.childCount)y=f,x=e.child(f++);else break;for(let j=0;j<u.length;j++)u[j].to<=s&&u.splice(j--,1);for(;a<i.length&&i[a].from<=s&&i[a].to>s;)u.push(i[a++]);let v=s+x.nodeSize;if(x.isText){let j=v;a<i.length&&i[a].from<j&&(j=i[a].from);for(let C=0;C<u.length;C++)u[C].to<j&&(j=u[C].to);j<v&&(d=x.cut(j-s),x=x.cut(0,j-s),v=j,y=-1)}else for(;a<i.length&&i[a].to<v;)a++;let k=x.isInline&&!x.isLeaf?u.filter(j=>!j.inline):u.slice();r(x,k,t.forChild(s,x),y),s=v}}function nee(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function ree(e,t,n,r){for(let i=0,s=0;i<e.childCount&&s<=r;){let a=e.child(i++),u=s;if(s+=a.nodeSize,!a.isText)continue;let d=a.text;for(;i<e.childCount;){let f=e.child(i++);if(s+=f.nodeSize,!f.isText)break;d+=f.text}if(s>=n){if(s>=r&&d.slice(r-t.length-u,r-u)==t)return r-t.length;let f=u<r?d.lastIndexOf(t,r-u-1):-1;if(f>=0&&f+t.length+u>=n)return u+f;if(n==r&&d.length>=r+t.length-u&&d.slice(r-u,r-u+t.length)==t)return r}}return-1}function k2(e,t,n,r,i){let s=[];for(let a=0,u=0;a<e.length;a++){let d=e[a],f=u,p=u+=d.size;f>=n||p<=t?s.push(d):(f<t&&s.push(d.slice(0,t-f,r)),i&&(s.push(i),i=void 0),p>n&&s.push(d.slice(n-f,d.size,r)))}return s}function Xb(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let i=e.docView.nearestDesc(n.focusNode),s=i&&i.size==0,a=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let u=r.resolve(a),d,f;if(x0(n)){for(d=a;i&&!i.node;)i=i.parent;let m=i.node;if(i&&m.isAtom&&_t.isSelectable(m)&&i.parent&&!(m.isInline&&DQ(n.focusNode,n.focusOffset,i.dom))){let x=i.posBefore;f=new _t(a==x?u:r.resolve(x))}}else{if(n instanceof e.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let m=a,x=a;for(let y=0;y<n.rangeCount;y++){let v=n.getRangeAt(y);m=Math.min(m,e.docView.posFromDOM(v.startContainer,v.startOffset,1)),x=Math.max(x,e.docView.posFromDOM(v.endContainer,v.endOffset,-1))}if(m<0)return null;[d,a]=x==e.state.selection.anchor?[x,m]:[m,x],u=r.resolve(a)}else d=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(d<0)return null}let p=r.resolve(d);if(!f){let m=t=="pointer"||e.state.selection.head<u.pos&&!s?1:-1;f=Zb(e,p,u,m)}return f}function wE(e){return e.editable?e.hasFocus():SE(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Xs(e,t=!1){let n=e.state.selection;if(kE(e,n),!!wE(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&rr){let r=e.domSelectionRange(),i=e.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&io(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)see(e);else{let{anchor:r,head:i}=n,s,a;nC&&!(n instanceof qt)&&(n.$from.parent.inlineContent||(s=rC(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(a=rC(e,n.to))),e.docView.setSelection(r,i,e,t),nC&&(s&&iC(s),a&&iC(a)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&iee(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const nC=_r||rr&&oE<63;function rC(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(_r&&i&&i.contentEditable=="false")return Bx(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return Bx(i);if(s)return Bx(s)}}function Bx(e){return e.contentEditable="true",_r&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function iC(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function iee(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!wE(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function see(e){let t=e.domSelection();if(!t)return;let n=e.cursorWrapper.dom,r=n.nodeName=="IMG";r?t.collapse(n.parentNode,mr(n)+1):t.collapse(n,0),!r&&!e.state.selection.visible&&qr&&Qa<=11&&(n.disabled=!0,n.disabled=!1)}function kE(e,t){if(t instanceof _t){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(sC(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else sC(e)}function sC(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function Zb(e,t,n,r){return e.someProp("createSelectionBetween",i=>i(e,t,n))||qt.between(t,n,r)}function aC(e){return e.editable&&!e.hasFocus()?!1:SE(e)}function SE(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function aee(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return io(t.node,t.offset,n.anchorNode,n.anchorOffset)}function S2(e,t){let{$anchor:n,$head:r}=e.selection,i=t>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?e.doc.resolve(t>0?i.after():i.before()):null:i;return s&&Et.findFrom(s,t)}function Ia(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function lC(e,t,n){let r=e.state.selection;if(r instanceof qt)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let a=e.state.doc.resolve(i.pos+s.nodeSize*(t<0?-1:1));return Ia(e,new qt(r.$anchor,a))}else if(r.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let i=S2(e.state,t);return i&&i instanceof _t?Ia(e,i):!1}else if(!(Ci&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter,a;if(!s||s.isText)return!1;let u=t<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(a=e.docView.descAt(u))&&!a.contentDOM?_t.isSelectable(s)?Ia(e,new _t(t<0?e.state.doc.resolve(i.pos-s.nodeSize):i)):Af?Ia(e,new qt(e.state.doc.resolve(t<0?u:u+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof _t&&r.node.isInline)return Ia(e,new qt(t>0?r.$to:r.$from));{let i=S2(e.state,t);return i?Ia(e,i):!1}}}function vm(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function Ld(e,t){let n=e.pmViewDesc;return n&&n.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function iu(e,t){return t<0?lee(e):oee(e)}function lee(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i,s,a=!1;for(Ei&&n.nodeType==1&&r<vm(n)&&Ld(n.childNodes[r],-1)&&(a=!0);;)if(r>0){if(n.nodeType!=1)break;{let u=n.childNodes[r-1];if(Ld(u,-1))i=n,s=--r;else if(u.nodeType==3)n=u,r=n.nodeValue.length;else break}}else{if(CE(n))break;{let u=n.previousSibling;for(;u&&Ld(u,-1);)i=n.parentNode,s=mr(u),u=u.previousSibling;if(u)n=u,r=vm(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}a?C2(e,n,r):i&&C2(e,i,s)}function oee(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i=vm(n),s,a;for(;;)if(r<i){if(n.nodeType!=1)break;let u=n.childNodes[r];if(Ld(u,1))s=n,a=++r;else break}else{if(CE(n))break;{let u=n.nextSibling;for(;u&&Ld(u,1);)s=u.parentNode,a=mr(u)+1,u=u.nextSibling;if(u)n=u,r=0,i=vm(n);else{if(n=n.parentNode,n==e.dom)break;r=i=0}}}s&&C2(e,s,a)}function CE(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function uee(e,t){for(;e&&t==e.childNodes.length&&!Ef(e);)t=mr(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=0}}function cee(e,t){for(;e&&!t&&!Ef(e);)t=mr(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=e.childNodes.length}}function C2(e,t,n){if(t.nodeType!=3){let s,a;(a=uee(t,n))?(t=a,n=0):(s=cee(t,n))&&(t=s,n=s.nodeValue.length)}let r=e.domSelection();if(!r)return;if(x0(r)){let s=document.createRange();s.setEnd(t,n),s.setStart(t,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:i}=e;setTimeout(()=>{e.state==i&&Xs(e)},50)}function oC(e,t){let n=e.state.doc.resolve(t);if(!(rr||uE)&&n.parent.inlineContent){let i=e.coordsAtPos(t);if(t>n.start()){let s=e.coordsAtPos(t-1),a=(s.top+s.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(t<n.end()){let s=e.coordsAtPos(t+1),a=(s.top+s.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function uC(e,t,n){let r=e.state.selection;if(r instanceof qt&&!r.empty||n.indexOf("s")>-1||Ci&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let a=S2(e.state,t);if(a&&a instanceof _t)return Ia(e,a)}if(!i.parent.inlineContent){let a=t<0?i:s,u=r instanceof oi?Et.near(a,t):Et.findFrom(a,t);return u?Ia(e,u):!1}return!1}function cC(e,t){if(!(e.state.selection instanceof qt))return!0;let{$head:n,$anchor:r,empty:i}=e.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let s=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let a=e.state.tr;return t<0?a.delete(n.pos-s.nodeSize,n.pos):a.delete(n.pos,n.pos+s.nodeSize),e.dispatch(a),!0}return!1}function dC(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function dee(e){if(!_r||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let r=t.firstChild;dC(e,r,"true"),setTimeout(()=>dC(e,r,"false"),20)}return!1}function fee(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function hee(e,t){let n=t.keyCode,r=fee(t);if(n==8||Ci&&n==72&&r=="c")return cC(e,-1)||iu(e,-1);if(n==46&&!t.shiftKey||Ci&&n==68&&r=="c")return cC(e,1)||iu(e,1);if(n==13||n==27)return!0;if(n==37||Ci&&n==66&&r=="c"){let i=n==37?oC(e,e.state.selection.from)=="ltr"?-1:1:-1;return lC(e,i,r)||iu(e,i)}else if(n==39||Ci&&n==70&&r=="c"){let i=n==39?oC(e,e.state.selection.from)=="ltr"?1:-1:1;return lC(e,i,r)||iu(e,i)}else{if(n==38||Ci&&n==80&&r=="c")return uC(e,-1,r)||iu(e,-1);if(n==40||Ci&&n==78&&r=="c")return dee(e)||uC(e,1,r)||iu(e,1);if(r==(Ci?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function Qb(e,t){e.someProp("transformCopied",y=>{t=y(t,e)});let n=[],{content:r,openStart:i,openEnd:s}=t;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let y=r.firstChild;n.push(y.type.name,y.attrs!=y.type.defaultAttrs?y.attrs:null),r=y.content}let a=e.someProp("clipboardSerializer")||Yu.fromSchema(e.state.schema),u=DE(),d=u.createElement("div");d.appendChild(a.serializeFragment(r,{document:u}));let f=d.firstChild,p,m=0;for(;f&&f.nodeType==1&&(p=AE[f.nodeName.toLowerCase()]);){for(let y=p.length-1;y>=0;y--){let v=u.createElement(p[y]);for(;d.firstChild;)v.appendChild(d.firstChild);d.appendChild(v),m++}f=d.firstChild}f&&f.nodeType==1&&f.setAttribute("data-pm-slice",`${i} ${s}${m?` -${m}`:""} ${JSON.stringify(n)}`);let x=e.someProp("clipboardTextSerializer",y=>y(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:d,text:x,slice:t}}function jE(e,t,n,r,i){let s=i.parent.type.spec.code,a,u;if(!n&&!t)return null;let d=!!t&&(r||s||!n);if(d){if(e.someProp("transformPastedText",x=>{t=x(t,s||r,e)}),s)return u=new $e(Ee.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0),e.someProp("transformPasted",x=>{u=x(u,e,!0)}),u;let m=e.someProp("clipboardTextParser",x=>x(t,i,r,e));if(m)u=m;else{let x=i.marks(),{schema:y}=e.state,v=Yu.fromSchema(y);a=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(k=>{let j=a.appendChild(document.createElement("p"));k&&j.appendChild(v.serializeNode(y.text(k,x)))})}}else e.someProp("transformPastedHTML",m=>{n=m(n,e)}),a=xee(n),Af&&yee(a);let f=a&&a.querySelector("[data-pm-slice]"),p=f&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(f.getAttribute("data-pm-slice")||"");if(p&&p[3])for(let m=+p[3];m>0;m--){let x=a.firstChild;for(;x&&x.nodeType!=1;)x=x.nextSibling;if(!x)break;a=x}if(u||(u=(e.someProp("clipboardParser")||e.someProp("domParser")||Au.fromSchema(e.state.schema)).parseSlice(a,{preserveWhitespace:!!(d||p),context:i,ruleFromNode(x){return x.nodeName=="BR"&&!x.nextSibling&&x.parentNode&&!pee.test(x.parentNode.nodeName)?{ignore:!0}:null}})),p)u=bee(fC(u,+p[1],+p[2]),p[4]);else if(u=$e.maxOpen(mee(u.content,i),!0),u.openStart||u.openEnd){let m=0,x=0;for(let y=u.content.firstChild;m<u.openStart&&!y.type.spec.isolating;m++,y=y.firstChild);for(let y=u.content.lastChild;x<u.openEnd&&!y.type.spec.isolating;x++,y=y.lastChild);u=fC(u,m,x)}return e.someProp("transformPasted",m=>{u=m(u,e,d)}),u}const pee=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function mee(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let i=t.node(n).contentMatchAt(t.index(n)),s,a=[];if(e.forEach(u=>{if(!a)return;let d=i.findWrapping(u.type),f;if(!d)return a=null;if(f=a.length&&s.length&&NE(d,s,u,a[a.length-1],0))a[a.length-1]=f;else{a.length&&(a[a.length-1]=EE(a[a.length-1],s.length));let p=_E(u,d);a.push(p),i=i.matchType(p.type),s=d}}),a)return Ee.from(a)}return e}function _E(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,Ee.from(e));return e}function NE(e,t,n,r,i){if(i<e.length&&i<t.length&&e[i]==t[i]){let s=NE(e,t,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==e.length-1?n.type:e[i+1]))return r.copy(r.content.append(Ee.from(_E(n,e,i+1))))}}function EE(e,t){if(t==0)return e;let n=e.content.replaceChild(e.childCount-1,EE(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(Ee.empty,!0);return e.copy(n.append(r))}function j2(e,t,n,r,i,s){let a=t<0?e.firstChild:e.lastChild,u=a.content;return e.childCount>1&&(s=0),i<r-1&&(u=j2(u,t,n,r,i+1,s)),i>=n&&(u=t<0?a.contentMatchAt(0).fillBefore(u,s<=i).append(u):u.append(a.contentMatchAt(a.childCount).fillBefore(Ee.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,a.copy(u))}function fC(e,t,n){return t<e.openStart&&(e=new $e(j2(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new $e(j2(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const AE={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let hC=null;function DE(){return hC||(hC=document.implementation.createHTMLDocument("title"))}let $x=null;function gee(e){let t=window.trustedTypes;return t?($x||($x=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),$x.createHTML(e)):e}function xee(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=DE().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e),i;if((i=r&&AE[r[1].toLowerCase()])&&(e=i.map(s=>"<"+s+">").join("")+e+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=gee(e),i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function yee(e){let t=e.querySelectorAll(rr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function bee(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch{return e}let{content:i,openStart:s,openEnd:a}=e;for(let u=r.length-2;u>=0;u-=2){let d=n.nodes[r[u]];if(!d||d.hasRequiredAttrs())break;i=Ee.from(d.create(r[u+1],i)),s++,a++}return new $e(i,s,a)}const Lr={},Pr={},vee={touchstart:!0,touchmove:!0};class wee{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function kee(e){for(let t in Lr){let n=Lr[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=r=>{Cee(e,r)&&!ev(e,r)&&(e.editable||!(r.type in Pr))&&n(e,r)},vee[t]?{passive:!0}:void 0)}_r&&e.dom.addEventListener("input",()=>null),_2(e)}function Ka(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function See(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function _2(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=r=>ev(e,r))})}function ev(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return r?r(e,t)||t.defaultPrevented:!1})}function Cee(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function jee(e,t){!ev(e,t)&&Lr[t.type]&&(e.editable||!(t.type in Pr))&&Lr[t.type](e,t)}Pr.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=n.keyCode==16||n.shiftKey,!ME(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!(Js&&rr&&n.keyCode==13)))if(n.keyCode!=229&&e.domObserver.forceFlush(),Mu&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();e.input.lastIOSEnter=r,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==r&&(e.someProp("handleKeyDown",i=>i(e,$l(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",r=>r(e,n))||hee(e,n)?n.preventDefault():Ka(e,"key")};Pr.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};Pr.keypress=(e,t)=>{let n=t;if(ME(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||Ci&&n.metaKey)return;if(e.someProp("handleKeyPress",i=>i(e,n))){n.preventDefault();return}let r=e.state.selection;if(!(r instanceof qt)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),s=()=>e.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!e.someProp("handleTextInput",a=>a(e,r.$from.pos,r.$to.pos,i,s))&&e.dispatch(s()),n.preventDefault()}};function b0(e){return{left:e.clientX,top:e.clientY}}function _ee(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function tv(e,t,n,r,i){if(r==-1)return!1;let s=e.state.doc.resolve(r);for(let a=s.depth+1;a>0;a--)if(e.someProp(t,u=>a>s.depth?u(e,n,s.nodeAfter,s.before(a),i,!0):u(e,n,s.node(a),s.before(a),i,!1)))return!0;return!1}function wu(e,t,n){if(e.focused||e.focus(),e.state.selection.eq(t))return;let r=e.state.tr.setSelection(t);r.setMeta("pointer",!0),e.dispatch(r)}function Nee(e,t){if(t==-1)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return r&&r.isAtom&&_t.isSelectable(r)?(wu(e,new _t(n)),!0):!1}function Eee(e,t){if(t==-1)return!1;let n=e.state.selection,r,i;n instanceof _t&&(r=n.node);let s=e.state.doc.resolve(t);for(let a=s.depth+1;a>0;a--){let u=a>s.depth?s.nodeAfter:s.node(a);if(_t.isSelectable(u)){r&&n.$from.depth>0&&a>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(a);break}}return i!=null?(wu(e,_t.create(e.state.doc,i)),!0):!1}function Aee(e,t,n,r,i){return tv(e,"handleClickOn",t,n,r)||e.someProp("handleClick",s=>s(e,t,r))||(i?Eee(e,n):Nee(e,n))}function Dee(e,t,n,r){return tv(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",i=>i(e,t,r))}function Tee(e,t,n,r){return tv(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",i=>i(e,t,r))||Mee(e,n,r)}function Mee(e,t,n){if(n.button!=0)return!1;let r=e.state.doc;if(t==-1)return r.inlineContent?(wu(e,qt.create(r,0,r.content.size)),!0):!1;let i=r.resolve(t);for(let s=i.depth+1;s>0;s--){let a=s>i.depth?i.nodeAfter:i.node(s),u=i.before(s);if(a.inlineContent)wu(e,qt.create(r,u+1,u+1+a.content.size));else if(_t.isSelectable(a))wu(e,_t.create(r,u));else continue;return!0}}function nv(e){return wm(e)}const TE=Ci?"metaKey":"ctrlKey";Lr.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=nv(e),i=Date.now(),s="singleClick";i-e.input.lastClick.time<500&&_ee(n,e.input.lastClick)&&!n[TE]&&e.input.lastClick.button==n.button&&(e.input.lastClick.type=="singleClick"?s="doubleClick":e.input.lastClick.type=="doubleClick"&&(s="tripleClick")),e.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s,button:n.button};let a=e.posAtCoords(b0(n));a&&(s=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new Oee(e,a,n,!!r)):(s=="doubleClick"?Dee:Tee)(e,a.pos,a.inside,n)?n.preventDefault():Ka(e,"pointer"))};class Oee{constructor(t,n,r,i){this.view=t,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[TE],this.allowDefault=r.shiftKey;let s,a;if(n.inside>-1)s=t.state.doc.nodeAt(n.inside),a=n.inside;else{let p=t.state.doc.resolve(n.pos);s=p.parent,a=p.depth?p.before():0}const u=i?null:r.target,d=u?t.docView.nearestDesc(u,!0):null;this.target=d&&d.nodeDOM.nodeType==1?d.nodeDOM:null;let{selection:f}=t.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||f instanceof _t&&f.from<=a&&f.to>a)&&(this.mightDrag={node:s,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Ei&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ka(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Xs(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(b0(t))),this.updateAllowDefault(t),this.allowDefault||!n?Ka(this.view,"pointer"):Aee(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||_r&&this.mightDrag&&!this.mightDrag.node.isAtom||rr&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(wu(this.view,Et.near(this.view.state.doc.resolve(n.pos))),t.preventDefault()):Ka(this.view,"pointer")}move(t){this.updateAllowDefault(t),Ka(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}Lr.touchstart=e=>{e.input.lastTouch=Date.now(),nv(e),Ka(e,"pointer")};Lr.touchmove=e=>{e.input.lastTouch=Date.now(),Ka(e,"pointer")};Lr.contextmenu=e=>nv(e);function ME(e,t){return e.composing?!0:_r&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const Ree=Js?5e3:-1;Pr.compositionstart=Pr.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof qt&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)||rr&&uE&&Lee(e)))e.markCursor=e.state.storedMarks||n.marks(),wm(e,!0),e.markCursor=null;else if(wm(e,!t.selection.empty),Ei&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=e.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let a=s<0?i.lastChild:i.childNodes[s-1];if(!a)break;if(a.nodeType==3){let u=e.domSelection();u&&u.collapse(a,a.nodeValue.length);break}else i=a,s=-1}}e.input.composing=!0}OE(e,Ree)};function Lee(e){let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(!t||t.nodeType!=1||n>=t.childNodes.length)return!1;let r=t.childNodes[n];return r.nodeType==1&&r.contentEditable=="false"}Pr.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,OE(e,20))};function OE(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>wm(e),t))}function RE(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=zee());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function Pee(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=EQ(t.focusNode,t.focusOffset),r=AQ(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,s=e.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let a=n.pmViewDesc;if(!(!a||!a.isText(n.nodeValue)))return r}}return n||r}function zee(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function wm(e,t=!1){if(!(Js&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),RE(e),t||e.docView&&e.docView.dirty){let n=Xb(e),r=e.state.selection;return n&&!n.eq(r)?e.dispatch(e.state.tr.setSelection(n)):(e.markCursor||t)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}function Iee(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}const ef=qr&&Qa<15||Mu&&OQ<604;Lr.copy=Pr.cut=(e,t)=>{let n=t,r=e.state.selection,i=n.type=="cut";if(r.empty)return;let s=ef?null:n.clipboardData,a=r.content(),{dom:u,text:d}=Qb(e,a);s?(n.preventDefault(),s.clearData(),s.setData("text/html",u.innerHTML),s.setData("text/plain",d)):Iee(e,u),i&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Fee(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function Bee(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?tf(e,r.value,null,i,t):tf(e,r.textContent,r.innerHTML,i,t)},50)}function tf(e,t,n,r,i){let s=jE(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",d=>d(e,i,s||$e.empty)))return!0;if(!s)return!1;let a=Fee(s),u=a?e.state.tr.replaceSelectionWith(a,r):e.state.tr.replaceSelection(s);return e.dispatch(u.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function LE(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Pr.paste=(e,t)=>{let n=t;if(e.composing&&!Js)return;let r=ef?null:n.clipboardData,i=e.input.shiftKey&&e.input.lastKeyCode!=45;r&&tf(e,LE(r),r.getData("text/html"),i,n)?n.preventDefault():Bee(e,n)};class PE{constructor(t,n,r){this.slice=t,this.move=n,this.node=r}}const $ee=Ci?"altKey":"ctrlKey";function zE(e,t){let n=e.someProp("dragCopies",r=>!r(t));return n??!t[$ee]}Lr.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=e.state.selection,s=i.empty?null:e.posAtCoords(b0(n)),a;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof _t?i.to-1:i.to))){if(r&&r.mightDrag)a=_t.create(e.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let m=e.docView.nearestDesc(n.target,!0);m&&m.node.type.spec.draggable&&m!=e.docView&&(a=_t.create(e.state.doc,m.posBefore))}}let u=(a||e.state.selection).content(),{dom:d,text:f,slice:p}=Qb(e,u);(!n.dataTransfer.files.length||!rr||oE>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(ef?"Text":"text/html",d.innerHTML),n.dataTransfer.effectAllowed="copyMove",ef||n.dataTransfer.setData("text/plain",f),e.dragging=new PE(p,zE(e,n),a)};Lr.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};Pr.dragover=Pr.dragenter=(e,t)=>t.preventDefault();Pr.drop=(e,t)=>{try{Hee(e,t,e.dragging)}finally{e.dragging=null}};function Hee(e,t,n){if(!t.dataTransfer)return;let r=e.posAtCoords(b0(t));if(!r)return;let i=e.state.doc.resolve(r.pos),s=n&&n.slice;s?e.someProp("transformPasted",y=>{s=y(s,e,!1)}):s=jE(e,LE(t.dataTransfer),ef?null:t.dataTransfer.getData("text/html"),!1,i);let a=!!(n&&zE(e,t));if(e.someProp("handleDrop",y=>y(e,t,s||$e.empty,a))){t.preventDefault();return}if(!s)return;t.preventDefault();let u=s?Z7(e.state.doc,i.pos,s):i.pos;u==null&&(u=i.pos);let d=e.state.tr;if(a){let{node:y}=n;y?y.replace(d):d.deleteSelection()}let f=d.mapping.map(u),p=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,m=d.doc;if(p?d.replaceRangeWith(f,f,s.content.firstChild):d.replaceRange(f,f,s),d.doc.eq(m))return;let x=d.doc.resolve(f);if(p&&_t.isSelectable(s.content.firstChild)&&x.nodeAfter&&x.nodeAfter.sameMarkup(s.content.firstChild))d.setSelection(new _t(x));else{let y=d.mapping.map(u);d.mapping.maps[d.mapping.maps.length-1].forEach((v,k,j,C)=>y=C),d.setSelection(Zb(e,x,d.doc.resolve(y)))}e.focus(),e.dispatch(d.setMeta("uiEvent","drop"))}Lr.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&Xs(e)},20))};Lr.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};Lr.beforeinput=(e,t)=>{if(rr&&Js&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:r}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=r||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",s=>s(e,$l(8,"Backspace")))))return;let{$cursor:i}=e.state.selection;i&&i.pos>0&&e.dispatch(e.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let e in Pr)Lr[e]=Pr[e];function nf(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class km{constructor(t,n){this.toDOM=t,this.spec=n||Yl,this.side=this.spec.side||0}map(t,n,r,i){let{pos:s,deleted:a}=t.mapResult(n.from+i,this.side<0?-1:1);return a?null:new Rr(s-r,s-r,this)}valid(){return!0}eq(t){return this==t||t instanceof km&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&nf(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class tl{constructor(t,n){this.attrs=t,this.spec=n||Yl}map(t,n,r,i){let s=t.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,a=t.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=a?null:new Rr(s,a,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof tl&&nf(this.attrs,t.attrs)&&nf(this.spec,t.spec)}static is(t){return t.type instanceof tl}destroy(){}}class rv{constructor(t,n){this.attrs=t,this.spec=n||Yl}map(t,n,r,i){let s=t.mapResult(n.from+i,1);if(s.deleted)return null;let a=t.mapResult(n.to+i,-1);return a.deleted||a.pos<=s.pos?null:new Rr(s.pos-r,a.pos-r,this)}valid(t,n){let{index:r,offset:i}=t.content.findIndex(n.from),s;return i==n.from&&!(s=t.child(r)).isText&&i+s.nodeSize==n.to}eq(t){return this==t||t instanceof rv&&nf(this.attrs,t.attrs)&&nf(this.spec,t.spec)}destroy(){}}class Rr{constructor(t,n,r){this.from=t,this.to=n,this.type=r}copy(t,n){return new Rr(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,r){return this.type.map(t,this,n,r)}static widget(t,n,r){return new Rr(t,t,new km(n,r))}static inline(t,n,r,i){return new Rr(t,n,new tl(r,i))}static node(t,n,r,i){return new Rr(t,n,new rv(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof tl}get widget(){return this.type instanceof km}}const du=[],Yl={};class Nn{constructor(t,n){this.local=t.length?t:du,this.children=n.length?n:du}static create(t,n){return n.length?Sm(n,t,0,Yl):Sr}find(t,n,r){let i=[];return this.findInner(t??0,n??1e9,i,0,r),i}findInner(t,n,r,i,s){for(let a=0;a<this.local.length;a++){let u=this.local[a];u.from<=n&&u.to>=t&&(!s||s(u.spec))&&r.push(u.copy(u.from+i,u.to+i))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<n&&this.children[a+1]>t){let u=this.children[a]+1;this.children[a+2].findInner(t-u,n-u,r,i+u,s)}}map(t,n,r){return this==Sr||t.maps.length==0?this:this.mapInner(t,n,0,0,r||Yl)}mapInner(t,n,r,i,s){let a;for(let u=0;u<this.local.length;u++){let d=this.local[u].map(t,r,i);d&&d.type.valid(n,d)?(a||(a=[])).push(d):s.onRemove&&s.onRemove(this.local[u].spec)}return this.children.length?Uee(this.children,a||[],t,n,r,i,s):a?new Nn(a.sort(Kl),du):Sr}add(t,n){return n.length?this==Sr?Nn.create(t,n):this.addInner(t,n,0):this}addInner(t,n,r){let i,s=0;t.forEach((u,d)=>{let f=d+r,p;if(p=FE(n,u,f)){for(i||(i=this.children.slice());s<i.length&&i[s]<d;)s+=3;i[s]==d?i[s+2]=i[s+2].addInner(u,p,f+1):i.splice(s,0,d,d+u.nodeSize,Sm(p,u,f+1,Yl)),s+=3}});let a=IE(s?BE(n):n,-r);for(let u=0;u<a.length;u++)a[u].type.valid(t,a[u])||a.splice(u--,1);return new Nn(a.length?this.local.concat(a).sort(Kl):this.local,i||this.children)}remove(t){return t.length==0||this==Sr?this:this.removeInner(t,0)}removeInner(t,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let a,u=r[s]+n,d=r[s+1]+n;for(let p=0,m;p<t.length;p++)(m=t[p])&&m.from>u&&m.to<d&&(t[p]=null,(a||(a=[])).push(m));if(!a)continue;r==this.children&&(r=this.children.slice());let f=r[s+2].removeInner(a,u+1);f!=Sr?r[s+2]=f:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,a;s<t.length;s++)if(a=t[s])for(let u=0;u<i.length;u++)i[u].eq(a,n)&&(i==this.local&&(i=this.local.slice()),i.splice(u--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Nn(i,r):Sr}forChild(t,n){if(this==Sr)return this;if(n.isLeaf)return Nn.empty;let r,i;for(let u=0;u<this.children.length;u+=3)if(this.children[u]>=t){this.children[u]==t&&(r=this.children[u+2]);break}let s=t+1,a=s+n.content.size;for(let u=0;u<this.local.length;u++){let d=this.local[u];if(d.from<a&&d.to>s&&d.type instanceof tl){let f=Math.max(s,d.from)-s,p=Math.min(a,d.to)-s;f<p&&(i||(i=[])).push(d.copy(f,p))}}if(i){let u=new Nn(i.sort(Kl),du);return r?new Ua([u,r]):u}return r||Sr}eq(t){if(this==t)return!0;if(!(t instanceof Nn)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return iv(this.localsInner(t))}localsInner(t){if(this==Sr)return du;if(t.inlineContent||!this.local.some(tl.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof tl||n.push(this.local[r]);return n}forEachSet(t){t(this)}}Nn.empty=new Nn([],[]);Nn.removeOverlap=iv;const Sr=Nn.empty;class Ua{constructor(t){this.members=t}map(t,n){const r=this.members.map(i=>i.map(t,n,Yl));return Ua.from(r)}forChild(t,n){if(n.isLeaf)return Nn.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(t,n);s!=Sr&&(s instanceof Ua?r=r.concat(s.members):r.push(s))}return Ua.from(r)}eq(t){if(!(t instanceof Ua)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(t);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let a=0;a<s.length;a++)n.push(s[a])}}return n?iv(r?n:n.sort(Kl)):du}static from(t){switch(t.length){case 0:return Sr;case 1:return t[0];default:return new Ua(t.every(n=>n instanceof Nn)?t:t.reduce((n,r)=>n.concat(r instanceof Nn?r:r.members),[]))}}forEachSet(t){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(t)}}function Uee(e,t,n,r,i,s,a){let u=e.slice();for(let f=0,p=s;f<n.maps.length;f++){let m=0;n.maps[f].forEach((x,y,v,k)=>{let j=k-v-(y-x);for(let C=0;C<u.length;C+=3){let N=u[C+1];if(N<0||x>N+p-m)continue;let A=u[C]+p-m;y>=A?u[C+1]=x<=A?-2:-1:x>=p&&j&&(u[C]+=j,u[C+1]+=j)}m+=j}),p=n.maps[f].map(p,-1)}let d=!1;for(let f=0;f<u.length;f+=3)if(u[f+1]<0){if(u[f+1]==-2){d=!0,u[f+1]=-1;continue}let p=n.map(e[f]+s),m=p-i;if(m<0||m>=r.content.size){d=!0;continue}let x=n.map(e[f+1]+s,-1),y=x-i,{index:v,offset:k}=r.content.findIndex(m),j=r.maybeChild(v);if(j&&k==m&&k+j.nodeSize==y){let C=u[f+2].mapInner(n,j,p+1,e[f]+s+1,a);C!=Sr?(u[f]=m,u[f+1]=y,u[f+2]=C):(u[f+1]=-2,d=!0)}else d=!0}if(d){let f=Vee(u,e,t,n,i,s,a),p=Sm(f,r,0,a);t=p.local;for(let m=0;m<u.length;m+=3)u[m+1]<0&&(u.splice(m,3),m-=3);for(let m=0,x=0;m<p.children.length;m+=3){let y=p.children[m];for(;x<u.length&&u[x]<y;)x+=3;u.splice(x,0,p.children[m],p.children[m+1],p.children[m+2])}}return new Nn(t.sort(Kl),u)}function IE(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let i=e[r];n.push(new Rr(i.from+t,i.to+t,i.type))}return n}function Vee(e,t,n,r,i,s,a){function u(d,f){for(let p=0;p<d.local.length;p++){let m=d.local[p].map(r,i,f);m?n.push(m):a.onRemove&&a.onRemove(d.local[p].spec)}for(let p=0;p<d.children.length;p+=3)u(d.children[p+2],d.children[p]+f+1)}for(let d=0;d<e.length;d+=3)e[d+1]==-1&&u(e[d+2],t[d]+s+1);return n}function FE(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,i=null;for(let s=0,a;s<e.length;s++)(a=e[s])&&a.from>n&&a.to<r&&((i||(i=[])).push(a),e[s]=null);return i}function BE(e){let t=[];for(let n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function Sm(e,t,n,r){let i=[],s=!1;t.forEach((u,d)=>{let f=FE(e,u,d+n);if(f){s=!0;let p=Sm(f,u,n+d+1,r);p!=Sr&&i.push(d,d+u.nodeSize,p)}});let a=IE(s?BE(e):e,-n).sort(Kl);for(let u=0;u<a.length;u++)a[u].type.valid(t,a[u])||(r.onRemove&&r.onRemove(a[u].spec),a.splice(u--,1));return a.length||i.length?new Nn(a,i):Sr}function Kl(e,t){return e.from-t.from||e.to-t.to}function iv(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let i=n+1;i<t.length;i++){let s=t[i];if(s.from==r.from){s.to!=r.to&&(t==e&&(t=e.slice()),t[i]=s.copy(s.from,r.to),pC(t,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,s.from),pC(t,i,r.copy(s.from,r.to)));break}}}return t}function pC(e,t,n){for(;t<e.length&&Kl(n,e[t])>0;)t++;e.splice(t,0,n)}function Hx(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=Sr&&t.push(r)}),e.cursorWrapper&&t.push(Nn.create(e.state.doc,[e.cursorWrapper.deco])),Ua.from(t)}const qee={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Gee=qr&&Qa<=11;class Wee{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class Yee{constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Wee,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);qr&&Qa<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),Gee&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,qee)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(aC(this.view)){if(this.suppressingSelectionUpdates)return Xs(this.view);if(qr&&Qa<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&io(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,r;for(let s=t.focusNode;s;s=Tu(s))n.add(s);for(let s=t.anchorNode;s;s=Tu(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=t.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&aC(t)&&!this.ignoreSelectionChange(r),s=-1,a=-1,u=!1,d=[];if(t.editable)for(let p=0;p<n.length;p++){let m=this.registerMutation(n[p],d);m&&(s=s<0?m.from:Math.min(m.from,s),a=a<0?m.to:Math.max(m.to,a),m.typeOver&&(u=!0))}if(Ei&&d.length){let p=d.filter(m=>m.nodeName=="BR");if(p.length==2){let[m,x]=p;m.parentNode&&m.parentNode.parentNode==x.parentNode?x.remove():m.remove()}else{let{focusNode:m}=this.currentSelection;for(let x of p){let y=x.parentNode;y&&y.nodeName=="LI"&&(!m||Xee(t,m)!=y)&&x.remove()}}}else if((rr||_r)&&d.some(p=>p.nodeName=="BR")&&(t.input.lastKeyCode==8||t.input.lastKeyCode==46)){for(let p of d)if(p.nodeName=="BR"&&p.parentNode){let m=p.nextSibling;m&&m.nodeType==1&&m.contentEditable=="false"&&p.parentNode.removeChild(p)}}let f=null;s<0&&i&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&x0(r)&&(f=Xb(t))&&f.eq(Et.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,Xs(t),this.currentSelection.set(r),t.scrollToSelection()):(s>-1||i)&&(s>-1&&(t.docView.markDirty(s,a),Kee(t)),this.handleDOMChange(s,a,u,d),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(r)||Xs(t),this.currentSelection.set(r))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let r=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(r==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if(t.type=="childList"){for(let p=0;p<t.addedNodes.length;p++){let m=t.addedNodes[p];n.push(m),m.nodeType==3&&(this.lastChangedTextNode=m)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};let i=t.previousSibling,s=t.nextSibling;if(qr&&Qa<=11&&t.addedNodes.length)for(let p=0;p<t.addedNodes.length;p++){let{previousSibling:m,nextSibling:x}=t.addedNodes[p];(!m||Array.prototype.indexOf.call(t.addedNodes,m)<0)&&(i=m),(!x||Array.prototype.indexOf.call(t.addedNodes,x)<0)&&(s=x)}let a=i&&i.parentNode==t.target?mr(i)+1:0,u=r.localPosFromDOM(t.target,a,-1),d=s&&s.parentNode==t.target?mr(s):t.target.childNodes.length,f=r.localPosFromDOM(t.target,d,1);return{from:u,to:f}}else return t.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=t.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let mC=new WeakMap,gC=!1;function Kee(e){if(!mC.has(e)&&(mC.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=Ei,gC)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),gC=!0}}function xC(e,t){let n=t.startContainer,r=t.startOffset,i=t.endContainer,s=t.endOffset,a=e.domAtPos(e.state.selection.anchor);return io(a.node,a.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function Jee(e,t){if(t.getComposedRanges){let i=t.getComposedRanges(e.root)[0];if(i)return xC(e,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",r,!0),n?xC(e,n):null}function Xee(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let r=e.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function Zee(e,t,n){let{node:r,fromOffset:i,toOffset:s,from:a,to:u}=e.docView.parseRange(t,n),d=e.domSelectionRange(),f,p=d.anchorNode;if(p&&e.dom.contains(p.nodeType==1?p:p.parentNode)&&(f=[{node:p,offset:d.anchorOffset}],x0(d)||f.push({node:d.focusNode,offset:d.focusOffset})),rr&&e.input.lastKeyCode===8)for(let j=s;j>i;j--){let C=r.childNodes[j-1],N=C.pmViewDesc;if(C.nodeName=="BR"&&!N){s=j;break}if(!N||N.size)break}let m=e.state.doc,x=e.someProp("domParser")||Au.fromSchema(e.state.schema),y=m.resolve(a),v=null,k=x.parse(r,{topNode:y.parent,topMatch:y.parent.contentMatchAt(y.index()),topOpen:!0,from:i,to:s,preserveWhitespace:y.parent.type.whitespace=="pre"?"full":!0,findPositions:f,ruleFromNode:Qee,context:y});if(f&&f[0].pos!=null){let j=f[0].pos,C=f[1]&&f[1].pos;C==null&&(C=j),v={anchor:j+a,head:C+a}}return{doc:k,sel:v,from:a,to:u}}function Qee(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(_r&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||_r&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const ete=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function tte(e,t,n,r,i){let s=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let E=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,M=Xb(e,E);if(M&&!e.state.selection.eq(M)){if(rr&&Js&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",D=>D(e,$l(13,"Enter"))))return;let L=e.state.tr.setSelection(M);E=="pointer"?L.setMeta("pointer",!0):E=="key"&&L.scrollIntoView(),s&&L.setMeta("composition",s),e.dispatch(L)}return}let a=e.state.doc.resolve(t),u=a.sharedDepth(n);t=a.before(u+1),n=e.state.doc.resolve(n).after(u+1);let d=e.state.selection,f=Zee(e,t,n),p=e.state.doc,m=p.slice(f.from,f.to),x,y;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(x=e.state.selection.to,y="end"):(x=e.state.selection.from,y="start"),e.input.lastKeyCode=null;let v=ite(m.content,f.doc.content,f.from,x,y);if(v&&e.input.domChangeCount++,(Mu&&e.input.lastIOSEnter>Date.now()-225||Js)&&i.some(E=>E.nodeType==1&&!ete.test(E.nodeName))&&(!v||v.endA>=v.endB)&&e.someProp("handleKeyDown",E=>E(e,$l(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!v)if(r&&d instanceof qt&&!d.empty&&d.$head.sameParent(d.$anchor)&&!e.composing&&!(f.sel&&f.sel.anchor!=f.sel.head))v={start:d.from,endA:d.to,endB:d.to};else{if(f.sel){let E=yC(e,e.state.doc,f.sel);if(E&&!E.eq(e.state.selection)){let M=e.state.tr.setSelection(E);s&&M.setMeta("composition",s),e.dispatch(M)}}return}e.state.selection.from<e.state.selection.to&&v.start==v.endB&&e.state.selection instanceof qt&&(v.start>e.state.selection.from&&v.start<=e.state.selection.from+2&&e.state.selection.from>=f.from?v.start=e.state.selection.from:v.endA<e.state.selection.to&&v.endA>=e.state.selection.to-2&&e.state.selection.to<=f.to&&(v.endB+=e.state.selection.to-v.endA,v.endA=e.state.selection.to)),qr&&Qa<=11&&v.endB==v.start+1&&v.endA==v.start&&v.start>f.from&&f.doc.textBetween(v.start-f.from-1,v.start-f.from+1)==" "&&(v.start--,v.endA--,v.endB--);let k=f.doc.resolveNoCache(v.start-f.from),j=f.doc.resolveNoCache(v.endB-f.from),C=p.resolve(v.start),N=k.sameParent(j)&&k.parent.inlineContent&&C.end()>=v.endA;if((Mu&&e.input.lastIOSEnter>Date.now()-225&&(!N||i.some(E=>E.nodeName=="DIV"||E.nodeName=="P"))||!N&&k.pos<f.doc.content.size&&(!k.sameParent(j)||!k.parent.inlineContent)&&k.pos<j.pos&&!/\S/.test(f.doc.textBetween(k.pos,j.pos,"","")))&&e.someProp("handleKeyDown",E=>E(e,$l(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>v.start&&rte(p,v.start,v.endA,k,j)&&e.someProp("handleKeyDown",E=>E(e,$l(8,"Backspace")))){Js&&rr&&e.domObserver.suppressSelectionUpdates();return}rr&&v.endB==v.start&&(e.input.lastChromeDelete=Date.now()),Js&&!N&&k.start()!=j.start()&&j.parentOffset==0&&k.depth==j.depth&&f.sel&&f.sel.anchor==f.sel.head&&f.sel.head==v.endA&&(v.endB-=2,j=f.doc.resolveNoCache(v.endB-f.from),setTimeout(()=>{e.someProp("handleKeyDown",function(E){return E(e,$l(13,"Enter"))})},20));let A=v.start,z=v.endA,I=E=>{let M=E||e.state.tr.replace(A,z,f.doc.slice(v.start-f.from,v.endB-f.from));if(f.sel){let L=yC(e,M.doc,f.sel);L&&!(rr&&e.composing&&L.empty&&(v.start!=v.endB||e.input.lastChromeDelete<Date.now()-100)&&(L.head==A||L.head==M.mapping.map(z)-1)||qr&&L.empty&&L.head==A)&&M.setSelection(L)}return s&&M.setMeta("composition",s),M.scrollIntoView()},T;if(N)if(k.pos==j.pos){qr&&Qa<=11&&k.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>Xs(e),20));let E=I(e.state.tr.delete(A,z)),M=p.resolve(v.start).marksAcross(p.resolve(v.endA));M&&E.ensureMarks(M),e.dispatch(E)}else if(v.endA==v.endB&&(T=nte(k.parent.content.cut(k.parentOffset,j.parentOffset),C.parent.content.cut(C.parentOffset,v.endA-C.start())))){let E=I(e.state.tr);T.type=="add"?E.addMark(A,z,T.mark):E.removeMark(A,z,T.mark),e.dispatch(E)}else if(k.parent.child(k.index()).isText&&k.index()==j.index()-(j.textOffset?0:1)){let E=k.parent.textBetween(k.parentOffset,j.parentOffset),M=()=>I(e.state.tr.insertText(E,A,z));e.someProp("handleTextInput",L=>L(e,A,z,E,M))||e.dispatch(M())}else e.dispatch(I());else e.dispatch(I())}function yC(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:Zb(e,t.resolve(n.anchor),t.resolve(n.head))}function nte(e,t){let n=e.firstChild.marks,r=t.firstChild.marks,i=n,s=r,a,u,d;for(let p=0;p<r.length;p++)i=r[p].removeFromSet(i);for(let p=0;p<n.length;p++)s=n[p].removeFromSet(s);if(i.length==1&&s.length==0)u=i[0],a="add",d=p=>p.mark(u.addToSet(p.marks));else if(i.length==0&&s.length==1)u=s[0],a="remove",d=p=>p.mark(u.removeFromSet(p.marks));else return null;let f=[];for(let p=0;p<t.childCount;p++)f.push(d(t.child(p)));if(Ee.from(f).eq(e))return{mark:u,type:a}}function rte(e,t,n,r,i){if(n-t<=i.pos-r.pos||Ux(r,!0,!1)<i.pos)return!1;let s=e.resolve(t);if(!r.parent.isTextblock){let u=s.nodeAfter;return u!=null&&n==t+u.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let a=e.resolve(Ux(s,!0,!0));return!a.parent.isTextblock||a.pos>n||Ux(a,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function Ux(e,t,n){let r=e.depth,i=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,i++,t=!1;if(n){let s=e.node(r).maybeChild(e.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function ite(e,t,n,r,i){let s=e.findDiffStart(t,n);if(s==null)return null;let{a,b:u}=e.findDiffEnd(t,n+e.size,n+t.size);if(i=="end"){let d=Math.max(0,s-Math.min(a,u));r-=a+d-s}if(a<s&&e.size<t.size){let d=r<=s&&r>=a?s-r:0;s-=d,s&&s<t.size&&bC(t.textBetween(s-1,s+1))&&(s+=d?1:-1),u=s+(u-a),a=s}else if(u<s){let d=r<=s&&r>=u?s-r:0;s-=d,s&&s<e.size&&bC(e.textBetween(s-1,s+1))&&(s+=d?1:-1),a=s+(a-u),u=s}return{start:s,endA:a,endB:u}}function bC(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class $E{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new wee,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(CC),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=kC(this),wC(this),this.nodeViews=SC(this),this.docView=eC(this.state.doc,vC(this),Hx(this),this.dom,this),this.domObserver=new Yee(this,(r,i,s,a)=>tte(this,r,i,s,a)),this.domObserver.start(),kee(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let n in t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&_2(this);let n=this._props;this._props=t,t.plugins&&(t.plugins.forEach(CC),this.directPlugins=t.plugins),this.updateStateInner(t.state,n)}setProps(t){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in t)n[r]=t[r];this.update(n)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,n){var r;let i=this.state,s=!1,a=!1;t.storedMarks&&this.composing&&(RE(this),a=!0),this.state=t;let u=i.plugins!=t.plugins||this._props.plugins!=n.plugins;if(u||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let y=SC(this);ate(y,this.nodeViews)&&(this.nodeViews=y,s=!0)}(u||n.handleDOMEvents!=this._props.handleDOMEvents)&&_2(this),this.editable=kC(this),wC(this);let d=Hx(this),f=vC(this),p=i.plugins!=t.plugins&&!i.doc.eq(t.doc)?"reset":t.scrollToSelection>i.scrollToSelection?"to selection":"preserve",m=s||!this.docView.matchesNode(t.doc,f,d);(m||!t.selection.eq(i.selection))&&(a=!0);let x=p=="preserve"&&a&&this.dom.style.overflowAnchor==null&&PQ(this);if(a){this.domObserver.stop();let y=m&&(qr||rr)&&!this.composing&&!i.selection.empty&&!t.selection.empty&&ste(i.selection,t.selection);if(m){let v=rr?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Pee(this)),(s||!this.docView.update(t.doc,f,d,this))&&(this.docView.updateOuterDeco(f),this.docView.destroy(),this.docView=eC(t.doc,f,d,this.dom,this)),v&&!this.trackWrites&&(y=!0)}y||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&aee(this))?Xs(this,y):(kE(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,i),p=="reset"?this.dom.scrollTop=0:p=="to selection"?this.scrollToSelection():x&&zQ(x)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!(!t||!this.dom.contains(t.nodeType==1?t:t.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof _t){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&YS(this,n.getBoundingClientRect(),t)}else YS(this,this.coordsAtPos(this.state.selection.head,1),t)}}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,t)}}updateDraggedNode(t,n){let r=t.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new PE(t.slice,t.move,i<0?void 0:_t.create(this.state.doc,i))}someProp(t,n){let r=this._props&&this._props[t],i;if(r!=null&&(i=n?n(r):r))return i;for(let a=0;a<this.directPlugins.length;a++){let u=this.directPlugins[a].props[t];if(u!=null&&(i=n?n(u):u))return i}let s=this.state.plugins;if(s)for(let a=0;a<s.length;a++){let u=s[a].props[t];if(u!=null&&(i=n?n(u):u))return i}}hasFocus(){if(qr){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&IQ(this.dom),Xs(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}updateRoot(){this._root=null}posAtCoords(t){return UQ(this,t)}coordsAtPos(t,n=1){return pE(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,r=-1){let i=this.docView.posFromDOM(t,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(t,n){return YQ(this,n||this.state,t)}pasteHTML(t,n){return tf(this,"",t,!1,n||new ClipboardEvent("paste"))}pasteText(t,n){return tf(this,t,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(t){return Qb(this,t)}destroy(){this.docView&&(See(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Hx(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,_Q())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return jee(this,t)}domSelectionRange(){let t=this.domSelection();return t?_r&&this.root.nodeType===11&&TQ(this.dom.ownerDocument)==this.dom&&Jee(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}$E.prototype.dispatch=function(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))};function vC(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(e.state)),n)for(let r in n)r=="class"?t.class+=" "+n[r]:r=="style"?t.style=(t.style?t.style+";":"")+n[r]:!t[r]&&r!="contenteditable"&&r!="nodeName"&&(t[r]=String(n[r]))}),t.translate||(t.translate="no"),[Rr.node(0,e.state.doc.content.size,t)]}function wC(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:Rr.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function kC(e){return!e.someProp("editable",t=>t(e.state)===!1)}function ste(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function SC(e){let t=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(t,i)||(t[i]=r[i])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function ate(e,t){let n=0,r=0;for(let i in e){if(e[i]!=t[i])return!0;n++}for(let i in t)r++;return n!=r}function CC(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}const lte=["p",0],ote=["blockquote",0],ute=["hr"],cte=["pre",["code",0]],dte=["br"],fte={doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM(){return lte}},blockquote:{content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM(){return ote}},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM(){return ute}},heading:{attrs:{level:{default:1,validate:"number"}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM(e){return["h"+e.attrs.level,0]}},code_block:{content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM(){return cte}},text:{group:"inline"},image:{inline:!0,attrs:{src:{validate:"string"},alt:{default:null,validate:"string|null"},title:{default:null,validate:"string|null"}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs(e){return{src:e.getAttribute("src"),title:e.getAttribute("title"),alt:e.getAttribute("alt")}}}],toDOM(e){let{src:t,alt:n,title:r}=e.attrs;return["img",{src:t,alt:n,title:r}]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM(){return dte}}},hte=["em",0],pte=["strong",0],mte=["code",0],gte={link:{attrs:{href:{validate:"string"},title:{default:null,validate:"string|null"}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs(e){return{href:e.getAttribute("href"),title:e.getAttribute("title")}}}],toDOM(e){let{href:t,title:n}=e.attrs;return["a",{href:t,title:n},0]}},em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"},{style:"font-style=normal",clearMark:e=>e.type.name=="em"}],toDOM(){return hte}},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!="normal"&&null},{style:"font-weight=400",clearMark:e=>e.type.name=="strong"},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}],toDOM(){return pte}},code:{code:!0,parseDOM:[{tag:"code"}],toDOM(){return mte}}},HE=new Vb({nodes:fte,marks:gte}),xte=["ol",0],yte=["ul",0],bte=["li",0],vte={attrs:{order:{default:1,validate:"number"}},parseDOM:[{tag:"ol",getAttrs(e){return{order:e.hasAttribute("start")?+e.getAttribute("start"):1}}}],toDOM(e){return e.attrs.order==1?xte:["ol",{start:e.attrs.order},0]}},wte={parseDOM:[{tag:"ul"}],toDOM(){return yte}},kte={parseDOM:[{tag:"li"}],toDOM(){return bte},defining:!0};function Vx(e,t){let n={};for(let r in e)n[r]=e[r];for(let r in t)n[r]=t[r];return n}function Ste(e,t,n){return e.append({ordered_list:Vx(vte,{content:"list_item+",group:n}),bullet_list:Vx(wte,{content:"list_item+",group:n}),list_item:Vx(kte,{content:t})})}function sv(e,t=null){return function(n,r){let{$from:i,$to:s}=n.selection,a=i.blockRange(s);if(!a)return!1;let u=r?n.tr:null;return Cte(u,a,e,t)?(r&&r(u.scrollIntoView()),!0):!1}}function Cte(e,t,n,r=null){let i=!1,s=t,a=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(n)&&t.startIndex==0){if(t.$from.index(t.depth-1)==0)return!1;let d=a.resolve(t.start-2);s=new xm(d,d,t.depth),t.endIndex<t.parent.childCount&&(t=new xm(t.$from,a.resolve(t.$to.end(t.depth)),t.depth)),i=!0}let u=Wb(s,n,r,t);return u?(e&&jte(e,t,u,i,n),!0):!1}function jte(e,t,n,r,i){let s=Ee.empty;for(let p=n.length-1;p>=0;p--)s=Ee.from(n[p].type.create(n[p].attrs,s));e.step(new xr(t.start-(r?2:0),t.end,t.start,t.end,new $e(s,0,0),n.length,!0));let a=0;for(let p=0;p<n.length;p++)n[p].type==i&&(a=p+1);let u=n.length-a,d=t.start+n.length-(r?2:0),f=t.parent;for(let p=t.startIndex,m=t.endIndex,x=!0;p<m;p++,x=!1)!x&&Od(e.doc,d,u)&&(e.split(d,u),d+=2*u),d+=f.child(p).nodeSize;return e}function _te(e){return function(t,n){let{$from:r,$to:i}=t.selection,s=r.blockRange(i,a=>a.childCount>0&&a.firstChild.type==e);return s?n?r.node(s.depth-1).type==e?Nte(t,n,e,s):Ete(t,n,s):!0:!1}}function Nte(e,t,n,r){let i=e.tr,s=r.end,a=r.$to.end(r.depth);s<a&&(i.step(new xr(s-1,a,s,a,new $e(Ee.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new xm(i.doc.resolve(r.$from.pos),i.doc.resolve(a),r.depth));const u=p0(r);if(u==null)return!1;i.lift(r,u);let d=i.doc.resolve(i.mapping.map(s,-1)-1);return m0(i.doc,d.pos)&&d.nodeBefore.type==d.nodeAfter.type&&i.join(d.pos),t(i.scrollIntoView()),!0}function Ete(e,t,n){let r=e.tr,i=n.parent;for(let y=n.end,v=n.endIndex-1,k=n.startIndex;v>k;v--)y-=i.child(v).nodeSize,r.delete(y-1,y+1);let s=r.doc.resolve(n.start),a=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let u=n.startIndex==0,d=n.endIndex==i.childCount,f=s.node(-1),p=s.index(-1);if(!f.canReplace(p+(u?0:1),p+1,a.content.append(d?Ee.empty:Ee.from(i))))return!1;let m=s.pos,x=m+a.nodeSize;return r.step(new xr(m-(u?1:0),x+(d?1:0),m+1,x-1,new $e((u?Ee.empty:Ee.from(i.copy(Ee.empty))).append(d?Ee.empty:Ee.from(i.copy(Ee.empty))),u?0:1,d?0:1),u?0:1)),t(r.scrollIntoView()),!0}function Ate(e){return function(t,n){let{$from:r,$to:i}=t.selection,s=r.blockRange(i,f=>f.childCount>0&&f.firstChild.type==e);if(!s)return!1;let a=s.startIndex;if(a==0)return!1;let u=s.parent,d=u.child(a-1);if(d.type!=e)return!1;if(n){let f=d.lastChild&&d.lastChild.type==u.type,p=Ee.from(f?e.create():null),m=new $e(Ee.from(e.create(null,Ee.from(u.type.create(null,p)))),f?3:1,0),x=s.start,y=s.end;n(t.tr.step(new xr(x-(f?3:1),y,x,y,m,1,!0)).scrollIntoView())}return!0}}var al={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Cm={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Dte=typeof navigator<"u"&&/Mac/.test(navigator.platform),Tte=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var gr=0;gr<10;gr++)al[48+gr]=al[96+gr]=String(gr);for(var gr=1;gr<=24;gr++)al[gr+111]="F"+gr;for(var gr=65;gr<=90;gr++)al[gr]=String.fromCharCode(gr+32),Cm[gr]=String.fromCharCode(gr);for(var qx in al)Cm.hasOwnProperty(qx)||(Cm[qx]=al[qx]);function Mte(e){var t=Dte&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||Tte&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?Cm:al)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const Ote=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),Rte=typeof navigator<"u"&&/Win/.test(navigator.platform);function Lte(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let r,i,s,a;for(let u=0;u<t.length-1;u++){let d=t[u];if(/^(cmd|meta|m)$/i.test(d))a=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))i=!0;else if(/^s(hift)?$/i.test(d))s=!0;else if(/^mod$/i.test(d))Ote?a=!0:i=!0;else throw new Error("Unrecognized modifier name: "+d)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),a&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function Pte(e){let t=Object.create(null);for(let n in e)t[Lte(n)]=e[n];return t}function Gx(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function UE(e){return new na({props:{handleKeyDown:av(e)}})}function av(e){let t=Pte(e);return function(n,r){let i=Mte(r),s,a=t[Gx(i,r)];if(a&&a(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let u=t[Gx(i,r,!1)];if(u&&u(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(Rte&&r.ctrlKey&&r.altKey)&&(s=al[r.keyCode])&&s!=i){let u=t[Gx(s,r)];if(u&&u(n.state,n.dispatch,n))return!0}}return!1}}let N2,E2;if(typeof WeakMap<"u"){let e=new WeakMap;N2=t=>e.get(t),E2=(t,n)=>(e.set(t,n),n)}else{const e=[];let n=0;N2=r=>{for(let i=0;i<e.length;i+=2)if(e[i]==r)return e[i+1]},E2=(r,i)=>(n==10&&(n=0),e[n++]=r,e[n++]=i)}var $n=class{constructor(e,t,n,r){this.width=e,this.height=t,this.map=n,this.problems=r}findCell(e){for(let t=0;t<this.map.length;t++){const n=this.map[t];if(n!=e)continue;const r=t%this.width,i=t/this.width|0;let s=r+1,a=i+1;for(let u=1;s<this.width&&this.map[t+u]==n;u++)s++;for(let u=1;a<this.height&&this.map[t+this.width*u]==n;u++)a++;return{left:r,top:i,right:s,bottom:a}}throw new RangeError(`No cell with offset ${e} found`)}colCount(e){for(let t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError(`No cell with offset ${e} found`)}nextCell(e,t,n){const{left:r,right:i,top:s,bottom:a}=this.findCell(e);return t=="horiz"?(n<0?r==0:i==this.width)?null:this.map[s*this.width+(n<0?r-1:i)]:(n<0?s==0:a==this.height)?null:this.map[r+this.width*(n<0?s-1:a)]}rectBetween(e,t){const{left:n,right:r,top:i,bottom:s}=this.findCell(e),{left:a,right:u,top:d,bottom:f}=this.findCell(t);return{left:Math.min(n,a),top:Math.min(i,d),right:Math.max(r,u),bottom:Math.max(s,f)}}cellsInRect(e){const t=[],n={};for(let r=e.top;r<e.bottom;r++)for(let i=e.left;i<e.right;i++){const s=r*this.width+i,a=this.map[s];n[a]||(n[a]=!0,!(i==e.left&&i&&this.map[s-1]==a||r==e.top&&r&&this.map[s-this.width]==a)&&t.push(a))}return t}positionAt(e,t,n){for(let r=0,i=0;;r++){const s=i+n.child(r).nodeSize;if(r==e){let a=t+e*this.width;const u=(e+1)*this.width;for(;a<u&&this.map[a]<i;)a++;return a==u?s-1:this.map[a]}i=s}}static get(e){return N2(e)||E2(e,zte(e))}};function zte(e){if(e.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+e.type.name);const t=Ite(e),n=e.childCount,r=[];let i=0,s=null;const a=[];for(let f=0,p=t*n;f<p;f++)r[f]=0;for(let f=0,p=0;f<n;f++){const m=e.child(f);p++;for(let v=0;;v++){for(;i<r.length&&r[i]!=0;)i++;if(v==m.childCount)break;const k=m.child(v),{colspan:j,rowspan:C,colwidth:N}=k.attrs;for(let A=0;A<C;A++){if(A+f>=n){(s||(s=[])).push({type:"overlong_rowspan",pos:p,n:C-A});break}const z=i+A*t;for(let I=0;I<j;I++){r[z+I]==0?r[z+I]=p:(s||(s=[])).push({type:"collision",row:f,pos:p,n:j-I});const T=N&&N[I];if(T){const E=(z+I)%t*2,M=a[E];M==null||M!=T&&a[E+1]==1?(a[E]=T,a[E+1]=1):M==T&&a[E+1]++}}}i+=j,p+=k.nodeSize}const x=(f+1)*t;let y=0;for(;i<x;)r[i++]==0&&y++;y&&(s||(s=[])).push({type:"missing",row:f,n:y}),p++}(t===0||n===0)&&(s||(s=[])).push({type:"zero_sized"});const u=new $n(t,n,r,s);let d=!1;for(let f=0;!d&&f<a.length;f+=2)a[f]!=null&&a[f+1]<n&&(d=!0);return d&&Fte(u,a,e),u}function Ite(e){let t=-1,n=!1;for(let r=0;r<e.childCount;r++){const i=e.child(r);let s=0;if(n)for(let a=0;a<r;a++){const u=e.child(a);for(let d=0;d<u.childCount;d++){const f=u.child(d);a+f.attrs.rowspan>r&&(s+=f.attrs.colspan)}}for(let a=0;a<i.childCount;a++){const u=i.child(a);s+=u.attrs.colspan,u.attrs.rowspan>1&&(n=!0)}t==-1?t=s:t!=s&&(t=Math.max(t,s))}return t}function Fte(e,t,n){e.problems||(e.problems=[]);const r={};for(let i=0;i<e.map.length;i++){const s=e.map[i];if(r[s])continue;r[s]=!0;const a=n.nodeAt(s);if(!a)throw new RangeError(`No cell with offset ${s} found`);let u=null;const d=a.attrs;for(let f=0;f<d.colspan;f++){const p=t[(i+f)%e.width*2];p!=null&&(!d.colwidth||d.colwidth[f]!=p)&&((u||(u=Bte(d)))[f]=p)}u&&e.problems.unshift({type:"colwidth mismatch",pos:s,colwidth:u})}}function Bte(e){if(e.colwidth)return e.colwidth.slice();const t=[];for(let n=0;n<e.colspan;n++)t.push(0);return t}function jC(e,t){if(typeof e=="string")return{};const n=e.getAttribute("data-colwidth"),r=n&&/^\d+(,\d+)*$/.test(n)?n.split(",").map(a=>Number(a)):null,i=Number(e.getAttribute("colspan")||1),s={colspan:i,rowspan:Number(e.getAttribute("rowspan")||1),colwidth:r&&r.length==i?r:null};for(const a in t){const u=t[a].getFromDOM,d=u&&u(e);d!=null&&(s[a]=d)}return s}function _C(e,t){const n={};e.attrs.colspan!=1&&(n.colspan=e.attrs.colspan),e.attrs.rowspan!=1&&(n.rowspan=e.attrs.rowspan),e.attrs.colwidth&&(n["data-colwidth"]=e.attrs.colwidth.join(","));for(const r in t){const i=t[r].setDOMAttr;i&&i(e.attrs[r],n)}return n}function $te(e){if(e!==null){if(!Array.isArray(e))throw new TypeError("colwidth must be null or an array");for(const t of e)if(typeof t!="number")throw new TypeError("colwidth must be null or an array of numbers")}}function Hte(e){const t=e.cellAttributes||{},n={colspan:{default:1,validate:"number"},rowspan:{default:1,validate:"number"},colwidth:{default:null,validate:$te}};for(const r in t)n[r]={default:t[r].default,validate:t[r].validate};return{table:{content:"table_row+",tableRole:"table",isolating:!0,group:e.tableGroup,parseDOM:[{tag:"table"}],toDOM(){return["table",["tbody",0]]}},table_row:{content:"(table_cell | table_header)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM(){return["tr",0]}},table_cell:{content:e.cellContent,attrs:n,tableRole:"cell",isolating:!0,parseDOM:[{tag:"td",getAttrs:r=>jC(r,t)}],toDOM(r){return["td",_C(r,t),0]}},table_header:{content:e.cellContent,attrs:n,tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th",getAttrs:r=>jC(r,t)}],toDOM(r){return["th",_C(r,t),0]}}}}function Nr(e){let t=e.cached.tableNodeTypes;if(!t){t=e.cached.tableNodeTypes={};for(const n in e.nodes){const r=e.nodes[n],i=r.spec.tableRole;i&&(t[i]=r)}}return t}const Va=new po("selectingCells");function ao(e){for(let t=e.depth-1;t>0;t--)if(e.node(t).type.spec.tableRole=="row")return e.node(0).resolve(e.before(t+1));return null}function Ute(e){for(let t=e.depth;t>0;t--){const n=e.node(t).type.spec.tableRole;if(n==="cell"||n==="header_cell")return e.node(t)}return null}function Tf(e){const t=e.selection.$head;for(let n=t.depth;n>0;n--)if(t.node(n).type.spec.tableRole=="row")return!0;return!1}function VE(e){const t=e.selection;if("$anchorCell"in t&&t.$anchorCell)return t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell;if("node"in t&&t.node&&t.node.type.spec.tableRole=="cell")return t.$anchor;const n=ao(t.$head)||Vte(t.$head);if(n)return n;throw new RangeError(`No cell found around position ${t.head}`)}function Vte(e){for(let t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){const r=t.type.spec.tableRole;if(r=="cell"||r=="header_cell")return e.doc.resolve(n)}for(let t=e.nodeBefore,n=e.pos;t;t=t.lastChild,n--){const r=t.type.spec.tableRole;if(r=="cell"||r=="header_cell")return e.doc.resolve(n-t.nodeSize)}}function A2(e){return e.parent.type.spec.tableRole=="row"&&!!e.nodeAfter}function lv(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function qE(e,t,n){const r=e.node(-1),i=$n.get(r),s=e.start(-1),a=i.nextCell(e.pos-s,t,n);return a==null?null:e.node(0).resolve(s+a)}function Ou(e,t,n=1){const r={...e,colspan:e.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(t,n),r.colwidth.some(i=>i>0)||(r.colwidth=null)),r}function GE(e,t,n=1){const r={...e,colspan:e.colspan+n};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let i=0;i<n;i++)r.colwidth.splice(t,0,0)}return r}function qte(e,t,n){const r=Nr(t.type.schema).header_cell;for(let i=0;i<e.height;i++)if(t.nodeAt(e.map[n+i*e.width]).type!=r)return!1;return!0}var kn=class Ws extends Et{constructor(t,n=t){const r=t.node(-1),i=$n.get(r),s=t.start(-1),a=i.rectBetween(t.pos-s,n.pos-s),u=t.node(0),d=i.cellsInRect(a).filter(p=>p!=n.pos-s);d.unshift(n.pos-s);const f=d.map(p=>{const m=r.nodeAt(p);if(!m)throw new RangeError(`No cell with offset ${p} found`);const x=s+p+1;return new iE(u.resolve(x),u.resolve(x+m.content.size))});super(f[0].$from,f[0].$to,f),this.$anchorCell=t,this.$headCell=n}map(t,n){const r=t.resolve(n.map(this.$anchorCell.pos)),i=t.resolve(n.map(this.$headCell.pos));if(A2(r)&&A2(i)&&lv(r,i)){const s=this.$anchorCell.node(-1)!=r.node(-1);return s&&this.isRowSelection()?Ws.rowSelection(r,i):s&&this.isColSelection()?Ws.colSelection(r,i):new Ws(r,i)}return qt.between(r,i)}content(){const t=this.$anchorCell.node(-1),n=$n.get(t),r=this.$anchorCell.start(-1),i=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),s={},a=[];for(let d=i.top;d<i.bottom;d++){const f=[];for(let p=d*n.width+i.left,m=i.left;m<i.right;m++,p++){const x=n.map[p];if(s[x])continue;s[x]=!0;const y=n.findCell(x);let v=t.nodeAt(x);if(!v)throw new RangeError(`No cell with offset ${x} found`);const k=i.left-y.left,j=y.right-i.right;if(k>0||j>0){let C=v.attrs;if(k>0&&(C=Ou(C,0,k)),j>0&&(C=Ou(C,C.colspan-j,j)),y.left<i.left){if(v=v.type.createAndFill(C),!v)throw new RangeError(`Could not create cell with attrs ${JSON.stringify(C)}`)}else v=v.type.create(C,v.content)}if(y.top<i.top||y.bottom>i.bottom){const C={...v.attrs,rowspan:Math.min(y.bottom,i.bottom)-Math.max(y.top,i.top)};y.top<i.top?v=v.type.createAndFill(C):v=v.type.create(C,v.content)}f.push(v)}a.push(t.child(d).copy(Ee.from(f)))}const u=this.isColSelection()&&this.isRowSelection()?t:a;return new $e(Ee.from(u),1,1)}replace(t,n=$e.empty){const r=t.steps.length,i=this.ranges;for(let a=0;a<i.length;a++){const{$from:u,$to:d}=i[a],f=t.mapping.slice(r);t.replace(f.map(u.pos),f.map(d.pos),a?$e.empty:n)}const s=Et.findFrom(t.doc.resolve(t.mapping.slice(r).map(this.to)),-1);s&&t.setSelection(s)}replaceWith(t,n){this.replace(t,new $e(Ee.from(n),0,0))}forEachCell(t){const n=this.$anchorCell.node(-1),r=$n.get(n),i=this.$anchorCell.start(-1),s=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let a=0;a<s.length;a++)t(n.nodeAt(s[a]),i+s[a])}isColSelection(){const t=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(t,n)>0)return!1;const r=t+this.$anchorCell.nodeAfter.attrs.rowspan,i=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,i)==this.$headCell.node(-1).childCount}static colSelection(t,n=t){const r=t.node(-1),i=$n.get(r),s=t.start(-1),a=i.findCell(t.pos-s),u=i.findCell(n.pos-s),d=t.node(0);return a.top<=u.top?(a.top>0&&(t=d.resolve(s+i.map[a.left])),u.bottom<i.height&&(n=d.resolve(s+i.map[i.width*(i.height-1)+u.right-1]))):(u.top>0&&(n=d.resolve(s+i.map[u.left])),a.bottom<i.height&&(t=d.resolve(s+i.map[i.width*(i.height-1)+a.right-1]))),new Ws(t,n)}isRowSelection(){const t=this.$anchorCell.node(-1),n=$n.get(t),r=this.$anchorCell.start(-1),i=n.colCount(this.$anchorCell.pos-r),s=n.colCount(this.$headCell.pos-r);if(Math.min(i,s)>0)return!1;const a=i+this.$anchorCell.nodeAfter.attrs.colspan,u=s+this.$headCell.nodeAfter.attrs.colspan;return Math.max(a,u)==n.width}eq(t){return t instanceof Ws&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos}static rowSelection(t,n=t){const r=t.node(-1),i=$n.get(r),s=t.start(-1),a=i.findCell(t.pos-s),u=i.findCell(n.pos-s),d=t.node(0);return a.left<=u.left?(a.left>0&&(t=d.resolve(s+i.map[a.top*i.width])),u.right<i.width&&(n=d.resolve(s+i.map[i.width*(u.top+1)-1]))):(u.left>0&&(n=d.resolve(s+i.map[u.top*i.width])),a.right<i.width&&(t=d.resolve(s+i.map[i.width*(a.top+1)-1]))),new Ws(t,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(t,n){return new Ws(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){return new Ws(t.resolve(n),t.resolve(r))}getBookmark(){return new Gte(this.$anchorCell.pos,this.$headCell.pos)}};kn.prototype.visible=!1;Et.jsonID("cell",kn);var Gte=class WE{constructor(t,n){this.anchor=t,this.head=n}map(t){return new WE(t.map(this.anchor),t.map(this.head))}resolve(t){const n=t.resolve(this.anchor),r=t.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&lv(n,r)?new kn(n,r):Et.near(r,1)}};function Wte(e){if(!(e.selection instanceof kn))return null;const t=[];return e.selection.forEachCell((n,r)=>{t.push(Rr.node(r,r+n.nodeSize,{class:"selectedCell"}))}),Nn.create(e.doc,t)}function Yte({$from:e,$to:t}){if(e.pos==t.pos||e.pos<t.pos-6)return!1;let n=e.pos,r=t.pos,i=e.depth;for(;i>=0&&!(e.after(i+1)<e.end(i));i--,n++);for(let s=t.depth;s>=0&&!(t.before(s+1)>t.start(s));s--,r--);return n==r&&/row|table/.test(e.node(i).type.spec.tableRole)}function Kte({$from:e,$to:t}){let n,r;for(let i=e.depth;i>0;i--){const s=e.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){n=s;break}}for(let i=t.depth;i>0;i--){const s=t.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){r=s;break}}return n!==r&&t.parentOffset===0}function Jte(e,t,n){const r=(t||e).selection,i=(t||e).doc;let s,a;if(r instanceof _t&&(a=r.node.type.spec.tableRole)){if(a=="cell"||a=="header_cell")s=kn.create(i,r.from);else if(a=="row"){const u=i.resolve(r.from+1);s=kn.rowSelection(u,u)}else if(!n){const u=$n.get(r.node),d=r.from+1,f=d+u.map[u.width*u.height-1];s=kn.create(i,d+1,f)}}else r instanceof qt&&Yte(r)?s=qt.create(i,r.from):r instanceof qt&&Kte(r)&&(s=qt.create(i,r.$from.start(),r.$from.end()));return s&&(t||(t=e.tr)).setSelection(s),t}const Xte=new po("fix-tables");function YE(e,t,n,r){const i=e.childCount,s=t.childCount;e:for(let a=0,u=0;a<s;a++){const d=t.child(a);for(let f=u,p=Math.min(i,a+3);f<p;f++)if(e.child(f)==d){u=f+1,n+=d.nodeSize;continue e}r(d,n),u<i&&e.child(u).sameMarkup(d)?YE(e.child(u),d,n+1,r):d.nodesBetween(0,d.content.size,r,n+1),n+=d.nodeSize}}function Zte(e,t){let n;const r=(i,s)=>{i.type.spec.tableRole=="table"&&(n=Qte(e,i,s,n))};return t?t.doc!=e.doc&&YE(t.doc,e.doc,0,r):e.doc.descendants(r),n}function Qte(e,t,n,r){const i=$n.get(t);if(!i.problems)return r;r||(r=e.tr);const s=[];for(let d=0;d<i.height;d++)s.push(0);for(let d=0;d<i.problems.length;d++){const f=i.problems[d];if(f.type=="collision"){const p=t.nodeAt(f.pos);if(!p)continue;const m=p.attrs;for(let x=0;x<m.rowspan;x++)s[f.row+x]+=f.n;r.setNodeMarkup(r.mapping.map(n+1+f.pos),null,Ou(m,m.colspan-f.n,f.n))}else if(f.type=="missing")s[f.row]+=f.n;else if(f.type=="overlong_rowspan"){const p=t.nodeAt(f.pos);if(!p)continue;r.setNodeMarkup(r.mapping.map(n+1+f.pos),null,{...p.attrs,rowspan:p.attrs.rowspan-f.n})}else if(f.type=="colwidth mismatch"){const p=t.nodeAt(f.pos);if(!p)continue;r.setNodeMarkup(r.mapping.map(n+1+f.pos),null,{...p.attrs,colwidth:f.colwidth})}else if(f.type=="zero_sized"){const p=r.mapping.map(n);r.delete(p,p+t.nodeSize)}}let a,u;for(let d=0;d<s.length;d++)s[d]&&(a==null&&(a=d),u=d);for(let d=0,f=n+1;d<i.height;d++){const p=t.child(d),m=f+p.nodeSize,x=s[d];if(x>0){let y="cell";p.firstChild&&(y=p.firstChild.type.spec.tableRole);const v=[];for(let j=0;j<x;j++){const C=Nr(e.schema)[y].createAndFill();C&&v.push(C)}const k=(d==0||a==d-1)&&u==d?f+1:m-1;r.insert(r.mapping.map(k),v)}f=m}return r.setMeta(Xte,{fixTables:!0})}function Ku(e){const t=e.selection,n=VE(e),r=n.node(-1),i=n.start(-1),s=$n.get(r);return{...t instanceof kn?s.rectBetween(t.$anchorCell.pos-i,t.$headCell.pos-i):s.findCell(n.pos-i),tableStart:i,map:s,table:r}}function ene(e,{map:t,tableStart:n,table:r},i){let s=i>0?-1:0;qte(t,r,i+s)&&(s=i==0||i==t.width?null:0);for(let a=0;a<t.height;a++){const u=a*t.width+i;if(i>0&&i<t.width&&t.map[u-1]==t.map[u]){const d=t.map[u],f=r.nodeAt(d);e.setNodeMarkup(e.mapping.map(n+d),null,GE(f.attrs,i-t.colCount(d))),a+=f.attrs.rowspan-1}else{const d=s==null?Nr(r.type.schema).cell:r.nodeAt(t.map[u+s]).type,f=t.positionAt(a,i,r);e.insert(e.mapping.map(n+f),d.createAndFill())}}return e}function tne(e,t){if(!Tf(e))return!1;if(t){const n=Ku(e);t(ene(e.tr,n,n.right))}return!0}function nne(e,t,n){var r;const i=Nr(t.type.schema).header_cell;for(let s=0;s<e.width;s++)if(((r=t.nodeAt(e.map[s+n*e.width]))===null||r===void 0?void 0:r.type)!=i)return!1;return!0}function rne(e,{map:t,tableStart:n,table:r},i){let s=n;for(let f=0;f<i;f++)s+=r.child(f).nodeSize;const a=[];let u=i>0?-1:0;nne(t,r,i+u)&&(u=i==0||i==t.height?null:0);for(let f=0,p=t.width*i;f<t.width;f++,p++)if(i>0&&i<t.height&&t.map[p]==t.map[p-t.width]){const m=t.map[p],x=r.nodeAt(m).attrs;e.setNodeMarkup(n+m,null,{...x,rowspan:x.rowspan+1}),f+=x.colspan-1}else{var d;const m=u==null?Nr(r.type.schema).cell:(d=r.nodeAt(t.map[p+u*t.width]))===null||d===void 0?void 0:d.type,x=m?.createAndFill();x&&a.push(x)}return e.insert(s,Nr(r.type.schema).row.create(null,a)),e}function ine(e,t){if(!Tf(e))return!1;if(t){const n=Ku(e);t(rne(e.tr,n,n.bottom))}return!0}function NC(e){const t=e.content;return t.childCount==1&&t.child(0).isTextblock&&t.child(0).childCount==0}function sne({width:e,height:t,map:n},r){let i=r.top*e+r.left,s=i,a=(r.bottom-1)*e+r.left,u=i+(r.right-r.left-1);for(let d=r.top;d<r.bottom;d++){if(r.left>0&&n[s]==n[s-1]||r.right<e&&n[u]==n[u+1])return!0;s+=e,u+=e}for(let d=r.left;d<r.right;d++){if(r.top>0&&n[i]==n[i-e]||r.bottom<t&&n[a]==n[a+e])return!0;i++,a++}return!1}function ane(e,t){const n=e.selection;if(!(n instanceof kn)||n.$anchorCell.pos==n.$headCell.pos)return!1;const r=Ku(e),{map:i}=r;if(sne(i,r))return!1;if(t){const s=e.tr,a={};let u=Ee.empty,d,f;for(let p=r.top;p<r.bottom;p++)for(let m=r.left;m<r.right;m++){const x=i.map[p*i.width+m],y=r.table.nodeAt(x);if(!(a[x]||!y))if(a[x]=!0,d==null)d=x,f=y;else{NC(y)||(u=u.append(y.content));const v=s.mapping.map(x+r.tableStart);s.delete(v,v+y.nodeSize)}}if(d==null||f==null)return!0;if(s.setNodeMarkup(d+r.tableStart,null,{...GE(f.attrs,f.attrs.colspan,r.right-r.left-f.attrs.colspan),rowspan:r.bottom-r.top}),u.size>0){const p=d+1+f.content.size,m=NC(f)?d+1:p;s.replaceWith(m+r.tableStart,p+r.tableStart,u)}s.setSelection(new kn(s.doc.resolve(d+r.tableStart))),t(s)}return!0}function lne(e,t){const n=Nr(e.schema);return one(({node:r})=>n[r.type.spec.tableRole])(e,t)}function one(e){return(t,n)=>{const r=t.selection;let i,s;if(r instanceof kn){if(r.$anchorCell.pos!=r.$headCell.pos)return!1;i=r.$anchorCell.nodeAfter,s=r.$anchorCell.pos}else{var a;if(i=Ute(r.$from),!i)return!1;s=(a=ao(r.$from))===null||a===void 0?void 0:a.pos}if(i==null||s==null||i.attrs.colspan==1&&i.attrs.rowspan==1)return!1;if(n){let u=i.attrs;const d=[],f=u.colwidth;u.rowspan>1&&(u={...u,rowspan:1}),u.colspan>1&&(u={...u,colspan:1});const p=Ku(t),m=t.tr;for(let y=0;y<p.right-p.left;y++)d.push(f?{...u,colwidth:f&&f[y]?[f[y]]:null}:u);let x;for(let y=p.top;y<p.bottom;y++){let v=p.map.positionAt(y,p.left,p.table);y==p.top&&(v+=i.nodeSize);for(let k=p.left,j=0;k<p.right;k++,j++)k==p.left&&y==p.top||m.insert(x=m.mapping.map(v+p.tableStart,1),e({node:i,row:y,col:k}).createAndFill(d[j]))}m.setNodeMarkup(s,e({node:i,row:p.top,col:p.left}),d[0]),r instanceof kn&&m.setSelection(new kn(m.doc.resolve(r.$anchorCell.pos),x?m.doc.resolve(x):void 0)),n(m)}return!0}}function une(e){return function(t,n){if(!Tf(t))return!1;if(n){const r=Nr(t.schema),i=Ku(t),s=t.tr,a=i.map.cellsInRect(e=="column"?{left:i.left,top:0,right:i.right,bottom:i.map.height}:e=="row"?{left:0,top:i.top,right:i.map.width,bottom:i.bottom}:i),u=a.map(d=>i.table.nodeAt(d));for(let d=0;d<a.length;d++)u[d].type==r.header_cell&&s.setNodeMarkup(i.tableStart+a[d],r.cell,u[d].attrs);if(s.steps.length===0)for(let d=0;d<a.length;d++)s.setNodeMarkup(i.tableStart+a[d],r.header_cell,u[d].attrs);n(s)}return!0}}function EC(e,t,n){const r=t.map.cellsInRect({left:0,top:0,right:e=="row"?t.map.width:1,bottom:e=="column"?t.map.height:1});for(let i=0;i<r.length;i++){const s=t.table.nodeAt(r[i]);if(s&&s.type!==n.header_cell)return!1}return!0}function ov(e,t){return t=t||{useDeprecatedLogic:!1},t.useDeprecatedLogic?une(e):function(n,r){if(!Tf(n))return!1;if(r){const i=Nr(n.schema),s=Ku(n),a=n.tr,u=EC("row",s,i),d=EC("column",s,i),f=(e==="column"?u:e==="row"&&d)?1:0,p=e=="column"?{left:0,top:f,right:1,bottom:s.map.height}:e=="row"?{left:f,top:0,right:s.map.width,bottom:1}:s,m=e=="column"?d?i.cell:i.header_cell:e=="row"?u?i.cell:i.header_cell:i.cell;s.map.cellsInRect(p).forEach(x=>{const y=x+s.tableStart,v=a.doc.nodeAt(y);v&&a.setNodeMarkup(y,m,v.attrs)}),r(a)}return!0}}ov("row",{useDeprecatedLogic:!0});ov("column",{useDeprecatedLogic:!0});ov("cell",{useDeprecatedLogic:!0});function cne(e,t){const n=e.selection.$anchor;for(let r=n.depth;r>0;r--)if(n.node(r).type.spec.tableRole=="table")return t&&t(e.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1}function fp(e,t){const n=e.selection;if(!(n instanceof kn))return!1;if(t){const r=e.tr,i=Nr(e.schema).cell.createAndFill().content;n.forEachCell((s,a)=>{s.content.eq(i)||r.replace(r.mapping.map(a+1),r.mapping.map(a+s.nodeSize-1),new $e(i,0,0))}),r.docChanged&&t(r)}return!0}function dne(e){if(e.size===0)return null;let{content:t,openStart:n,openEnd:r}=e;for(;t.childCount==1&&(n>0&&r>0||t.child(0).type.spec.tableRole=="table");)n--,r--,t=t.child(0).content;const i=t.child(0),s=i.type.spec.tableRole,a=i.type.schema,u=[];if(s=="row")for(let d=0;d<t.childCount;d++){let f=t.child(d).content;const p=d?0:Math.max(0,n-1),m=d<t.childCount-1?0:Math.max(0,r-1);(p||m)&&(f=D2(Nr(a).row,new $e(f,p,m)).content),u.push(f)}else if(s=="cell"||s=="header_cell")u.push(n||r?D2(Nr(a).row,new $e(t,n,r)).content:t);else return null;return fne(a,u)}function fne(e,t){const n=[];for(let i=0;i<t.length;i++){const s=t[i];for(let a=s.childCount-1;a>=0;a--){const{rowspan:u,colspan:d}=s.child(a).attrs;for(let f=i;f<i+u;f++)n[f]=(n[f]||0)+d}}let r=0;for(let i=0;i<n.length;i++)r=Math.max(r,n[i]);for(let i=0;i<n.length;i++)if(i>=t.length&&t.push(Ee.empty),n[i]<r){const s=Nr(e).cell.createAndFill(),a=[];for(let u=n[i];u<r;u++)a.push(s);t[i]=t[i].append(Ee.from(a))}return{height:t.length,width:r,rows:t}}function D2(e,t){const n=e.createAndFill();return new rE(n).replace(0,n.content.size,t).doc}function hne({width:e,height:t,rows:n},r,i){if(e!=r){const s=[],a=[];for(let u=0;u<n.length;u++){const d=n[u],f=[];for(let p=s[u]||0,m=0;p<r;m++){let x=d.child(m%d.childCount);p+x.attrs.colspan>r&&(x=x.type.createChecked(Ou(x.attrs,x.attrs.colspan,p+x.attrs.colspan-r),x.content)),f.push(x),p+=x.attrs.colspan;for(let y=1;y<x.attrs.rowspan;y++)s[u+y]=(s[u+y]||0)+x.attrs.colspan}a.push(Ee.from(f))}n=a,e=r}if(t!=i){const s=[];for(let a=0,u=0;a<i;a++,u++){const d=[],f=n[u%t];for(let p=0;p<f.childCount;p++){let m=f.child(p);a+m.attrs.rowspan>i&&(m=m.type.create({...m.attrs,rowspan:Math.max(1,i-m.attrs.rowspan)},m.content)),d.push(m)}s.push(Ee.from(d))}n=s,t=i}return{width:e,height:t,rows:n}}function pne(e,t,n,r,i,s,a){const u=e.doc.type.schema,d=Nr(u);let f,p;if(i>t.width)for(let m=0,x=0;m<t.height;m++){const y=n.child(m);x+=y.nodeSize;const v=[];let k;y.lastChild==null||y.lastChild.type==d.cell?k=f||(f=d.cell.createAndFill()):k=p||(p=d.header_cell.createAndFill());for(let j=t.width;j<i;j++)v.push(k);e.insert(e.mapping.slice(a).map(x-1+r),v)}if(s>t.height){const m=[];for(let v=0,k=(t.height-1)*t.width;v<Math.max(t.width,i);v++){const j=v>=t.width?!1:n.nodeAt(t.map[k+v]).type==d.header_cell;m.push(j?p||(p=d.header_cell.createAndFill()):f||(f=d.cell.createAndFill()))}const x=d.row.create(null,Ee.from(m)),y=[];for(let v=t.height;v<s;v++)y.push(x);e.insert(e.mapping.slice(a).map(r+n.nodeSize-2),y)}return!!(f||p)}function AC(e,t,n,r,i,s,a,u){if(a==0||a==t.height)return!1;let d=!1;for(let f=i;f<s;f++){const p=a*t.width+f,m=t.map[p];if(t.map[p-t.width]==m){d=!0;const x=n.nodeAt(m),{top:y,left:v}=t.findCell(m);e.setNodeMarkup(e.mapping.slice(u).map(m+r),null,{...x.attrs,rowspan:a-y}),e.insert(e.mapping.slice(u).map(t.positionAt(a,v,n)),x.type.createAndFill({...x.attrs,rowspan:y+x.attrs.rowspan-a})),f+=x.attrs.colspan-1}}return d}function DC(e,t,n,r,i,s,a,u){if(a==0||a==t.width)return!1;let d=!1;for(let f=i;f<s;f++){const p=f*t.width+a,m=t.map[p];if(t.map[p-1]==m){d=!0;const x=n.nodeAt(m),y=t.colCount(m),v=e.mapping.slice(u).map(m+r);e.setNodeMarkup(v,null,Ou(x.attrs,a-y,x.attrs.colspan-(a-y))),e.insert(v+x.nodeSize,x.type.createAndFill(Ou(x.attrs,0,a-y))),f+=x.attrs.rowspan-1}}return d}function TC(e,t,n,r,i){let s=n?e.doc.nodeAt(n-1):e.doc;if(!s)throw new Error("No table found");let a=$n.get(s);const{top:u,left:d}=r,f=d+i.width,p=u+i.height,m=e.tr;let x=0;function y(){if(s=n?m.doc.nodeAt(n-1):m.doc,!s)throw new Error("No table found");a=$n.get(s),x=m.mapping.maps.length}pne(m,a,s,n,f,p,x)&&y(),AC(m,a,s,n,d,f,u,x)&&y(),AC(m,a,s,n,d,f,p,x)&&y(),DC(m,a,s,n,u,p,d,x)&&y(),DC(m,a,s,n,u,p,f,x)&&y();for(let v=u;v<p;v++){const k=a.positionAt(v,d,s),j=a.positionAt(v,f,s);m.replace(m.mapping.slice(x).map(k+n),m.mapping.slice(x).map(j+n),new $e(i.rows[v-u],0,0))}y(),m.setSelection(new kn(m.doc.resolve(n+a.positionAt(u,d,s)),m.doc.resolve(n+a.positionAt(p-1,f-1,s)))),t(m)}const mne=av({ArrowLeft:hp("horiz",-1),ArrowRight:hp("horiz",1),ArrowUp:hp("vert",-1),ArrowDown:hp("vert",1),"Shift-ArrowLeft":pp("horiz",-1),"Shift-ArrowRight":pp("horiz",1),"Shift-ArrowUp":pp("vert",-1),"Shift-ArrowDown":pp("vert",1),Backspace:fp,"Mod-Backspace":fp,Delete:fp,"Mod-Delete":fp});function Up(e,t,n){return n.eq(e.selection)?!1:(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function hp(e,t){return(n,r,i)=>{if(!i)return!1;const s=n.selection;if(s instanceof kn)return Up(n,r,Et.near(s.$headCell,t));if(e!="horiz"&&!s.empty)return!1;const a=KE(i,e,t);if(a==null)return!1;if(e=="horiz")return Up(n,r,Et.near(n.doc.resolve(s.head+t),t));{const u=n.doc.resolve(a),d=qE(u,e,t);let f;return d?f=Et.near(d,1):t<0?f=Et.near(n.doc.resolve(u.before(-1)),-1):f=Et.near(n.doc.resolve(u.after(-1)),1),Up(n,r,f)}}}function pp(e,t){return(n,r,i)=>{if(!i)return!1;const s=n.selection;let a;if(s instanceof kn)a=s;else{const d=KE(i,e,t);if(d==null)return!1;a=new kn(n.doc.resolve(d))}const u=qE(a.$headCell,e,t);return u?Up(n,r,new kn(a.$anchorCell,u)):!1}}function gne(e,t){const n=e.state.doc,r=ao(n.resolve(t));return r?(e.dispatch(e.state.tr.setSelection(new kn(r))),!0):!1}function xne(e,t,n){if(!Tf(e.state))return!1;let r=dne(n);const i=e.state.selection;if(i instanceof kn){r||(r={width:1,height:1,rows:[Ee.from(D2(Nr(e.state.schema).cell,n))]});const s=i.$anchorCell.node(-1),a=i.$anchorCell.start(-1),u=$n.get(s).rectBetween(i.$anchorCell.pos-a,i.$headCell.pos-a);return r=hne(r,u.right-u.left,u.bottom-u.top),TC(e.state,e.dispatch,a,u,r),!0}else if(r){const s=VE(e.state),a=s.start(-1);return TC(e.state,e.dispatch,a,$n.get(s.node(-1)).findCell(s.pos-a),r),!0}else return!1}function yne(e,t){var n;if(t.button!=0||t.ctrlKey||t.metaKey)return;const r=MC(e,t.target);let i;if(t.shiftKey&&e.state.selection instanceof kn)s(e.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&r&&(i=ao(e.state.selection.$anchor))!=null&&((n=Wx(e,t))===null||n===void 0?void 0:n.pos)!=i.pos)s(i,t),t.preventDefault();else if(!r)return;function s(d,f){let p=Wx(e,f);const m=Va.getState(e.state)==null;if(!p||!lv(d,p))if(m)p=d;else return;const x=new kn(d,p);if(m||!e.state.selection.eq(x)){const y=e.state.tr.setSelection(x);m&&y.setMeta(Va,d.pos),e.dispatch(y)}}function a(){e.root.removeEventListener("mouseup",a),e.root.removeEventListener("dragstart",a),e.root.removeEventListener("mousemove",u),Va.getState(e.state)!=null&&e.dispatch(e.state.tr.setMeta(Va,-1))}function u(d){const f=d,p=Va.getState(e.state);let m;if(p!=null)m=e.state.doc.resolve(p);else if(MC(e,f.target)!=r&&(m=Wx(e,t),!m))return a();m&&s(m,f)}e.root.addEventListener("mouseup",a),e.root.addEventListener("dragstart",a),e.root.addEventListener("mousemove",u)}function KE(e,t,n){if(!(e.state.selection instanceof qt))return null;const{$head:r}=e.state.selection;for(let i=r.depth-1;i>=0;i--){const s=r.node(i);if((n<0?r.index(i):r.indexAfter(i))!=(n<0?0:s.childCount))return null;if(s.type.spec.tableRole=="cell"||s.type.spec.tableRole=="header_cell"){const a=r.before(i),u=t=="vert"?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(u)?a:null}}return null}function MC(e,t){for(;t&&t!=e.dom;t=t.parentNode)if(t.nodeName=="TD"||t.nodeName=="TH")return t;return null}function Wx(e,t){const n=e.posAtCoords({left:t.clientX,top:t.clientY});if(!n)return null;let{inside:r,pos:i}=n;return r>=0&&ao(e.state.doc.resolve(r))||ao(e.state.doc.resolve(i))}var bne=class{constructor(e,t){this.node=e,this.defaultCellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${t}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),T2(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,T2(e,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}};function T2(e,t,n,r,i,s){let a=0,u=!0,d=t.firstChild;const f=e.firstChild;if(f){for(let m=0,x=0;m<f.childCount;m++){const{colspan:y,colwidth:v}=f.child(m).attrs;for(let k=0;k<y;k++,x++){const j=i==x?s:v&&v[k],C=j?j+"px":"";if(a+=j||r,j||(u=!1),d)d.style.width!=C&&(d.style.width=C),d=d.nextSibling;else{const N=document.createElement("col");N.style.width=C,t.appendChild(N)}}}for(;d;){var p;const m=d.nextSibling;(p=d.parentNode)===null||p===void 0||p.removeChild(d),d=m}u?(n.style.width=a+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=a+"px")}}const si=new po("tableColumnResizing");function vne({handleWidth:e=5,cellMinWidth:t=25,defaultCellMinWidth:n=100,View:r=bne,lastColumnResizable:i=!0}={}){const s=new na({key:si,state:{init(a,u){var d;const f=(d=s.spec)===null||d===void 0||(d=d.props)===null||d===void 0?void 0:d.nodeViews,p=Nr(u.schema).table.name;return r&&f&&(f[p]=(m,x)=>new r(m,n,x)),new wne(-1,!1)},apply(a,u){return u.apply(a)}},props:{attributes:a=>{const u=si.getState(a);return u&&u.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(a,u)=>{kne(a,u,e,i)},mouseleave:a=>{Sne(a)},mousedown:(a,u)=>{Cne(a,u,t,n)}},decorations:a=>{const u=si.getState(a);if(u&&u.activeHandle>-1)return Ane(a,u.activeHandle)},nodeViews:{}}});return s}var wne=class Vp{constructor(t,n){this.activeHandle=t,this.dragging=n}apply(t){const n=this,r=t.getMeta(si);if(r&&r.setHandle!=null)return new Vp(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new Vp(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&t.docChanged){let i=t.mapping.map(n.activeHandle,-1);return A2(t.doc.resolve(i))||(i=-1),new Vp(i,n.dragging)}return n}};function kne(e,t,n,r){if(!e.editable)return;const i=si.getState(e.state);if(i&&!i.dragging){const s=_ne(t.target);let a=-1;if(s){const{left:u,right:d}=s.getBoundingClientRect();t.clientX-u<=n?a=OC(e,t,"left",n):d-t.clientX<=n&&(a=OC(e,t,"right",n))}if(a!=i.activeHandle){if(!r&&a!==-1){const u=e.state.doc.resolve(a),d=u.node(-1),f=$n.get(d),p=u.start(-1);if(f.colCount(u.pos-p)+u.nodeAfter.attrs.colspan-1==f.width-1)return}JE(e,a)}}}function Sne(e){if(!e.editable)return;const t=si.getState(e.state);t&&t.activeHandle>-1&&!t.dragging&&JE(e,-1)}function Cne(e,t,n,r){var i;if(!e.editable)return!1;const s=(i=e.dom.ownerDocument.defaultView)!==null&&i!==void 0?i:window,a=si.getState(e.state);if(!a||a.activeHandle==-1||a.dragging)return!1;const u=e.state.doc.nodeAt(a.activeHandle),d=jne(e,a.activeHandle,u.attrs);e.dispatch(e.state.tr.setMeta(si,{setDragging:{startX:t.clientX,startWidth:d}}));function f(m){s.removeEventListener("mouseup",f),s.removeEventListener("mousemove",p);const x=si.getState(e.state);x?.dragging&&(Nne(e,x.activeHandle,RC(x.dragging,m,n)),e.dispatch(e.state.tr.setMeta(si,{setDragging:null})))}function p(m){if(!m.which)return f(m);const x=si.getState(e.state);if(x&&x.dragging){const y=RC(x.dragging,m,n);LC(e,x.activeHandle,y,r)}}return LC(e,a.activeHandle,d,r),s.addEventListener("mouseup",f),s.addEventListener("mousemove",p),t.preventDefault(),!0}function jne(e,t,{colspan:n,colwidth:r}){const i=r&&r[r.length-1];if(i)return i;const s=e.domAtPos(t);let a=s.node.childNodes[s.offset].offsetWidth,u=n;if(r)for(let d=0;d<n;d++)r[d]&&(a-=r[d],u--);return a/u}function _ne(e){for(;e&&e.nodeName!="TD"&&e.nodeName!="TH";)e=e.classList&&e.classList.contains("ProseMirror")?null:e.parentNode;return e}function OC(e,t,n,r){const i=n=="right"?-r:r,s=e.posAtCoords({left:t.clientX+i,top:t.clientY});if(!s)return-1;const{pos:a}=s,u=ao(e.state.doc.resolve(a));if(!u)return-1;if(n=="right")return u.pos;const d=$n.get(u.node(-1)),f=u.start(-1),p=d.map.indexOf(u.pos-f);return p%d.width==0?-1:f+d.map[p-1]}function RC(e,t,n){const r=t.clientX-e.startX;return Math.max(n,e.startWidth+r)}function JE(e,t){e.dispatch(e.state.tr.setMeta(si,{setHandle:t}))}function Nne(e,t,n){const r=e.state.doc.resolve(t),i=r.node(-1),s=$n.get(i),a=r.start(-1),u=s.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1,d=e.state.tr;for(let f=0;f<s.height;f++){const p=f*s.width+u;if(f&&s.map[p]==s.map[p-s.width])continue;const m=s.map[p],x=i.nodeAt(m).attrs,y=x.colspan==1?0:u-s.colCount(m);if(x.colwidth&&x.colwidth[y]==n)continue;const v=x.colwidth?x.colwidth.slice():Ene(x.colspan);v[y]=n,d.setNodeMarkup(a+m,null,{...x,colwidth:v})}d.docChanged&&e.dispatch(d)}function LC(e,t,n,r){const i=e.state.doc.resolve(t),s=i.node(-1),a=i.start(-1),u=$n.get(s).colCount(i.pos-a)+i.nodeAfter.attrs.colspan-1;let d=e.domAtPos(i.start(-1)).node;for(;d&&d.nodeName!="TABLE";)d=d.parentNode;d&&T2(s,d.firstChild,d,r,u,n)}function Ene(e){return Array(e).fill(0)}function Ane(e,t){const n=[],r=e.doc.resolve(t),i=r.node(-1);if(!i)return Nn.empty;const s=$n.get(i),a=r.start(-1),u=s.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1;for(let f=0;f<s.height;f++){const p=u+f*s.width;if((u==s.width-1||s.map[p]!=s.map[p+1])&&(f==0||s.map[p]!=s.map[p-s.width])){var d;const m=s.map[p],x=a+m+i.nodeAt(m).nodeSize-1,y=document.createElement("div");y.className="column-resize-handle",!((d=si.getState(e))===null||d===void 0)&&d.dragging&&n.push(Rr.node(a+m,a+m+i.nodeAt(m).nodeSize,{class:"column-resize-dragging"})),n.push(Rr.widget(x,y))}}return Nn.create(e.doc,n)}function Dne({allowTableNodeSelection:e=!1}={}){return new na({key:Va,state:{init(){return null},apply(t,n){const r=t.getMeta(Va);if(r!=null)return r==-1?null:r;if(n==null||!t.docChanged)return n;const{deleted:i,pos:s}=t.mapping.mapResult(n);return i?null:s}},props:{decorations:Wte,handleDOMEvents:{mousedown:yne},createSelectionBetween(t){return Va.getState(t.state)!=null?t.state.selection:null},handleTripleClick:gne,handleKeyDown:mne,handlePaste:xne},appendTransaction(t,n,r){return Jte(r,Zte(r,n),e)}})}const Tne={inline:!1,group:"block",draggable:!0,selectable:!0,attrs:{src:{default:null},alt:{default:null},title:{default:null}},parseDOM:[{tag:"img[src]",getAttrs:e=>{const t=e;return{src:t.getAttribute("src"),alt:t.getAttribute("alt"),title:t.getAttribute("title")}}}],toDOM:e=>{const{src:t,alt:n,title:r}=e.attrs;return["img",{src:t,alt:n,title:r}]}},Mne={inline:!0,group:"inline",atom:!0,selectable:!0,attrs:{id:{default:null},label:{default:""},type:{default:"user"}},toDOM:e=>{const{id:t,label:n,type:r}=e.attrs;return["span",{"data-mention":"1","data-mention-id":t||"","data-mention-type":r||"user",class:"pm-mention"},`@${n||"mention"}`]},parseDOM:[{tag:"span[data-mention]",getAttrs:e=>{const t=e;return{id:t.getAttribute("data-mention-id"),type:t.getAttribute("data-mention-type")||"user",label:(t.textContent||"").replace(/^@/,"")}}}]},One={inline:!1,group:"block",atom:!0,selectable:!0,draggable:!0,attrs:{pageId:{default:null},title:{default:""},display:{default:"link"}},toDOM:e=>{const{pageId:t,title:n,display:r}=e.attrs;return["div",{class:"pm-page-link","data-page-link":"1","data-page-id":t||"","data-display":r||"link"},["div",{class:"pm-page-link-title"},n||"Untitled page"],r==="embed"?["div",{class:"pm-page-link-preview"},"Preview (title + summary)"]:["div",{class:"pm-page-link-hint"},"Link"]]},parseDOM:[{tag:"div[data-page-link]",getAttrs:e=>{const t=e,n=t.querySelector(".pm-page-link-title")?.textContent||"";return{pageId:t.getAttribute("data-page-id"),display:t.getAttribute("data-display")||"link",title:n}}}]},Rne={attrs:{href:{default:""},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:e=>{const t=e;return{href:t.getAttribute("href")||"",title:t.getAttribute("title")}}}],toDOM:e=>{const{href:t,title:n}=e.attrs;return["a",{href:t,title:n,rel:"noopener noreferrer nofollow",target:"_blank"},0]}},Lne=Ste(HE.spec.nodes,"paragraph block*","block"),_n=new Vb({nodes:Lne.append(Hte({tableGroup:"block",cellContent:"block+",cellAttributes:{}})).addToEnd("image",Tne).addToEnd("page_link",One).addToEnd("mention",Mne),marks:HE.spec.marks.addToEnd("link",Rne)});var jm=200,ir=function(){};ir.prototype.append=function(t){return t.length?(t=ir.from(t),!this.length&&t||t.length<jm&&this.leafAppend(t)||this.length<jm&&t.leafPrepend(this)||this.appendInner(t)):this};ir.prototype.prepend=function(t){return t.length?ir.from(t).append(this):this};ir.prototype.appendInner=function(t){return new Pne(this,t)};ir.prototype.slice=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.length),t>=n?ir.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))};ir.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};ir.prototype.forEach=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(t,n,r,0):this.forEachInvertedInner(t,n,r,0)};ir.prototype.map=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,a){return i.push(t(s,a))},n,r),i};ir.from=function(t){return t instanceof ir?t:t&&t.length?new XE(t):ir.empty};var XE=function(e){function t(r){e.call(this),this.values=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new t(this.values.slice(i,s))},t.prototype.getInner=function(i){return this.values[i]},t.prototype.forEachInner=function(i,s,a,u){for(var d=s;d<a;d++)if(i(this.values[d],u+d)===!1)return!1},t.prototype.forEachInvertedInner=function(i,s,a,u){for(var d=s-1;d>=a;d--)if(i(this.values[d],u+d)===!1)return!1},t.prototype.leafAppend=function(i){if(this.length+i.length<=jm)return new t(this.values.concat(i.flatten()))},t.prototype.leafPrepend=function(i){if(this.length+i.length<=jm)return new t(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(ir);ir.empty=new XE([]);var Pne=function(e){function t(n,r){e.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},t.prototype.forEachInner=function(r,i,s,a){var u=this.left.length;if(i<u&&this.left.forEachInner(r,i,Math.min(s,u),a)===!1||s>u&&this.right.forEachInner(r,Math.max(i-u,0),Math.min(this.length,s)-u,a+u)===!1)return!1},t.prototype.forEachInvertedInner=function(r,i,s,a){var u=this.left.length;if(i>u&&this.right.forEachInvertedInner(r,i-u,Math.max(s,u)-u,a+u)===!1||s<u&&this.left.forEachInvertedInner(r,Math.min(i,u),s,a)===!1)return!1},t.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},t.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new t(this.left,i)},t.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new t(i,this.right)},t.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new t(this.left,new t(this.right,r)):new t(this,r)},t}(ir);const zne=500;class Ii{constructor(t,n){this.items=t,this.eventCount=n}popEvent(t,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let a=t.tr,u,d,f=[],p=[];return this.items.forEach((m,x)=>{if(!m.step){i||(i=this.remapping(r,x+1),s=i.maps.length),s--,p.push(m);return}if(i){p.push(new ss(m.map));let y=m.step.map(i.slice(s)),v;y&&a.maybeStep(y).doc&&(v=a.mapping.maps[a.mapping.maps.length-1],f.push(new ss(v,void 0,void 0,f.length+p.length))),s--,v&&i.appendMap(v,s)}else a.maybeStep(m.step);if(m.selection)return u=i?m.selection.map(i.slice(s)):m.selection,d=new Ii(this.items.slice(0,r).append(p.reverse().concat(f)),this.eventCount-1),!1},this.items.length,0),{remaining:d,transform:a,selection:u}}addTransform(t,n,r,i){let s=[],a=this.eventCount,u=this.items,d=!i&&u.length?u.get(u.length-1):null;for(let p=0;p<t.steps.length;p++){let m=t.steps[p].invert(t.docs[p]),x=new ss(t.mapping.maps[p],m,n),y;(y=d&&d.merge(x))&&(x=y,p?s.pop():u=u.slice(0,u.length-1)),s.push(x),n&&(a++,n=void 0),i||(d=x)}let f=a-r.depth;return f>Fne&&(u=Ine(u,f),a-=f),new Ii(u.append(s),a)}remapping(t,n){let r=new Zd;return this.items.forEach((i,s)=>{let a=i.mirrorOffset!=null&&s-i.mirrorOffset>=t?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,a)},t,n),r}addMaps(t){return this.eventCount==0?this:new Ii(this.items.append(t.map(n=>new ss(n))),this.eventCount)}rebased(t,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=t.mapping,a=t.steps.length,u=this.eventCount;this.items.forEach(x=>{x.selection&&u--},i);let d=n;this.items.forEach(x=>{let y=s.getMirror(--d);if(y==null)return;a=Math.min(a,y);let v=s.maps[y];if(x.step){let k=t.steps[y].invert(t.docs[y]),j=x.selection&&x.selection.map(s.slice(d+1,y));j&&u++,r.push(new ss(v,k,j))}else r.push(new ss(v))},i);let f=[];for(let x=n;x<a;x++)f.push(new ss(s.maps[x]));let p=this.items.slice(0,i).append(f).append(r),m=new Ii(p,u);return m.emptyItemCount()>zne&&(m=m.compress(this.items.length-r.length)),m}emptyItemCount(){let t=0;return this.items.forEach(n=>{n.step||t++}),t}compress(t=this.items.length){let n=this.remapping(0,t),r=n.maps.length,i=[],s=0;return this.items.forEach((a,u)=>{if(u>=t)i.push(a),a.selection&&s++;else if(a.step){let d=a.step.map(n.slice(r)),f=d&&d.getMap();if(r--,f&&n.appendMap(f,r),d){let p=a.selection&&a.selection.map(n.slice(r));p&&s++;let m=new ss(f.invert(),d,p),x,y=i.length-1;(x=i.length&&i[y].merge(m))?i[y]=x:i.push(m)}}else a.map&&r--},this.items.length,0),new Ii(ir.from(i.reverse()),s)}}Ii.empty=new Ii(ir.empty,0);function Ine(e,t){let n;return e.forEach((r,i)=>{if(r.selection&&t--==0)return n=i,!1}),e.slice(n)}class ss{constructor(t,n,r,i){this.map=t,this.step=n,this.selection=r,this.mirrorOffset=i}merge(t){if(this.step&&t.step&&!t.selection){let n=t.step.merge(this.step);if(n)return new ss(n.getMap().invert(),n,this.selection)}}}class Fa{constructor(t,n,r,i,s){this.done=t,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const Fne=20;function Bne(e,t,n,r){let i=n.getMeta(Jl),s;if(i)return i.historyState;n.getMeta(Une)&&(e=new Fa(e.done,e.undone,null,0,-1));let a=n.getMeta("appendedTransaction");if(n.steps.length==0)return e;if(a&&a.getMeta(Jl))return a.getMeta(Jl).redo?new Fa(e.done.addTransform(n,void 0,r,qp(t)),e.undone,PC(n.mapping.maps),e.prevTime,e.prevComposition):new Fa(e.done,e.undone.addTransform(n,void 0,r,qp(t)),null,e.prevTime,e.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let u=n.getMeta("composition"),d=e.prevTime==0||!a&&e.prevComposition!=u&&(e.prevTime<(n.time||0)-r.newGroupDelay||!$ne(n,e.prevRanges)),f=a?Yx(e.prevRanges,n.mapping):PC(n.mapping.maps);return new Fa(e.done.addTransform(n,d?t.selection.getBookmark():void 0,r,qp(t)),Ii.empty,f,n.time,u??e.prevComposition)}else return(s=n.getMeta("rebased"))?new Fa(e.done.rebased(n,s),e.undone.rebased(n,s),Yx(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new Fa(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),Yx(e.prevRanges,n.mapping),e.prevTime,e.prevComposition)}function $ne(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<t.length;s+=2)r<=t[s+1]&&i>=t[s]&&(n=!0)}),n}function PC(e){let t=[];for(let n=e.length-1;n>=0&&t.length==0;n--)e[n].forEach((r,i,s,a)=>t.push(s,a));return t}function Yx(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let i=t.map(e[r],1),s=t.map(e[r+1],-1);i<=s&&n.push(i,s)}return n}function Hne(e,t,n){let r=qp(t),i=Jl.get(t).spec.config,s=(n?e.undone:e.done).popEvent(t,r);if(!s)return null;let a=s.selection.resolve(s.transform.doc),u=(n?e.done:e.undone).addTransform(s.transform,t.selection.getBookmark(),i,r),d=new Fa(n?u:s.remaining,n?s.remaining:u,null,0,-1);return s.transform.setSelection(a).setMeta(Jl,{redo:n,historyState:d})}let Kx=!1,zC=null;function qp(e){let t=e.plugins;if(zC!=t){Kx=!1,zC=t;for(let n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){Kx=!0;break}}return Kx}const Jl=new po("history"),Une=new po("closeHistory");function Vne(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new na({key:Jl,state:{init(){return new Fa(Ii.empty,Ii.empty,null,0,-1)},apply(t,n,r){return Bne(n,r,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,n){let r=n.inputType,i=r=="historyUndo"?QE:r=="historyRedo"?M2:null;return!i||!t.editable?!1:(n.preventDefault(),i(t.state,t.dispatch))}}}})}function ZE(e,t){return(n,r)=>{let i=Jl.getState(n);if(!i||(e?i.undone:i.done).eventCount==0)return!1;if(r){let s=Hne(i,n,e);s&&r(t?s.scrollIntoView():s)}return!0}}const QE=ZE(!1,!0),M2=ZE(!0,!0);function qne(e={}){return new na({view(t){return new Gne(t,e)}})}class Gne{constructor(t,n){var r;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=a=>{this[i](a)};return t.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:t,handler:n})=>this.editorView.dom.removeEventListener(t,n))}update(t,n){this.cursorPos!=null&&n.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t=this.editorView.state.doc.resolve(this.cursorPos),n=!t.parent.inlineContent,r,i=this.editorView.dom,s=i.getBoundingClientRect(),a=s.width/i.offsetWidth,u=s.height/i.offsetHeight;if(n){let m=t.nodeBefore,x=t.nodeAfter;if(m||x){let y=this.editorView.nodeDOM(this.cursorPos-(m?m.nodeSize:0));if(y){let v=y.getBoundingClientRect(),k=m?v.bottom:v.top;m&&x&&(k=(k+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let j=this.width/2*u;r={left:v.left,right:v.right,top:k-j,bottom:k+j}}}}if(!r){let m=this.editorView.coordsAtPos(this.cursorPos),x=this.width/2*a;r={left:m.left-x,right:m.left+x,top:m.top,bottom:m.bottom}}let d=this.editorView.dom.offsetParent;this.element||(this.element=d.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let f,p;if(!d||d==document.body&&getComputedStyle(d).position=="static")f=-pageXOffset,p=-pageYOffset;else{let m=d.getBoundingClientRect(),x=m.width/d.offsetWidth,y=m.height/d.offsetHeight;f=m.left-d.scrollLeft*x,p=m.top-d.scrollTop*y}this.element.style.left=(r.left-f)/a+"px",this.element.style.top=(r.top-p)/u+"px",this.element.style.width=(r.right-r.left)/a+"px",this.element.style.height=(r.bottom-r.top)/u+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,n,t):i;if(n&&!s){let a=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let u=Z7(this.editorView.state.doc,a,this.editorView.dragging.slice);u!=null&&(a=u)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)}}class En extends Et{constructor(t){super(t,t)}map(t,n){let r=t.resolve(n.map(this.head));return En.valid(r)?new En(r):Et.near(r)}content(){return $e.empty}eq(t){return t instanceof En&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new En(t.resolve(n.pos))}getBookmark(){return new uv(this.anchor)}static valid(t){let n=t.parent;if(n.isTextblock||!Wne(t)||!Yne(t))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(t.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(t,n,r=!1){e:for(;;){if(!r&&En.valid(t))return t;let i=t.pos,s=null;for(let a=t.depth;;a--){let u=t.node(a);if(n>0?t.indexAfter(a)<u.childCount:t.index(a)>0){s=u.child(n>0?t.indexAfter(a):t.index(a)-1);break}else if(a==0)return null;i+=n;let d=t.doc.resolve(i);if(En.valid(d))return d}for(;;){let a=n>0?s.firstChild:s.lastChild;if(!a){if(s.isAtom&&!s.isText&&!_t.isSelectable(s)){t=t.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=a,i+=n;let u=t.doc.resolve(i);if(En.valid(u))return u}return null}}}En.prototype.visible=!1;En.findFrom=En.findGapCursorFrom;Et.jsonID("gapcursor",En);class uv{constructor(t){this.pos=t}map(t){return new uv(t.map(this.pos))}resolve(t){let n=t.resolve(this.pos);return En.valid(n)?new En(n):Et.near(n)}}function eA(e){return e.isAtom||e.spec.isolating||e.spec.createGapCursor}function Wne(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||eA(i.type))return!0;if(i.inlineContent)return!1}}return!0}function Yne(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||eA(i.type))return!0;if(i.inlineContent)return!1}}return!0}function Kne(){return new na({props:{decorations:Qne,createSelectionBetween(e,t,n){return t.pos==n.pos&&En.valid(n)?new En(n):null},handleClick:Xne,handleKeyDown:Jne,handleDOMEvents:{beforeinput:Zne}}})}const Jne=av({ArrowLeft:mp("horiz",-1),ArrowRight:mp("horiz",1),ArrowUp:mp("vert",-1),ArrowDown:mp("vert",1)});function mp(e,t){const n=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(r,i,s){let a=r.selection,u=t>0?a.$to:a.$from,d=a.empty;if(a instanceof qt){if(!s.endOfTextblock(n)||u.depth==0)return!1;d=!1,u=r.doc.resolve(t>0?u.after():u.before())}let f=En.findGapCursorFrom(u,t,d);return f?(i&&i(r.tr.setSelection(new En(f))),!0):!1}}function Xne(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!En.valid(r))return!1;let i=e.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&_t.isSelectable(e.state.doc.nodeAt(i.inside))?!1:(e.dispatch(e.state.tr.setSelection(new En(r))),!0)}function Zne(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof En))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let i=Ee.empty;for(let a=r.length-1;a>=0;a--)i=Ee.from(r[a].createAndFill(null,i));let s=e.state.tr.replace(n.pos,n.pos,new $e(i,0,0));return s.setSelection(qt.near(s.doc.resolve(n.pos+1))),e.dispatch(s),!1}function Qne(e){if(!(e.selection instanceof En))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",Nn.create(e.doc,[Rr.widget(e.selection.head,t,{key:"gapcursor"})])}class ra{constructor(t,n,r={}){this.match=t,this.match=t,this.handler=typeof n=="string"?ere(n):n,this.undoable=r.undoable!==!1,this.inCode=r.inCode||!1,this.inCodeMark=r.inCodeMark!==!1}}function ere(e){return function(t,n,r,i){let s=e;if(n[1]){let a=n[0].lastIndexOf(n[1]);s+=n[0].slice(a+n[1].length),r+=a;let u=r-i;u>0&&(s=n[0].slice(a-u,a)+s,r=i)}return t.tr.insertText(s,r,i)}}const tre=500;function nre({rules:e}){let t=new na({state:{init(){return null},apply(n,r){let i=n.getMeta(this);return i||(n.selectionSet||n.docChanged?null:r)}},props:{handleTextInput(n,r,i,s){return IC(n,r,i,s,e,t)},handleDOMEvents:{compositionend:n=>{setTimeout(()=>{let{$cursor:r}=n.state.selection;r&&IC(n,r.pos,r.pos,"",e,t)})}}},isInputRules:!0});return t}function IC(e,t,n,r,i,s){if(e.composing)return!1;let a=e.state,u=a.doc.resolve(t),d=u.parent.textBetween(Math.max(0,u.parentOffset-tre),u.parentOffset,null,"")+r;for(let f=0;f<i.length;f++){let p=i[f];if(!p.inCodeMark&&u.marks().some(v=>v.type.spec.code))continue;if(u.parent.type.spec.code){if(!p.inCode)continue}else if(p.inCode==="only")continue;let m=p.match.exec(d);if(!m||m[0].length<r.length)continue;let x=t-(m[0].length-r.length);if(!p.inCodeMark){let v=!1;if(a.doc.nodesBetween(x,u.pos,k=>{k.isInline&&k.marks.some(j=>j.type.spec.code)&&(v=!0)}),v)continue}let y=p.handler(a,m,x,n);if(y)return p.undoable&&y.setMeta(s,{transform:y,from:t,to:n,text:r}),e.dispatch(y),!0}return!1}new ra(/--$/,"",{inCodeMark:!1});new ra(/\.\.\.$/,"",{inCodeMark:!1});new ra(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"",{inCodeMark:!1});new ra(/"$/,"",{inCodeMark:!1});new ra(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"",{inCodeMark:!1});new ra(/'$/,"",{inCodeMark:!1});function Jx(e,t,n=null,r){return new ra(e,(i,s,a,u)=>{let d=n instanceof Function?n(s):n,f=i.tr.delete(a,u),p=f.doc.resolve(a),m=p.blockRange(),x=m&&Wb(m,t,d);if(!x)return null;f.wrap(m,x);let y=f.doc.resolve(a-1).nodeBefore;return y&&y.type==t&&m0(f.doc,a-1)&&f.join(a-1),f})}function Xx(e,t,n=null){return new ra(e,(r,i,s,a)=>{let u=r.doc.resolve(s),d=n instanceof Function?n(i):n;return u.node(-1).canReplaceWith(u.index(-1),u.indexAfter(-1),t)?r.tr.delete(s,a).setBlockType(s,s,t,d):null})}function rre(e){const t=[];return e.nodes.bullet_list&&t.push(Jx(/^\s*([-+*])\s$/,e.nodes.bullet_list)),e.nodes.ordered_list&&t.push(Jx(/^(\d+)\.\s$/,e.nodes.ordered_list,n=>({order:parseInt(n[1],10)||1}))),e.nodes.heading&&(t.push(Xx(/^#\s$/,e.nodes.heading,{level:1})),t.push(Xx(/^##\s$/,e.nodes.heading,{level:2})),t.push(Xx(/^###\s$/,e.nodes.heading,{level:3}))),e.nodes.blockquote&&t.push(Jx(/^\s*>\s$/,e.nodes.blockquote)),e.nodes.horizontal_rule&&t.push(new ra(/^(?:---|-|___)\s$/,(n,r,i,s)=>{const a=n.tr;return a.delete(i,s),a.replaceSelectionWith(e.nodes.horizontal_rule.create()),a})),t}const tA=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function ire(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const sre=(e,t,n)=>{let r=ire(e,n);if(!r)return!1;let i=nA(r);if(!i){let a=r.blockRange(),u=a&&p0(a);return u==null?!1:(t&&t(e.tr.lift(a,u).scrollIntoView()),!0)}let s=i.nodeBefore;if(iA(e,i,t,-1))return!0;if(r.parent.content.size==0&&(Ru(s,"end")||_t.isSelectable(s)))for(let a=r.depth;;a--){let u=Yb(e.doc,r.before(a),r.after(a),$e.empty);if(u&&u.slice.size<u.to-u.from){if(t){let d=e.tr.step(u);d.setSelection(Ru(s,"end")?Et.findFrom(d.doc.resolve(d.mapping.map(i.pos,-1)),-1):_t.create(d.doc,i.pos-s.nodeSize)),t(d.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1};function Ru(e,t,n=!1){for(let r=e;r;r=t=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const are=(e,t,n)=>{let{$head:r,empty:i}=e.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;s=nA(r)}let a=s&&s.nodeBefore;return!a||!_t.isSelectable(a)?!1:(t&&t(e.tr.setSelection(_t.create(e.doc,s.pos-a.nodeSize)).scrollIntoView()),!0)};function nA(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function lre(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const ore=(e,t,n)=>{let r=lre(e,n);if(!r)return!1;let i=rA(r);if(!i)return!1;let s=i.nodeAfter;if(iA(e,i,t,1))return!0;if(r.parent.content.size==0&&(Ru(s,"start")||_t.isSelectable(s))){let a=Yb(e.doc,r.before(),r.after(),$e.empty);if(a&&a.slice.size<a.to-a.from){if(t){let u=e.tr.step(a);u.setSelection(Ru(s,"start")?Et.findFrom(u.doc.resolve(u.mapping.map(i.pos)),1):_t.create(u.doc,u.mapping.map(i.pos))),t(u.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},ure=(e,t,n)=>{let{$head:r,empty:i}=e.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;s=rA(r)}let a=s&&s.nodeAfter;return!a||!_t.isSelectable(a)?!1:(t&&t(e.tr.setSelection(_t.create(e.doc,s.pos)).scrollIntoView()),!0)};function rA(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const cre=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function cv(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const dre=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),a=cv(i.contentMatchAt(s));if(!a||!i.canReplaceWith(s,s,a))return!1;if(t){let u=n.after(),d=e.tr.replaceWith(u,u,a.createAndFill());d.setSelection(Et.near(d.doc.resolve(u),1)),t(d.scrollIntoView())}return!0},fre=(e,t)=>{let n=e.selection,{$from:r,$to:i}=n;if(n instanceof oi||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=cv(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(t){let a=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,u=e.tr.insert(a,s.createAndFill());u.setSelection(qt.create(u.doc,a+1)),t(u.scrollIntoView())}return!0},hre=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(Od(e.doc,s))return t&&t(e.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&p0(r);return i==null?!1:(t&&t(e.tr.lift(r,i).scrollIntoView()),!0)};function pre(e){return(t,n)=>{let{$from:r,$to:i}=t.selection;if(t.selection instanceof _t&&t.selection.node.isBlock)return!r.parentOffset||!Od(t.doc,r.pos)?!1:(n&&n(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],a,u,d=!1,f=!1;for(let y=r.depth;;y--)if(r.node(y).isBlock){d=r.end(y)==r.pos+(r.depth-y),f=r.start(y)==r.pos-(r.depth-y),u=cv(r.node(y-1).contentMatchAt(r.indexAfter(y-1))),s.unshift(d&&u?{type:u}:null),a=y;break}else{if(y==1)return!1;s.unshift(null)}let p=t.tr;(t.selection instanceof qt||t.selection instanceof oi)&&p.deleteSelection();let m=p.mapping.map(r.pos),x=Od(p.doc,m,s.length,s);if(x||(s[0]=u?{type:u}:null,x=Od(p.doc,m,s.length,s)),!x)return!1;if(p.split(m,s.length,s),!d&&f&&r.node(a).type!=u){let y=p.mapping.map(r.before(a)),v=p.doc.resolve(y);u&&r.node(a-1).canReplaceWith(v.index(),v.index()+1,u)&&p.setNodeMarkup(p.mapping.map(r.before(a)),u)}return n&&n(p.scrollIntoView()),!0}}const mre=pre(),gre=(e,t)=>(t&&t(e.tr.setSelection(new oi(e.doc))),!0);function xre(e,t,n){let r=t.nodeBefore,i=t.nodeAfter,s=t.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&t.parent.canReplace(s-1,s)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(s,s+1)||!(i.isTextblock||m0(e.doc,t.pos))?!1:(n&&n(e.tr.join(t.pos).scrollIntoView()),!0)}function iA(e,t,n,r){let i=t.nodeBefore,s=t.nodeAfter,a,u,d=i.type.spec.isolating||s.type.spec.isolating;if(!d&&xre(e,t,n))return!0;let f=!d&&t.parent.canReplace(t.index(),t.index()+1);if(f&&(a=(u=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&u.matchType(a[0]||s.type).validEnd){if(n){let y=t.pos+s.nodeSize,v=Ee.empty;for(let C=a.length-1;C>=0;C--)v=Ee.from(a[C].create(null,v));v=Ee.from(i.copy(v));let k=e.tr.step(new xr(t.pos-1,y,t.pos,y,new $e(v,1,0),a.length,!0)),j=k.doc.resolve(y+2*a.length);j.nodeAfter&&j.nodeAfter.type==i.type&&m0(k.doc,j.pos)&&k.join(j.pos),n(k.scrollIntoView())}return!0}let p=s.type.spec.isolating||r>0&&d?null:Et.findFrom(t,1),m=p&&p.$from.blockRange(p.$to),x=m&&p0(m);if(x!=null&&x>=t.depth)return n&&n(e.tr.lift(m,x).scrollIntoView()),!0;if(f&&Ru(s,"start",!0)&&Ru(i,"end")){let y=i,v=[];for(;v.push(y),!y.isTextblock;)y=y.lastChild;let k=s,j=1;for(;!k.isTextblock;k=k.firstChild)j++;if(y.canReplace(y.childCount,y.childCount,k.content)){if(n){let C=Ee.empty;for(let A=v.length-1;A>=0;A--)C=Ee.from(v[A].copy(C));let N=e.tr.step(new xr(t.pos-v.length,t.pos+s.nodeSize,t.pos+j,t.pos+s.nodeSize-j,new $e(C,v.length,0),0,!0));n(N.scrollIntoView())}return!0}}return!1}function sA(e){return function(t,n){let r=t.selection,i=e<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(t.tr.setSelection(qt.create(t.doc,e<0?i.start(s):i.end(s)))),!0):!1}}const yre=sA(-1),bre=sA(1);function vre(e,t=null){return function(n,r){let{$from:i,$to:s}=n.selection,a=i.blockRange(s),u=a&&Wb(a,e,t);return u?(r&&r(n.tr.wrap(a,u).scrollIntoView()),!0):!1}}function v0(e,t=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:a},$to:{pos:u}}=n.selection.ranges[s];n.doc.nodesBetween(a,u,(d,f)=>{if(i)return!1;if(!(!d.isTextblock||d.hasMarkup(e,t)))if(d.type==e)i=!0;else{let p=n.doc.resolve(f),m=p.index();i=p.parent.canReplaceWith(m,m+1,e)}})}if(!i)return!1;if(r){let s=n.tr;for(let a=0;a<n.selection.ranges.length;a++){let{$from:{pos:u},$to:{pos:d}}=n.selection.ranges[a];s.setBlockType(u,d,e,t)}r(s.scrollIntoView())}return!0}}function wre(e,t,n,r){for(let i=0;i<t.length;i++){let{$from:s,$to:a}=t[i],u=s.depth==0?e.inlineContent&&e.type.allowsMarkType(n):!1;if(e.nodesBetween(s.pos,a.pos,(d,f)=>{if(u)return!1;u=d.inlineContent&&d.type.allowsMarkType(n)}),u)return!0}return!1}function dv(e,t=null,n){return function(r,i){let{empty:s,$cursor:a,ranges:u}=r.selection;if(s&&!a||!wre(r.doc,u,e))return!1;if(i)if(a)e.isInSet(r.storedMarks||a.marks())?i(r.tr.removeStoredMark(e)):i(r.tr.addStoredMark(e.create(t)));else{let d,f=r.tr;d=!u.some(p=>r.doc.rangeHasMark(p.$from.pos,p.$to.pos,e));for(let p=0;p<u.length;p++){let{$from:m,$to:x}=u[p];if(!d)f.removeMark(m.pos,x.pos,e);else{let y=m.pos,v=x.pos,k=m.nodeAfter,j=x.nodeBefore,C=k&&k.isText?/^\s*/.exec(k.text)[0].length:0,N=j&&j.isText?/\s*$/.exec(j.text)[0].length:0;y+C<v&&(y+=C,v-=N),f.addMark(y,v,e.create(t))}}i(f.scrollIntoView())}return!0}}function fv(...e){return function(t,n,r){for(let i=0;i<e.length;i++)if(e[i](t,n,r))return!0;return!1}}let Zx=fv(tA,sre,are),FC=fv(tA,ore,ure);const Ks={Enter:fv(cre,fre,hre,mre),"Mod-Enter":dre,Backspace:Zx,"Mod-Backspace":Zx,"Shift-Backspace":Zx,Delete:FC,"Mod-Delete":FC,"Mod-a":gre},aA={"Ctrl-h":Ks.Backspace,"Alt-Backspace":Ks["Mod-Backspace"],"Ctrl-d":Ks.Delete,"Ctrl-Alt-Backspace":Ks["Mod-Delete"],"Alt-Delete":Ks["Mod-Delete"],"Alt-d":Ks["Mod-Delete"],"Ctrl-a":yre,"Ctrl-e":bre};for(let e in Ks)aA[e]=Ks[e];const kre=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,Sre=kre?aA:Ks;function Cre(e){const t={"Mod-z":QE,"Mod-y":M2,"Shift-Mod-z":M2,Tab:Ate(e.nodes.list_item),"Shift-Tab":_te(e.nodes.list_item)};return e.nodes.hard_break&&(t["Shift-Enter"]=(n,r)=>{const{$from:i}=n.selection;return i.parent.isTextblock?(r&&r(n.tr.replaceSelectionWith(e.nodes.hard_break.create()).scrollIntoView()),!0):!1}),e.nodes.paragraph&&(t["Mod-Alt-0"]=v0(e.nodes.paragraph)),UE(t)}const jre=UE(Sre),ki=new po("mentionPlugin");function _re(e,t=50){const{state:n}=e,{$from:r}=n.selection;if(!r.parent.isTextblock)return"";const i=Math.max(0,r.parentOffset-t);return r.parent.textBetween(i,r.parentOffset,"\0","\0")}function Nre(e){const t=e.toLowerCase(),n=[{id:"u_1",label:"kangwoo",type:"user"},{id:"u_2",label:"admin",type:"user"},{id:"p_1",label:"Welcome Page",type:"page"}];return t?n.filter(r=>r.label.toLowerCase().includes(t)):n}function BC(e,t,n,r){const{state:i,dispatch:s}=e,a=i.schema.nodes.mention;a&&s(i.tr.replaceWith(t,n,a.create(r)).scrollIntoView())}function Ere(e){const t=Nre;return new na({key:ki,state:{init:()=>({active:!1,query:"",from:0,to:0,index:0,items:[]}),apply:(n,r)=>{const i=n.getMeta(ki);return i?{...r,...i}:n.docChanged||n.selectionSet?{...r}:r}},view:n=>{let r=document.createElement("div");r.className="pm-mention-dropdown",r.style.display="none",r.style.position="absolute",r.style.zIndex="50",r.style.minWidth="180px",r.style.background="white",r.style.border="1px solid rgba(0,0,0,0.12)",r.style.borderRadius="8px",r.style.boxShadow="0 8px 24px rgba(0,0,0,0.12)",r.style.padding="6px",document.body.appendChild(r);async function i(){const a=ki.getState(n.state),d=_re(n).match(/(?:^|\s)@([a-zA-Z0-9_ -]{0,30})$/);if(!d){r&&(r.style.display="none"),n.dispatch(n.state.tr.setMeta(ki,{active:!1}));return}const f=(d[1]||"").trim(),m=n.state.selection.$from.pos,x=m-d[0].length+(d[0].startsWith(" ")?1:0),y=await Promise.resolve(t(f)),v=Array.isArray(y)?y.slice(0,8):[],k=Math.min(a.index||0,Math.max(v.length-1,0));if(n.dispatch(n.state.tr.setMeta(ki,{active:!0,query:f,from:x,to:m,items:v,index:k})),!r)return;v.length===0?r.innerHTML='<div style="padding:8px;color:rgba(0,0,0,0.5)">No results</div>':r.innerHTML=v.map((C,N)=>`<div data-i="${N}" style="padding:6px 8px;border-radius:6px;cursor:pointer;${N===k?"background:rgba(0,0,0,0.06);":""}"><div style="font-size:13px;font-weight:600">@${C.label}</div><div style="font-size:12px;color:rgba(0,0,0,0.55)">${C.type}</div></div>`).join("");const j=n.coordsAtPos(m);r.style.left=`${j.left}px`,r.style.top=`${j.bottom+6}px`,r.style.display="block"}function s(a){if(!r)return;const d=a.target.closest("[data-i]");if(!d)return;const f=parseInt(d.getAttribute("data-i")||"0",10),p=ki.getState(n.state),m=p.items?.[f];m&&(BC(n,p.from,p.to,m),r.style.display="none",n.dispatch(n.state.tr.setMeta(ki,{active:!1})))}return r&&r.addEventListener("mousedown",a=>a.preventDefault()),r&&r.addEventListener("click",s),i(),{update:()=>{i()},destroy:()=>{r&&r.removeEventListener("click",s),r?.remove(),r=null}}},props:{handleKeyDown(n,r){const i=ki.getState(n.state);if(!i?.active)return!1;if(r.key==="Escape")return n.dispatch(n.state.tr.setMeta(ki,{active:!1})),!0;if(r.key==="ArrowDown"){const s=Math.min((i.index||0)+1,Math.max((i.items?.length||1)-1,0));return n.dispatch(n.state.tr.setMeta(ki,{index:s})),!0}if(r.key==="ArrowUp"){const s=Math.max((i.index||0)-1,0);return n.dispatch(n.state.tr.setMeta(ki,{index:s})),!0}if(r.key==="Enter"){const s=i.items?.[i.index||0];return s?(BC(n,i.from,i.to,s),n.dispatch(n.state.tr.setMeta(ki,{active:!1})),!0):!1}return!1}}})}const Ma=new po("slashCommand");function Are(e,t=80){const{$from:n}=e.selection;if(!n.parent.isTextblock)return"";const r=Math.max(0,n.parentOffset-t);return n.parent.textBetween(r,n.parentOffset,"\0","\0")}function rs(e,t,n){const{state:r,dispatch:i}=e,s=r.tr.delete(t,n);i(s)}function w0(e,t){const{state:n,dispatch:r}=e,{$from:i}=n.selection;let s=i.depth;for(;s>0;){const f=i.node(s);if(f.isBlock&&f.type.name!=="doc")break;s-=1}if(s<=0)return;const a=i.before(s),u=i.after(s),d=n.tr.replaceWith(a,u,t);r(d.scrollIntoView())}function Cd(e,t,n){const{state:r,dispatch:i}=e,{from:s,to:a}=r.selection,u=r.tr.setBlockType(s,a,t,n);i(u.scrollIntoView())}function Dre(e,t){const n=t.nodes.table,r=t.nodes.table_row,i=t.nodes.table_cell,s=t.nodes.paragraph;if(!n||!r||!i||!s)return;const a=()=>i.createAndFill(null,s.createAndFill()),u=()=>r.create(null,[a(),a()]),d=n.create(null,[u(),u()]);w0(e,d)}function Tre(e,t){const n=t.nodes.horizontal_rule;n&&w0(e,n.create())}function Mre(e,t){const n=t.nodes.image;if(!n)return;const r=window.prompt("Image URL?","https://")||"";r.trim()&&w0(e,n.create({src:r.trim()}))}function Ore(e,t){const n=t.nodes.page_link;if(!n)return;const r=window.prompt("Target pageId (posts.id)?","")||"";if(!r.trim())return;const i=window.prompt("Title (optional)","")||"",s=window.prompt("display? (link|embed)","link")||"link";w0(e,n.create({pageId:r.trim(),title:i,display:s}))}function Rre(e,t){const n=t.nodes.code_block;n&&Cd(e,n)}function Lre(e,t){sv(t.nodes.bullet_list)(e.state,e.dispatch)}function Pre(e){return[{key:"text",title:"Text",keywords:["text","paragraph"],run:(t,n)=>{rs(t,n.from,n.to),Cd(t,e.nodes.paragraph)}},{key:"h1",title:"Heading 1",keywords:["h1","heading"],run:(t,n)=>{rs(t,n.from,n.to),Cd(t,e.nodes.heading,{level:1})}},{key:"h2",title:"Heading 2",keywords:["h2","heading"],run:(t,n)=>{rs(t,n.from,n.to),Cd(t,e.nodes.heading,{level:2})}},{key:"h3",title:"Heading 3",keywords:["h3","heading"],run:(t,n)=>{rs(t,n.from,n.to),Cd(t,e.nodes.heading,{level:3})}},{key:"list",title:"Bullet List",keywords:["list","bullet","ul"],run:(t,n)=>{rs(t,n.from,n.to),Lre(t,e)}},{key:"table",title:"Table (2x2)",keywords:["table","grid"],run:(t,n)=>{rs(t,n.from,n.to),Dre(t,e)}},{key:"image",title:"Image",keywords:["image","img","picture"],run:(t,n)=>{rs(t,n.from,n.to),Mre(t,e)}},{key:"divider",title:"Divider",keywords:["divider","hr","horizontal"],run:(t,n)=>{rs(t,n.from,n.to),Tre(t,e)}},{key:"page",title:"Page Link",keywords:["page","link","embed"],run:(t,n)=>{rs(t,n.from,n.to),Ore(t,e)}},{key:"code",title:"Code Block",keywords:["code","codeblock"],run:(t,n)=>{rs(t,n.from,n.to),Rre(t,e)}}]}function zre(e,t){const n=t.trim().toLowerCase();return n?e.filter(r=>r.key.startsWith(n)||r.keywords.some(i=>i.startsWith(n))):e}function Ire(e){const t=Pre(e);return new na({key:Ma,state:{init:()=>({active:!1,query:"",from:0,to:0,index:0,items:[],dismissed:!1}),apply:(n,r,i,s)=>{const a=n.getMeta(Ma);let u=r.dismissed,d=r.index;a?.dismissed!==void 0&&(u=!!a.dismissed),a?.index!==void 0&&(d=Number(a.index)||0),n.docChanged&&(u=!1);const f=s.selection.$from;if(!(f.parent.type===s.schema.nodes.paragraph)||u)return{active:!1,query:"",from:0,to:0,index:0,items:[],dismissed:u};const x=Are(s).match(/(?:^|\s)\/([a-zA-Z0-9_-]{0,30})$/);if(!x)return{active:!1,query:"",from:0,to:0,index:0,items:[],dismissed:u};const y=(x[1]||"").toLowerCase(),v=x[0].length,k=x[0].startsWith(" ")?1:0,j=f.start()+f.parentOffset,C=f.start()+(f.parentOffset-v+k),N=zre(t,y),A=Math.min(Math.max(d,0),Math.max(N.length-1,0));return{active:!0,query:y,from:C,to:j,index:A,items:N,dismissed:u}}},view:n=>{let r=document.createElement("div");r.className="pm-slash-dropdown",r.style.display="none",r.style.position="absolute",r.style.zIndex="50",r.style.minWidth="220px",r.style.background="white",r.style.border="1px solid rgba(0,0,0,0.12)",r.style.borderRadius="10px",r.style.boxShadow="0 10px 28px rgba(0,0,0,0.14)",r.style.padding="6px",document.body.appendChild(r);function i(){const a=Ma.getState(n.state);if(!r)return;if(!a?.active){r.style.display="none";return}const u=a.items||[];r.innerHTML=u.length===0?'<div style="padding:8px;color:rgba(0,0,0,0.5)">No results</div>':u.map((f,p)=>{const m=p===a.index;return`<div data-i="${p}" style="padding:8px 10px;border-radius:8px;cursor:pointer;${m?"background:rgba(0,0,0,0.06);":""}"><div style="font-size:13px;font-weight:700">${f.title}</div><div style="font-size:12px;color:rgba(0,0,0,0.55)">/${f.key}</div></div>`}).join("");const d=n.coordsAtPos(a.to);r.style.left=`${d.left}px`,r.style.top=`${d.bottom+6}px`,r.style.display="block"}function s(a){if(!r)return;const d=a.target.closest("[data-i]");if(!d)return;const f=parseInt(d.getAttribute("data-i")||"0",10),p=Ma.getState(n.state),m=p.items[f];m&&(m.run(n,{from:p.from,to:p.to,query:p.query}),r&&(r.style.display="none"))}return r&&r.addEventListener("mousedown",a=>a.preventDefault()),r&&r.addEventListener("click",s),i(),{update:()=>i(),destroy:()=>{r&&r.removeEventListener("click",s),r?.remove(),r=null}}},props:{handleKeyDown(n,r){const i=Ma.getState(n.state);if(!i?.active)return!1;if(r.key==="Escape")return n.dispatch(n.state.tr.setMeta(Ma,{dismissed:!0})),!0;if(r.key==="ArrowDown"){const s=Math.min((i.index||0)+1,Math.max((i.items?.length||1)-1,0));return n.dispatch(n.state.tr.setMeta(Ma,{index:s})),!0}if(r.key==="ArrowUp"){const s=Math.max((i.index||0)-1,0);return n.dispatch(n.state.tr.setMeta(Ma,{index:s})),!0}if(r.key==="Enter"){const s=i.items?.[i.index||0];if(!s)return!1;if(i.from<i.to){const a=n.state.tr.delete(i.from,i.to);n.dispatch(a)}return s.run(n,{from:i.from,to:i.to,query:i.query}),!0}return!1}}})}function Fre(e,t){const n=[];return n.push(Vne()),n.push(qne()),n.push(Kne()),n.push(nre({rules:rre(e)})),n.push(vne()),n.push(Dne()),n.push(Cre(e)),n.push(jre),n.push(Ire(e)),t?.mention?.enabled!==!1&&n.push(Ere()),n}function Bre(){const e=typeof window<"u"?localStorage.getItem("token"):null,t={"Content-Type":"application/json"};return e&&(t.Authorization=`Bearer ${e}`),t}async function $re(e){try{const t=await fetch(`/api/posts/${e}/preview`,{headers:Bre()});if(!t.ok)return null;const n=await t.json(),r=typeof n.title=="string"?n.title:"Untitled",i=typeof n.summary=="string"?n.summary:"";return{title:r,summary:i}}catch{return null}}class Hre{dom;titleEl;summaryEl;hintEl;currentKey="";constructor(t,n,r){const i=document.createElement("div");i.className="pm-page-link";const s=document.createElement("div");s.className="pm-page-link-title",i.appendChild(s);const a=document.createElement("div");a.className="pm-page-link-preview",i.appendChild(a);const u=document.createElement("div");u.className="pm-page-link-hint",i.appendChild(u),this.dom=i,this.titleEl=s,this.summaryEl=a,this.hintEl=u,this.refresh(t)}async refresh(t){const n=String(t.attrs.pageId||""),r=String(t.attrs.display||"link"),i=String(t.attrs.title||""),s=`${n}|${r}|${i}`;if(s===this.currentKey||(this.currentKey=s,this.titleEl.textContent=i||"Untitled page",this.hintEl.textContent=r==="embed"?"":"Link",this.summaryEl.textContent=r==="embed"?"Loading":"",r!=="embed"||!n))return;const a=await $re(n);if(!a){this.summaryEl.textContent="Preview unavailable";return}this.titleEl.textContent=a.title||this.titleEl.textContent||"Untitled page",this.summaryEl.textContent=a.summary||""}update(t){return this.refresh(t),!0}}function Ure(e){return dv(e.marks.strong)}function Vre(e){return dv(e.marks.em)}function qre(e){return dv(e.marks.code)}function Qx(e,t){return v0(e.nodes.heading,{level:t})}function Gre(e){return v0(e.nodes.paragraph)}function Wre(e){return vre(e.nodes.blockquote)}function Yre(e){return v0(e.nodes.code_block)}function Kre(e){return sv(e.nodes.bullet_list)}function Jre(e){return sv(e.nodes.ordered_list)}function Xre(e){return(t,n)=>{const r=e.nodes.horizontal_rule;return r?(n&&n(t.tr.replaceSelectionWith(r.create()).scrollIntoView()),!0):!1}}function Zre(e,t){return(n,r)=>{const i=e.nodes.image;return i?(r&&r(n.tr.replaceSelectionWith(i.create(t)).scrollIntoView()),!0):!1}}function Qre(e,t){return(n,r)=>{const i=e.nodes.mention;return i?(r&&r(n.tr.replaceSelectionWith(i.create(t)).scrollIntoView()),!0):!1}}function eie(e,t){return(n,r)=>{const i=e.nodes.page_link;return i?(r&&r(n.tr.replaceSelectionWith(i.create(t)).scrollIntoView()),!0):!1}}function tie(e){return(t,n)=>{const{$from:r}=t.selection;let i=r.depth;for(;i>0;){const p=r.node(i);if(p.isBlock&&p.type.name!=="doc")break;i-=1}if(i<=0)return!1;const s=r.before(i),a=r.after(i),u=t.doc.slice(s,a);if(!n)return!0;const d=t.tr;d.step(new pr(a,a,u));const f=Math.min(a+1,d.doc.content.size);return d.setSelection(qt.near(d.doc.resolve(f))),n(d.scrollIntoView()),!0}}const ad={addRowAfter:ine,addColumnAfter:tne,deleteTable:cne,mergeCells:ane,splitCell:lne},$C={};function nie(e){let t=$C[e];if(t)return t;t=$C[e]=[];for(let n=0;n<128;n++){const r=String.fromCharCode(n);t.push(r)}for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t[r]="%"+("0"+r.toString(16).toUpperCase()).slice(-2)}return t}function Lu(e,t){typeof t!="string"&&(t=Lu.defaultChars);const n=nie(t);return e.replace(/(%[a-f0-9]{2})+/gi,function(r){let i="";for(let s=0,a=r.length;s<a;s+=3){const u=parseInt(r.slice(s+1,s+3),16);if(u<128){i+=n[u];continue}if((u&224)===192&&s+3<a){const d=parseInt(r.slice(s+4,s+6),16);if((d&192)===128){const f=u<<6&1984|d&63;f<128?i+="":i+=String.fromCharCode(f),s+=3;continue}}if((u&240)===224&&s+6<a){const d=parseInt(r.slice(s+4,s+6),16),f=parseInt(r.slice(s+7,s+9),16);if((d&192)===128&&(f&192)===128){const p=u<<12&61440|d<<6&4032|f&63;p<2048||p>=55296&&p<=57343?i+="":i+=String.fromCharCode(p),s+=6;continue}}if((u&248)===240&&s+9<a){const d=parseInt(r.slice(s+4,s+6),16),f=parseInt(r.slice(s+7,s+9),16),p=parseInt(r.slice(s+10,s+12),16);if((d&192)===128&&(f&192)===128&&(p&192)===128){let m=u<<18&1835008|d<<12&258048|f<<6&4032|p&63;m<65536||m>1114111?i+="":(m-=65536,i+=String.fromCharCode(55296+(m>>10),56320+(m&1023))),s+=9;continue}}i+=""}return i})}Lu.defaultChars=";/?:@&=+$,#";Lu.componentChars="";const HC={};function rie(e){let t=HC[e];if(t)return t;t=HC[e]=[];for(let n=0;n<128;n++){const r=String.fromCharCode(n);/^[0-9a-z]$/i.test(r)?t.push(r):t.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2))}for(let n=0;n<e.length;n++)t[e.charCodeAt(n)]=e[n];return t}function Mf(e,t,n){typeof t!="string"&&(n=t,t=Mf.defaultChars),typeof n>"u"&&(n=!0);const r=rie(t);let i="";for(let s=0,a=e.length;s<a;s++){const u=e.charCodeAt(s);if(n&&u===37&&s+2<a&&/^[0-9a-f]{2}$/i.test(e.slice(s+1,s+3))){i+=e.slice(s,s+3),s+=2;continue}if(u<128){i+=r[u];continue}if(u>=55296&&u<=57343){if(u>=55296&&u<=56319&&s+1<a){const d=e.charCodeAt(s+1);if(d>=56320&&d<=57343){i+=encodeURIComponent(e[s]+e[s+1]),s++;continue}}i+="%EF%BF%BD";continue}i+=encodeURIComponent(e[s])}return i}Mf.defaultChars=";/?:@&=+$,-_.!~*'()#";Mf.componentChars="-_.!~*'()";function hv(e){let t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&e.hostname.indexOf(":")!==-1?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||"",t}function _m(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const iie=/^([a-z0-9.+-]+:)/i,sie=/:[0-9]*$/,aie=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,lie=["<",">",'"',"`"," ","\r",`
`,"	"],oie=["{","}","|","\\","^","`"].concat(lie),uie=["'"].concat(oie),UC=["%","/","?",";","#"].concat(uie),VC=["/","?","#"],cie=255,qC=/^[+a-z0-9A-Z_-]{0,63}$/,die=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,GC={javascript:!0,"javascript:":!0},WC={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function pv(e,t){if(e&&e instanceof _m)return e;const n=new _m;return n.parse(e,t),n}_m.prototype.parse=function(e,t){let n,r,i,s=e;if(s=s.trim(),!t&&e.split("#").length===1){const f=aie.exec(s);if(f)return this.pathname=f[1],f[2]&&(this.search=f[2]),this}let a=iie.exec(s);if(a&&(a=a[0],n=a.toLowerCase(),this.protocol=a,s=s.substr(a.length)),(t||a||s.match(/^\/\/[^@\/]+@[^@\/]+/))&&(i=s.substr(0,2)==="//",i&&!(a&&GC[a])&&(s=s.substr(2),this.slashes=!0)),!GC[a]&&(i||a&&!WC[a])){let f=-1;for(let v=0;v<VC.length;v++)r=s.indexOf(VC[v]),r!==-1&&(f===-1||r<f)&&(f=r);let p,m;f===-1?m=s.lastIndexOf("@"):m=s.lastIndexOf("@",f),m!==-1&&(p=s.slice(0,m),s=s.slice(m+1),this.auth=p),f=-1;for(let v=0;v<UC.length;v++)r=s.indexOf(UC[v]),r!==-1&&(f===-1||r<f)&&(f=r);f===-1&&(f=s.length),s[f-1]===":"&&f--;const x=s.slice(0,f);s=s.slice(f),this.parseHost(x),this.hostname=this.hostname||"";const y=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!y){const v=this.hostname.split(/\./);for(let k=0,j=v.length;k<j;k++){const C=v[k];if(C&&!C.match(qC)){let N="";for(let A=0,z=C.length;A<z;A++)C.charCodeAt(A)>127?N+="x":N+=C[A];if(!N.match(qC)){const A=v.slice(0,k),z=v.slice(k+1),I=C.match(die);I&&(A.push(I[1]),z.unshift(I[2])),z.length&&(s=z.join(".")+s),this.hostname=A.join(".");break}}}}this.hostname.length>cie&&(this.hostname=""),y&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const u=s.indexOf("#");u!==-1&&(this.hash=s.substr(u),s=s.slice(0,u));const d=s.indexOf("?");return d!==-1&&(this.search=s.substr(d),s=s.slice(0,d)),s&&(this.pathname=s),WC[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this};_m.prototype.parseHost=function(e){let t=sie.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};const fie=Object.freeze(Object.defineProperty({__proto__:null,decode:Lu,encode:Mf,format:hv,parse:pv},Symbol.toStringTag,{value:"Module"})),lA=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,oA=/[\0-\x1F\x7F-\x9F]/,hie=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,mv=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,uA=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,cA=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,pie=Object.freeze(Object.defineProperty({__proto__:null,Any:lA,Cc:oA,Cf:hie,P:mv,S:uA,Z:cA},Symbol.toStringTag,{value:"Module"})),mie=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),gie=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var ey;const xie=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),yie=(ey=String.fromCodePoint)!==null&&ey!==void 0?ey:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function bie(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=xie.get(e))!==null&&t!==void 0?t:e}var nr;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(nr||(nr={}));const vie=32;var Ja;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(Ja||(Ja={}));function O2(e){return e>=nr.ZERO&&e<=nr.NINE}function wie(e){return e>=nr.UPPER_A&&e<=nr.UPPER_F||e>=nr.LOWER_A&&e<=nr.LOWER_F}function kie(e){return e>=nr.UPPER_A&&e<=nr.UPPER_Z||e>=nr.LOWER_A&&e<=nr.LOWER_Z||O2(e)}function Sie(e){return e===nr.EQUALS||kie(e)}var tr;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(tr||(tr={}));var qa;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(qa||(qa={}));class Cie{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=tr.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=qa.Strict}startEntity(t){this.decodeMode=t,this.state=tr.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case tr.EntityStart:return t.charCodeAt(n)===nr.NUM?(this.state=tr.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=tr.NamedEntity,this.stateNamedEntity(t,n));case tr.NumericStart:return this.stateNumericStart(t,n);case tr.NumericDecimal:return this.stateNumericDecimal(t,n);case tr.NumericHex:return this.stateNumericHex(t,n);case tr.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|vie)===nr.LOWER_X?(this.state=tr.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=tr.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,i){if(n!==r){const s=r-n;this.result=this.result*Math.pow(i,s)+parseInt(t.substr(n,s),i),this.consumed+=s}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(O2(i)||wie(i))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(O2(i))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===nr.SEMI)this.consumed+=1;else if(this.decodeMode===qa.Strict)return 0;return this.emitCodePoint(bie(this.result),this.consumed),this.errors&&(t!==nr.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let i=r[this.treeIndex],s=(i&Ja.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const a=t.charCodeAt(n);if(this.treeIndex=jie(r,i,this.treeIndex+Math.max(1,s),a),this.treeIndex<0)return this.result===0||this.decodeMode===qa.Attribute&&(s===0||Sie(a))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],s=(i&Ja.VALUE_LENGTH)>>14,s!==0){if(a===nr.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==qa.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,i=(r[n]&Ja.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[t]&~Ja.VALUE_LENGTH:i[t+1],r),n===3&&this.emitCodePoint(i[t+2],r),r}end(){var t;switch(this.state){case tr.NamedEntity:return this.result!==0&&(this.decodeMode!==qa.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case tr.NumericDecimal:return this.emitNumericEntity(0,2);case tr.NumericHex:return this.emitNumericEntity(0,3);case tr.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case tr.EntityStart:return 0}}}function dA(e){let t="";const n=new Cie(e,r=>t+=yie(r));return function(i,s){let a=0,u=0;for(;(u=i.indexOf("&",u))>=0;){t+=i.slice(a,u),n.startEntity(s);const f=n.write(i,u+1);if(f<0){a=u+n.end();break}a=u+f,u=f===0?a+1:a}const d=t+i.slice(a);return t="",d}}function jie(e,t,n,r){const i=(t&Ja.BRANCH_LENGTH)>>7,s=t&Ja.JUMP_TABLE;if(i===0)return s!==0&&r===s?n:-1;if(s){const d=r-s;return d<0||d>=i?-1:e[n+d]-1}let a=n,u=a+i-1;for(;a<=u;){const d=a+u>>>1,f=e[d];if(f<r)a=d+1;else if(f>r)u=d-1;else return e[d+i]}return-1}const _ie=dA(mie);dA(gie);function fA(e,t=qa.Legacy){return _ie(e,t)}function Nie(e){return Object.prototype.toString.call(e)}function gv(e){return Nie(e)==="[object String]"}const Eie=Object.prototype.hasOwnProperty;function Aie(e,t){return Eie.call(e,t)}function k0(e){return Array.prototype.slice.call(arguments,1).forEach(function(n){if(n){if(typeof n!="object")throw new TypeError(n+"must be object");Object.keys(n).forEach(function(r){e[r]=n[r]})}}),e}function hA(e,t,n){return[].concat(e.slice(0,t),n,e.slice(t+1))}function xv(e){return!(e>=55296&&e<=57343||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534||e>=0&&e<=8||e===11||e>=14&&e<=31||e>=127&&e<=159||e>1114111)}function Nm(e){if(e>65535){e-=65536;const t=55296+(e>>10),n=56320+(e&1023);return String.fromCharCode(t,n)}return String.fromCharCode(e)}const pA=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,Die=/&([a-z#][a-z0-9]{1,31});/gi,Tie=new RegExp(pA.source+"|"+Die.source,"gi"),Mie=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function Oie(e,t){if(t.charCodeAt(0)===35&&Mie.test(t)){const r=t[1].toLowerCase()==="x"?parseInt(t.slice(2),16):parseInt(t.slice(1),10);return xv(r)?Nm(r):e}const n=fA(e);return n!==e?n:e}function Rie(e){return e.indexOf("\\")<0?e:e.replace(pA,"$1")}function Pu(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(Tie,function(t,n,r){return n||Oie(t,r)})}const Lie=/[&<>"]/,Pie=/[&<>"]/g,zie={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function Iie(e){return zie[e]}function ll(e){return Lie.test(e)?e.replace(Pie,Iie):e}const Fie=/[.?*+^$[\]\\(){}|-]/g;function Bie(e){return e.replace(Fie,"\\$&")}function hn(e){switch(e){case 9:case 32:return!0}return!1}function rf(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function sf(e){return mv.test(e)||uA.test(e)}function af(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function S0(e){return e=e.trim().replace(/\s+/g," "),"".toLowerCase()===""&&(e=e.replace(//g,"")),e.toLowerCase().toUpperCase()}const $ie={mdurl:fie,ucmicro:pie},Hie=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:hA,assign:k0,escapeHtml:ll,escapeRE:Bie,fromCodePoint:Nm,has:Aie,isMdAsciiPunct:af,isPunctChar:sf,isSpace:hn,isString:gv,isValidEntityCode:xv,isWhiteSpace:rf,lib:$ie,normalizeReference:S0,unescapeAll:Pu,unescapeMd:Rie},Symbol.toStringTag,{value:"Module"}));function Uie(e,t,n){let r,i,s,a;const u=e.posMax,d=e.pos;for(e.pos=t+1,r=1;e.pos<u;){if(s=e.src.charCodeAt(e.pos),s===93&&(r--,r===0)){i=!0;break}if(a=e.pos,e.md.inline.skipToken(e),s===91){if(a===e.pos-1)r++;else if(n)return e.pos=d,-1}}let f=-1;return i&&(f=e.pos),e.pos=d,f}function Vie(e,t,n){let r,i=t;const s={ok:!1,pos:0,str:""};if(e.charCodeAt(i)===60){for(i++;i<n;){if(r=e.charCodeAt(i),r===10||r===60)return s;if(r===62)return s.pos=i+1,s.str=Pu(e.slice(t+1,i)),s.ok=!0,s;if(r===92&&i+1<n){i+=2;continue}i++}return s}let a=0;for(;i<n&&(r=e.charCodeAt(i),!(r===32||r<32||r===127));){if(r===92&&i+1<n){if(e.charCodeAt(i+1)===32)break;i+=2;continue}if(r===40&&(a++,a>32))return s;if(r===41){if(a===0)break;a--}i++}return t===i||a!==0||(s.str=Pu(e.slice(t,i)),s.pos=i,s.ok=!0),s}function qie(e,t,n,r){let i,s=t;const a={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(r)a.str=r.str,a.marker=r.marker;else{if(s>=n)return a;let u=e.charCodeAt(s);if(u!==34&&u!==39&&u!==40)return a;t++,s++,u===40&&(u=41),a.marker=u}for(;s<n;){if(i=e.charCodeAt(s),i===a.marker)return a.pos=s+1,a.str+=Pu(e.slice(t,s)),a.ok=!0,a;if(i===40&&a.marker===41)return a;i===92&&s+1<n&&s++,s++}return a.can_continue=!0,a.str+=Pu(e.slice(t,s)),a}const Gie=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:Vie,parseLinkLabel:Uie,parseLinkTitle:qie},Symbol.toStringTag,{value:"Module"})),js={};js.code_inline=function(e,t,n,r,i){const s=e[t];return"<code"+i.renderAttrs(s)+">"+ll(s.content)+"</code>"};js.code_block=function(e,t,n,r,i){const s=e[t];return"<pre"+i.renderAttrs(s)+"><code>"+ll(e[t].content)+`</code></pre>
`};js.fence=function(e,t,n,r,i){const s=e[t],a=s.info?Pu(s.info).trim():"";let u="",d="";if(a){const p=a.split(/(\s+)/g);u=p[0],d=p.slice(2).join("")}let f;if(n.highlight?f=n.highlight(s.content,u,d)||ll(s.content):f=ll(s.content),f.indexOf("<pre")===0)return f+`
`;if(a){const p=s.attrIndex("class"),m=s.attrs?s.attrs.slice():[];p<0?m.push(["class",n.langPrefix+u]):(m[p]=m[p].slice(),m[p][1]+=" "+n.langPrefix+u);const x={attrs:m};return`<pre><code${i.renderAttrs(x)}>${f}</code></pre>
`}return`<pre><code${i.renderAttrs(s)}>${f}</code></pre>
`};js.image=function(e,t,n,r,i){const s=e[t];return s.attrs[s.attrIndex("alt")][1]=i.renderInlineAsText(s.children,n,r),i.renderToken(e,t,n)};js.hardbreak=function(e,t,n){return n.xhtmlOut?`<br />
`:`<br>
`};js.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?`<br />
`:`<br>
`:`
`};js.text=function(e,t){return ll(e[t].content)};js.html_block=function(e,t){return e[t].content};js.html_inline=function(e,t){return e[t].content};function Ju(){this.rules=k0({},js)}Ju.prototype.renderAttrs=function(t){let n,r,i;if(!t.attrs)return"";for(i="",n=0,r=t.attrs.length;n<r;n++)i+=" "+ll(t.attrs[n][0])+'="'+ll(t.attrs[n][1])+'"';return i};Ju.prototype.renderToken=function(t,n,r){const i=t[n];let s="";if(i.hidden)return"";i.block&&i.nesting!==-1&&n&&t[n-1].hidden&&(s+=`
`),s+=(i.nesting===-1?"</":"<")+i.tag,s+=this.renderAttrs(i),i.nesting===0&&r.xhtmlOut&&(s+=" /");let a=!1;if(i.block&&(a=!0,i.nesting===1&&n+1<t.length)){const u=t[n+1];(u.type==="inline"||u.hidden||u.nesting===-1&&u.tag===i.tag)&&(a=!1)}return s+=a?`>
`:">",s};Ju.prototype.renderInline=function(e,t,n){let r="";const i=this.rules;for(let s=0,a=e.length;s<a;s++){const u=e[s].type;typeof i[u]<"u"?r+=i[u](e,s,t,n,this):r+=this.renderToken(e,s,t)}return r};Ju.prototype.renderInlineAsText=function(e,t,n){let r="";for(let i=0,s=e.length;i<s;i++)switch(e[i].type){case"text":r+=e[i].content;break;case"image":r+=this.renderInlineAsText(e[i].children,t,n);break;case"html_inline":case"html_block":r+=e[i].content;break;case"softbreak":case"hardbreak":r+=`
`;break}return r};Ju.prototype.render=function(e,t,n){let r="";const i=this.rules;for(let s=0,a=e.length;s<a;s++){const u=e[s].type;u==="inline"?r+=this.renderInline(e[s].children,t,n):typeof i[u]<"u"?r+=i[u](e,s,t,n,this):r+=this.renderToken(e,s,t,n)}return r};function Gr(){this.__rules__=[],this.__cache__=null}Gr.prototype.__find__=function(e){for(let t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1};Gr.prototype.__compile__=function(){const e=this,t=[""];e.__rules__.forEach(function(n){n.enabled&&n.alt.forEach(function(r){t.indexOf(r)<0&&t.push(r)})}),e.__cache__={},t.forEach(function(n){e.__cache__[n]=[],e.__rules__.forEach(function(r){r.enabled&&(n&&r.alt.indexOf(n)<0||e.__cache__[n].push(r.fn))})})};Gr.prototype.at=function(e,t,n){const r=this.__find__(e),i=n||{};if(r===-1)throw new Error("Parser rule not found: "+e);this.__rules__[r].fn=t,this.__rules__[r].alt=i.alt||[],this.__cache__=null};Gr.prototype.before=function(e,t,n,r){const i=this.__find__(e),s=r||{};if(i===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(i,0,{name:t,enabled:!0,fn:n,alt:s.alt||[]}),this.__cache__=null};Gr.prototype.after=function(e,t,n,r){const i=this.__find__(e),s=r||{};if(i===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(i+1,0,{name:t,enabled:!0,fn:n,alt:s.alt||[]}),this.__cache__=null};Gr.prototype.push=function(e,t,n){const r=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:r.alt||[]}),this.__cache__=null};Gr.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);const n=[];return e.forEach(function(r){const i=this.__find__(r);if(i<0){if(t)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[i].enabled=!0,n.push(r)},this),this.__cache__=null,n};Gr.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(n){n.enabled=!1}),this.enable(e,t)};Gr.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);const n=[];return e.forEach(function(r){const i=this.__find__(r);if(i<0){if(t)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[i].enabled=!1,n.push(r)},this),this.__cache__=null,n};Gr.prototype.getRules=function(e){return this.__cache__===null&&this.__compile__(),this.__cache__[e]||[]};function Yi(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Yi.prototype.attrIndex=function(t){if(!this.attrs)return-1;const n=this.attrs;for(let r=0,i=n.length;r<i;r++)if(n[r][0]===t)return r;return-1};Yi.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]};Yi.prototype.attrSet=function(t,n){const r=this.attrIndex(t),i=[t,n];r<0?this.attrPush(i):this.attrs[r]=i};Yi.prototype.attrGet=function(t){const n=this.attrIndex(t);let r=null;return n>=0&&(r=this.attrs[n][1]),r};Yi.prototype.attrJoin=function(t,n){const r=this.attrIndex(t);r<0?this.attrPush([t,n]):this.attrs[r][1]=this.attrs[r][1]+" "+n};function mA(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}mA.prototype.Token=Yi;const Wie=/\r\n?|\n/g,Yie=/\0/g;function Kie(e){let t;t=e.src.replace(Wie,`
`),t=t.replace(Yie,""),e.src=t}function Jie(e){let t;e.inlineMode?(t=new e.Token("inline","",0),t.content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}function Xie(e){const t=e.tokens;for(let n=0,r=t.length;n<r;n++){const i=t[n];i.type==="inline"&&e.md.inline.parse(i.content,e.md,e.env,i.children)}}function Zie(e){return/^<a[>\s]/i.test(e)}function Qie(e){return/^<\/a\s*>/i.test(e)}function ese(e){const t=e.tokens;if(e.md.options.linkify)for(let n=0,r=t.length;n<r;n++){if(t[n].type!=="inline"||!e.md.linkify.pretest(t[n].content))continue;let i=t[n].children,s=0;for(let a=i.length-1;a>=0;a--){const u=i[a];if(u.type==="link_close"){for(a--;i[a].level!==u.level&&i[a].type!=="link_open";)a--;continue}if(u.type==="html_inline"&&(Zie(u.content)&&s>0&&s--,Qie(u.content)&&s++),!(s>0)&&u.type==="text"&&e.md.linkify.test(u.content)){const d=u.content;let f=e.md.linkify.match(d);const p=[];let m=u.level,x=0;f.length>0&&f[0].index===0&&a>0&&i[a-1].type==="text_special"&&(f=f.slice(1));for(let y=0;y<f.length;y++){const v=f[y].url,k=e.md.normalizeLink(v);if(!e.md.validateLink(k))continue;let j=f[y].text;f[y].schema?f[y].schema==="mailto:"&&!/^mailto:/i.test(j)?j=e.md.normalizeLinkText("mailto:"+j).replace(/^mailto:/,""):j=e.md.normalizeLinkText(j):j=e.md.normalizeLinkText("http://"+j).replace(/^http:\/\//,"");const C=f[y].index;if(C>x){const I=new e.Token("text","",0);I.content=d.slice(x,C),I.level=m,p.push(I)}const N=new e.Token("link_open","a",1);N.attrs=[["href",k]],N.level=m++,N.markup="linkify",N.info="auto",p.push(N);const A=new e.Token("text","",0);A.content=j,A.level=m,p.push(A);const z=new e.Token("link_close","a",-1);z.level=--m,z.markup="linkify",z.info="auto",p.push(z),x=f[y].lastIndex}if(x<d.length){const y=new e.Token("text","",0);y.content=d.slice(x),y.level=m,p.push(y)}t[n].children=i=hA(i,a,p)}}}}const gA=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,tse=/\((c|tm|r)\)/i,nse=/\((c|tm|r)\)/ig,rse={c:"",r:"",tm:""};function ise(e,t){return rse[t.toLowerCase()]}function sse(e){let t=0;for(let n=e.length-1;n>=0;n--){const r=e[n];r.type==="text"&&!t&&(r.content=r.content.replace(nse,ise)),r.type==="link_open"&&r.info==="auto"&&t--,r.type==="link_close"&&r.info==="auto"&&t++}}function ase(e){let t=0;for(let n=e.length-1;n>=0;n--){const r=e[n];r.type==="text"&&!t&&gA.test(r.content)&&(r.content=r.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1").replace(/(^|\s)--(?=\s|$)/mg,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1")),r.type==="link_open"&&r.info==="auto"&&t--,r.type==="link_close"&&r.info==="auto"&&t++}}function lse(e){let t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)e.tokens[t].type==="inline"&&(tse.test(e.tokens[t].content)&&sse(e.tokens[t].children),gA.test(e.tokens[t].content)&&ase(e.tokens[t].children))}const ose=/['"]/,YC=/['"]/g,KC="";function gp(e,t,n){return e.slice(0,t)+n+e.slice(t+1)}function use(e,t){let n;const r=[];for(let i=0;i<e.length;i++){const s=e[i],a=e[i].level;for(n=r.length-1;n>=0&&!(r[n].level<=a);n--);if(r.length=n+1,s.type!=="text")continue;let u=s.content,d=0,f=u.length;e:for(;d<f;){YC.lastIndex=d;const p=YC.exec(u);if(!p)break;let m=!0,x=!0;d=p.index+1;const y=p[0]==="'";let v=32;if(p.index-1>=0)v=u.charCodeAt(p.index-1);else for(n=i-1;n>=0&&!(e[n].type==="softbreak"||e[n].type==="hardbreak");n--)if(e[n].content){v=e[n].content.charCodeAt(e[n].content.length-1);break}let k=32;if(d<f)k=u.charCodeAt(d);else for(n=i+1;n<e.length&&!(e[n].type==="softbreak"||e[n].type==="hardbreak");n++)if(e[n].content){k=e[n].content.charCodeAt(0);break}const j=af(v)||sf(String.fromCharCode(v)),C=af(k)||sf(String.fromCharCode(k)),N=rf(v),A=rf(k);if(A?m=!1:C&&(N||j||(m=!1)),N?x=!1:j&&(A||C||(x=!1)),k===34&&p[0]==='"'&&v>=48&&v<=57&&(x=m=!1),m&&x&&(m=j,x=C),!m&&!x){y&&(s.content=gp(s.content,p.index,KC));continue}if(x)for(n=r.length-1;n>=0;n--){let z=r[n];if(r[n].level<a)break;if(z.single===y&&r[n].level===a){z=r[n];let I,T;y?(I=t.md.options.quotes[2],T=t.md.options.quotes[3]):(I=t.md.options.quotes[0],T=t.md.options.quotes[1]),s.content=gp(s.content,p.index,T),e[z.token].content=gp(e[z.token].content,z.pos,I),d+=T.length-1,z.token===i&&(d+=I.length-1),u=s.content,f=u.length,r.length=n;continue e}}m?r.push({token:i,pos:p.index,single:y,level:a}):x&&y&&(s.content=gp(s.content,p.index,KC))}}}function cse(e){if(e.md.options.typographer)for(let t=e.tokens.length-1;t>=0;t--)e.tokens[t].type!=="inline"||!ose.test(e.tokens[t].content)||use(e.tokens[t].children,e)}function dse(e){let t,n;const r=e.tokens,i=r.length;for(let s=0;s<i;s++){if(r[s].type!=="inline")continue;const a=r[s].children,u=a.length;for(t=0;t<u;t++)a[t].type==="text_special"&&(a[t].type="text");for(t=n=0;t<u;t++)a[t].type==="text"&&t+1<u&&a[t+1].type==="text"?a[t+1].content=a[t].content+a[t+1].content:(t!==n&&(a[n]=a[t]),n++);t!==n&&(a.length=n)}}const ty=[["normalize",Kie],["block",Jie],["inline",Xie],["linkify",ese],["replacements",lse],["smartquotes",cse],["text_join",dse]];function yv(){this.ruler=new Gr;for(let e=0;e<ty.length;e++)this.ruler.push(ty[e][0],ty[e][1])}yv.prototype.process=function(e){const t=this.ruler.getRules("");for(let n=0,r=t.length;n<r;n++)t[n](e)};yv.prototype.State=mA;function _s(e,t,n,r){this.src=e,this.md=t,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const i=this.src;for(let s=0,a=0,u=0,d=0,f=i.length,p=!1;a<f;a++){const m=i.charCodeAt(a);if(!p)if(hn(m)){u++,m===9?d+=4-d%4:d++;continue}else p=!0;(m===10||a===f-1)&&(m!==10&&a++,this.bMarks.push(s),this.eMarks.push(a),this.tShift.push(u),this.sCount.push(d),this.bsCount.push(0),p=!1,u=0,d=0,s=a+1)}this.bMarks.push(i.length),this.eMarks.push(i.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}_s.prototype.push=function(e,t,n){const r=new Yi(e,t,n);return r.block=!0,n<0&&this.level--,r.level=this.level,n>0&&this.level++,this.tokens.push(r),r};_s.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]};_s.prototype.skipEmptyLines=function(t){for(let n=this.lineMax;t<n&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t};_s.prototype.skipSpaces=function(t){for(let n=this.src.length;t<n;t++){const r=this.src.charCodeAt(t);if(!hn(r))break}return t};_s.prototype.skipSpacesBack=function(t,n){if(t<=n)return t;for(;t>n;)if(!hn(this.src.charCodeAt(--t)))return t+1;return t};_s.prototype.skipChars=function(t,n){for(let r=this.src.length;t<r&&this.src.charCodeAt(t)===n;t++);return t};_s.prototype.skipCharsBack=function(t,n,r){if(t<=r)return t;for(;t>r;)if(n!==this.src.charCodeAt(--t))return t+1;return t};_s.prototype.getLines=function(t,n,r,i){if(t>=n)return"";const s=new Array(n-t);for(let a=0,u=t;u<n;u++,a++){let d=0;const f=this.bMarks[u];let p=f,m;for(u+1<n||i?m=this.eMarks[u]+1:m=this.eMarks[u];p<m&&d<r;){const x=this.src.charCodeAt(p);if(hn(x))x===9?d+=4-(d+this.bsCount[u])%4:d++;else if(p-f<this.tShift[u])d++;else break;p++}d>r?s[a]=new Array(d-r+1).join(" ")+this.src.slice(p,m):s[a]=this.src.slice(p,m)}return s.join("")};_s.prototype.Token=Yi;const fse=65536;function ny(e,t){const n=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];return e.src.slice(n,r)}function JC(e){const t=[],n=e.length;let r=0,i=e.charCodeAt(r),s=!1,a=0,u="";for(;r<n;)i===124&&(s?(u+=e.substring(a,r-1),a=r):(t.push(u+e.substring(a,r)),u="",a=r+1)),s=i===92,r++,i=e.charCodeAt(r);return t.push(u+e.substring(a)),t}function hse(e,t,n,r){if(t+2>n)return!1;let i=t+1;if(e.sCount[i]<e.blkIndent||e.sCount[i]-e.blkIndent>=4)return!1;let s=e.bMarks[i]+e.tShift[i];if(s>=e.eMarks[i])return!1;const a=e.src.charCodeAt(s++);if(a!==124&&a!==45&&a!==58||s>=e.eMarks[i])return!1;const u=e.src.charCodeAt(s++);if(u!==124&&u!==45&&u!==58&&!hn(u)||a===45&&hn(u))return!1;for(;s<e.eMarks[i];){const z=e.src.charCodeAt(s);if(z!==124&&z!==45&&z!==58&&!hn(z))return!1;s++}let d=ny(e,t+1),f=d.split("|");const p=[];for(let z=0;z<f.length;z++){const I=f[z].trim();if(!I){if(z===0||z===f.length-1)continue;return!1}if(!/^:?-+:?$/.test(I))return!1;I.charCodeAt(I.length-1)===58?p.push(I.charCodeAt(0)===58?"center":"right"):I.charCodeAt(0)===58?p.push("left"):p.push("")}if(d=ny(e,t).trim(),d.indexOf("|")===-1||e.sCount[t]-e.blkIndent>=4)return!1;f=JC(d),f.length&&f[0]===""&&f.shift(),f.length&&f[f.length-1]===""&&f.pop();const m=f.length;if(m===0||m!==p.length)return!1;if(r)return!0;const x=e.parentType;e.parentType="table";const y=e.md.block.ruler.getRules("blockquote"),v=e.push("table_open","table",1),k=[t,0];v.map=k;const j=e.push("thead_open","thead",1);j.map=[t,t+1];const C=e.push("tr_open","tr",1);C.map=[t,t+1];for(let z=0;z<f.length;z++){const I=e.push("th_open","th",1);p[z]&&(I.attrs=[["style","text-align:"+p[z]]]);const T=e.push("inline","",0);T.content=f[z].trim(),T.children=[],e.push("th_close","th",-1)}e.push("tr_close","tr",-1),e.push("thead_close","thead",-1);let N,A=0;for(i=t+2;i<n&&!(e.sCount[i]<e.blkIndent);i++){let z=!1;for(let T=0,E=y.length;T<E;T++)if(y[T](e,i,n,!0)){z=!0;break}if(z||(d=ny(e,i).trim(),!d)||e.sCount[i]-e.blkIndent>=4||(f=JC(d),f.length&&f[0]===""&&f.shift(),f.length&&f[f.length-1]===""&&f.pop(),A+=m-f.length,A>fse))break;if(i===t+2){const T=e.push("tbody_open","tbody",1);T.map=N=[t+2,0]}const I=e.push("tr_open","tr",1);I.map=[i,i+1];for(let T=0;T<m;T++){const E=e.push("td_open","td",1);p[T]&&(E.attrs=[["style","text-align:"+p[T]]]);const M=e.push("inline","",0);M.content=f[T]?f[T].trim():"",M.children=[],e.push("td_close","td",-1)}e.push("tr_close","tr",-1)}return N&&(e.push("tbody_close","tbody",-1),N[1]=i),e.push("table_close","table",-1),k[1]=i,e.parentType=x,e.line=i,!0}function pse(e,t,n){if(e.sCount[t]-e.blkIndent<4)return!1;let r=t+1,i=r;for(;r<n;){if(e.isEmpty(r)){r++;continue}if(e.sCount[r]-e.blkIndent>=4){r++,i=r;continue}break}e.line=i;const s=e.push("code_block","code",0);return s.content=e.getLines(t,i,4+e.blkIndent,!1)+`
`,s.map=[t,e.line],!0}function mse(e,t,n,r){let i=e.bMarks[t]+e.tShift[t],s=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4||i+3>s)return!1;const a=e.src.charCodeAt(i);if(a!==126&&a!==96)return!1;let u=i;i=e.skipChars(i,a);let d=i-u;if(d<3)return!1;const f=e.src.slice(u,i),p=e.src.slice(i,s);if(a===96&&p.indexOf(String.fromCharCode(a))>=0)return!1;if(r)return!0;let m=t,x=!1;for(;m++,!(m>=n||(i=u=e.bMarks[m]+e.tShift[m],s=e.eMarks[m],i<s&&e.sCount[m]<e.blkIndent));)if(e.src.charCodeAt(i)===a&&!(e.sCount[m]-e.blkIndent>=4)&&(i=e.skipChars(i,a),!(i-u<d)&&(i=e.skipSpaces(i),!(i<s)))){x=!0;break}d=e.sCount[t],e.line=m+(x?1:0);const y=e.push("fence","code",0);return y.info=p,y.content=e.getLines(t+1,m,d,!0),y.markup=f,y.map=[t,e.line],!0}function gse(e,t,n,r){let i=e.bMarks[t]+e.tShift[t],s=e.eMarks[t];const a=e.lineMax;if(e.sCount[t]-e.blkIndent>=4||e.src.charCodeAt(i)!==62)return!1;if(r)return!0;const u=[],d=[],f=[],p=[],m=e.md.block.ruler.getRules("blockquote"),x=e.parentType;e.parentType="blockquote";let y=!1,v;for(v=t;v<n;v++){const A=e.sCount[v]<e.blkIndent;if(i=e.bMarks[v]+e.tShift[v],s=e.eMarks[v],i>=s)break;if(e.src.charCodeAt(i++)===62&&!A){let I=e.sCount[v]+1,T,E;e.src.charCodeAt(i)===32?(i++,I++,E=!1,T=!0):e.src.charCodeAt(i)===9?(T=!0,(e.bsCount[v]+I)%4===3?(i++,I++,E=!1):E=!0):T=!1;let M=I;for(u.push(e.bMarks[v]),e.bMarks[v]=i;i<s;){const L=e.src.charCodeAt(i);if(hn(L))L===9?M+=4-(M+e.bsCount[v]+(E?1:0))%4:M++;else break;i++}y=i>=s,d.push(e.bsCount[v]),e.bsCount[v]=e.sCount[v]+1+(T?1:0),f.push(e.sCount[v]),e.sCount[v]=M-I,p.push(e.tShift[v]),e.tShift[v]=i-e.bMarks[v];continue}if(y)break;let z=!1;for(let I=0,T=m.length;I<T;I++)if(m[I](e,v,n,!0)){z=!0;break}if(z){e.lineMax=v,e.blkIndent!==0&&(u.push(e.bMarks[v]),d.push(e.bsCount[v]),p.push(e.tShift[v]),f.push(e.sCount[v]),e.sCount[v]-=e.blkIndent);break}u.push(e.bMarks[v]),d.push(e.bsCount[v]),p.push(e.tShift[v]),f.push(e.sCount[v]),e.sCount[v]=-1}const k=e.blkIndent;e.blkIndent=0;const j=e.push("blockquote_open","blockquote",1);j.markup=">";const C=[t,0];j.map=C,e.md.block.tokenize(e,t,v);const N=e.push("blockquote_close","blockquote",-1);N.markup=">",e.lineMax=a,e.parentType=x,C[1]=e.line;for(let A=0;A<p.length;A++)e.bMarks[A+t]=u[A],e.tShift[A+t]=p[A],e.sCount[A+t]=f[A],e.bsCount[A+t]=d[A];return e.blkIndent=k,!0}function xse(e,t,n,r){const i=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let s=e.bMarks[t]+e.tShift[t];const a=e.src.charCodeAt(s++);if(a!==42&&a!==45&&a!==95)return!1;let u=1;for(;s<i;){const f=e.src.charCodeAt(s++);if(f!==a&&!hn(f))return!1;f===a&&u++}if(u<3)return!1;if(r)return!0;e.line=t+1;const d=e.push("hr","hr",0);return d.map=[t,e.line],d.markup=Array(u+1).join(String.fromCharCode(a)),!0}function XC(e,t){const n=e.eMarks[t];let r=e.bMarks[t]+e.tShift[t];const i=e.src.charCodeAt(r++);if(i!==42&&i!==45&&i!==43)return-1;if(r<n){const s=e.src.charCodeAt(r);if(!hn(s))return-1}return r}function ZC(e,t){const n=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];let i=n;if(i+1>=r)return-1;let s=e.src.charCodeAt(i++);if(s<48||s>57)return-1;for(;;){if(i>=r)return-1;if(s=e.src.charCodeAt(i++),s>=48&&s<=57){if(i-n>=10)return-1;continue}if(s===41||s===46)break;return-1}return i<r&&(s=e.src.charCodeAt(i),!hn(s))?-1:i}function yse(e,t){const n=e.level+2;for(let r=t+2,i=e.tokens.length-2;r<i;r++)e.tokens[r].level===n&&e.tokens[r].type==="paragraph_open"&&(e.tokens[r+2].hidden=!0,e.tokens[r].hidden=!0,r+=2)}function bse(e,t,n,r){let i,s,a,u,d=t,f=!0;if(e.sCount[d]-e.blkIndent>=4||e.listIndent>=0&&e.sCount[d]-e.listIndent>=4&&e.sCount[d]<e.blkIndent)return!1;let p=!1;r&&e.parentType==="paragraph"&&e.sCount[d]>=e.blkIndent&&(p=!0);let m,x,y;if((y=ZC(e,d))>=0){if(m=!0,a=e.bMarks[d]+e.tShift[d],x=Number(e.src.slice(a,y-1)),p&&x!==1)return!1}else if((y=XC(e,d))>=0)m=!1;else return!1;if(p&&e.skipSpaces(y)>=e.eMarks[d])return!1;if(r)return!0;const v=e.src.charCodeAt(y-1),k=e.tokens.length;m?(u=e.push("ordered_list_open","ol",1),x!==1&&(u.attrs=[["start",x]])):u=e.push("bullet_list_open","ul",1);const j=[d,0];u.map=j,u.markup=String.fromCharCode(v);let C=!1;const N=e.md.block.ruler.getRules("list"),A=e.parentType;for(e.parentType="list";d<n;){s=y,i=e.eMarks[d];const z=e.sCount[d]+y-(e.bMarks[d]+e.tShift[d]);let I=z;for(;s<i;){const q=e.src.charCodeAt(s);if(q===9)I+=4-(I+e.bsCount[d])%4;else if(q===32)I++;else break;s++}const T=s;let E;T>=i?E=1:E=I-z,E>4&&(E=1);const M=z+E;u=e.push("list_item_open","li",1),u.markup=String.fromCharCode(v);const L=[d,0];u.map=L,m&&(u.info=e.src.slice(a,y-1));const D=e.tight,V=e.tShift[d],K=e.sCount[d],J=e.listIndent;if(e.listIndent=e.blkIndent,e.blkIndent=M,e.tight=!0,e.tShift[d]=T-e.bMarks[d],e.sCount[d]=I,T>=i&&e.isEmpty(d+1)?e.line=Math.min(e.line+2,n):e.md.block.tokenize(e,d,n,!0),(!e.tight||C)&&(f=!1),C=e.line-d>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=J,e.tShift[d]=V,e.sCount[d]=K,e.tight=D,u=e.push("list_item_close","li",-1),u.markup=String.fromCharCode(v),d=e.line,L[1]=d,d>=n||e.sCount[d]<e.blkIndent||e.sCount[d]-e.blkIndent>=4)break;let Z=!1;for(let q=0,F=N.length;q<F;q++)if(N[q](e,d,n,!0)){Z=!0;break}if(Z)break;if(m){if(y=ZC(e,d),y<0)break;a=e.bMarks[d]+e.tShift[d]}else if(y=XC(e,d),y<0)break;if(v!==e.src.charCodeAt(y-1))break}return m?u=e.push("ordered_list_close","ol",-1):u=e.push("bullet_list_close","ul",-1),u.markup=String.fromCharCode(v),j[1]=d,e.line=d,e.parentType=A,f&&yse(e,k),!0}function vse(e,t,n,r){let i=e.bMarks[t]+e.tShift[t],s=e.eMarks[t],a=t+1;if(e.sCount[t]-e.blkIndent>=4||e.src.charCodeAt(i)!==91)return!1;function u(N){const A=e.lineMax;if(N>=A||e.isEmpty(N))return null;let z=!1;if(e.sCount[N]-e.blkIndent>3&&(z=!0),e.sCount[N]<0&&(z=!0),!z){const E=e.md.block.ruler.getRules("reference"),M=e.parentType;e.parentType="reference";let L=!1;for(let D=0,V=E.length;D<V;D++)if(E[D](e,N,A,!0)){L=!0;break}if(e.parentType=M,L)return null}const I=e.bMarks[N]+e.tShift[N],T=e.eMarks[N];return e.src.slice(I,T+1)}let d=e.src.slice(i,s+1);s=d.length;let f=-1;for(i=1;i<s;i++){const N=d.charCodeAt(i);if(N===91)return!1;if(N===93){f=i;break}else if(N===10){const A=u(a);A!==null&&(d+=A,s=d.length,a++)}else if(N===92&&(i++,i<s&&d.charCodeAt(i)===10)){const A=u(a);A!==null&&(d+=A,s=d.length,a++)}}if(f<0||d.charCodeAt(f+1)!==58)return!1;for(i=f+2;i<s;i++){const N=d.charCodeAt(i);if(N===10){const A=u(a);A!==null&&(d+=A,s=d.length,a++)}else if(!hn(N))break}const p=e.md.helpers.parseLinkDestination(d,i,s);if(!p.ok)return!1;const m=e.md.normalizeLink(p.str);if(!e.md.validateLink(m))return!1;i=p.pos;const x=i,y=a,v=i;for(;i<s;i++){const N=d.charCodeAt(i);if(N===10){const A=u(a);A!==null&&(d+=A,s=d.length,a++)}else if(!hn(N))break}let k=e.md.helpers.parseLinkTitle(d,i,s);for(;k.can_continue;){const N=u(a);if(N===null)break;d+=N,i=s,s=d.length,a++,k=e.md.helpers.parseLinkTitle(d,i,s,k)}let j;for(i<s&&v!==i&&k.ok?(j=k.str,i=k.pos):(j="",i=x,a=y);i<s;){const N=d.charCodeAt(i);if(!hn(N))break;i++}if(i<s&&d.charCodeAt(i)!==10&&j)for(j="",i=x,a=y;i<s;){const N=d.charCodeAt(i);if(!hn(N))break;i++}if(i<s&&d.charCodeAt(i)!==10)return!1;const C=S0(d.slice(1,f));return C?(r||(typeof e.env.references>"u"&&(e.env.references={}),typeof e.env.references[C]>"u"&&(e.env.references[C]={title:j,href:m}),e.line=a),!0):!1}const wse=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],kse="[a-zA-Z_:][a-zA-Z0-9:._-]*",Sse="[^\"'=<>`\\x00-\\x20]+",Cse="'[^']*'",jse='"[^"]*"',_se="(?:"+Sse+"|"+Cse+"|"+jse+")",Nse="(?:\\s+"+kse+"(?:\\s*=\\s*"+_se+")?)",xA="<[A-Za-z][A-Za-z0-9\\-]*"+Nse+"*\\s*\\/?>",yA="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",Ese="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",Ase="<[?][\\s\\S]*?[?]>",Dse="<![A-Za-z][^>]*>",Tse="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",Mse=new RegExp("^(?:"+xA+"|"+yA+"|"+Ese+"|"+Ase+"|"+Dse+"|"+Tse+")"),Ose=new RegExp("^(?:"+xA+"|"+yA+")"),su=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+wse.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(Ose.source+"\\s*$"),/^$/,!1]];function Rse(e,t,n,r){let i=e.bMarks[t]+e.tShift[t],s=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4||!e.md.options.html||e.src.charCodeAt(i)!==60)return!1;let a=e.src.slice(i,s),u=0;for(;u<su.length&&!su[u][0].test(a);u++);if(u===su.length)return!1;if(r)return su[u][2];let d=t+1;if(!su[u][1].test(a)){for(;d<n&&!(e.sCount[d]<e.blkIndent);d++)if(i=e.bMarks[d]+e.tShift[d],s=e.eMarks[d],a=e.src.slice(i,s),su[u][1].test(a)){a.length!==0&&d++;break}}e.line=d;const f=e.push("html_block","",0);return f.map=[t,d],f.content=e.getLines(t,d,e.blkIndent,!0),!0}function Lse(e,t,n,r){let i=e.bMarks[t]+e.tShift[t],s=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let a=e.src.charCodeAt(i);if(a!==35||i>=s)return!1;let u=1;for(a=e.src.charCodeAt(++i);a===35&&i<s&&u<=6;)u++,a=e.src.charCodeAt(++i);if(u>6||i<s&&!hn(a))return!1;if(r)return!0;s=e.skipSpacesBack(s,i);const d=e.skipCharsBack(s,35,i);d>i&&hn(e.src.charCodeAt(d-1))&&(s=d),e.line=t+1;const f=e.push("heading_open","h"+String(u),1);f.markup="########".slice(0,u),f.map=[t,e.line];const p=e.push("inline","",0);p.content=e.src.slice(i,s).trim(),p.map=[t,e.line],p.children=[];const m=e.push("heading_close","h"+String(u),-1);return m.markup="########".slice(0,u),!0}function Pse(e,t,n){const r=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;const i=e.parentType;e.parentType="paragraph";let s=0,a,u=t+1;for(;u<n&&!e.isEmpty(u);u++){if(e.sCount[u]-e.blkIndent>3)continue;if(e.sCount[u]>=e.blkIndent){let y=e.bMarks[u]+e.tShift[u];const v=e.eMarks[u];if(y<v&&(a=e.src.charCodeAt(y),(a===45||a===61)&&(y=e.skipChars(y,a),y=e.skipSpaces(y),y>=v))){s=a===61?1:2;break}}if(e.sCount[u]<0)continue;let x=!1;for(let y=0,v=r.length;y<v;y++)if(r[y](e,u,n,!0)){x=!0;break}if(x)break}if(!s)return!1;const d=e.getLines(t,u,e.blkIndent,!1).trim();e.line=u+1;const f=e.push("heading_open","h"+String(s),1);f.markup=String.fromCharCode(a),f.map=[t,e.line];const p=e.push("inline","",0);p.content=d,p.map=[t,e.line-1],p.children=[];const m=e.push("heading_close","h"+String(s),-1);return m.markup=String.fromCharCode(a),e.parentType=i,!0}function zse(e,t,n){const r=e.md.block.ruler.getRules("paragraph"),i=e.parentType;let s=t+1;for(e.parentType="paragraph";s<n&&!e.isEmpty(s);s++){if(e.sCount[s]-e.blkIndent>3||e.sCount[s]<0)continue;let f=!1;for(let p=0,m=r.length;p<m;p++)if(r[p](e,s,n,!0)){f=!0;break}if(f)break}const a=e.getLines(t,s,e.blkIndent,!1).trim();e.line=s;const u=e.push("paragraph_open","p",1);u.map=[t,e.line];const d=e.push("inline","",0);return d.content=a,d.map=[t,e.line],d.children=[],e.push("paragraph_close","p",-1),e.parentType=i,!0}const xp=[["table",hse,["paragraph","reference"]],["code",pse],["fence",mse,["paragraph","reference","blockquote","list"]],["blockquote",gse,["paragraph","reference","blockquote","list"]],["hr",xse,["paragraph","reference","blockquote","list"]],["list",bse,["paragraph","reference","blockquote"]],["reference",vse],["html_block",Rse,["paragraph","reference","blockquote"]],["heading",Lse,["paragraph","reference","blockquote"]],["lheading",Pse],["paragraph",zse]];function C0(){this.ruler=new Gr;for(let e=0;e<xp.length;e++)this.ruler.push(xp[e][0],xp[e][1],{alt:(xp[e][2]||[]).slice()})}C0.prototype.tokenize=function(e,t,n){const r=this.ruler.getRules(""),i=r.length,s=e.md.options.maxNesting;let a=t,u=!1;for(;a<n&&(e.line=a=e.skipEmptyLines(a),!(a>=n||e.sCount[a]<e.blkIndent));){if(e.level>=s){e.line=n;break}const d=e.line;let f=!1;for(let p=0;p<i;p++)if(f=r[p](e,a,n,!1),f){if(d>=e.line)throw new Error("block rule didn't increment state.line");break}if(!f)throw new Error("none of the block rules matched");e.tight=!u,e.isEmpty(e.line-1)&&(u=!0),a=e.line,a<n&&e.isEmpty(a)&&(u=!0,a++,e.line=a)}};C0.prototype.parse=function(e,t,n,r){if(!e)return;const i=new this.State(e,t,n,r);this.tokenize(i,i.line,i.lineMax)};C0.prototype.State=_s;function Of(e,t,n,r){this.src=e,this.env=n,this.md=t,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}Of.prototype.pushPending=function(){const e=new Yi("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e};Of.prototype.push=function(e,t,n){this.pending&&this.pushPending();const r=new Yi(e,t,n);let i=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),r.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],i={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(r),this.tokens_meta.push(i),r};Of.prototype.scanDelims=function(e,t){const n=this.posMax,r=this.src.charCodeAt(e),i=e>0?this.src.charCodeAt(e-1):32;let s=e;for(;s<n&&this.src.charCodeAt(s)===r;)s++;const a=s-e,u=s<n?this.src.charCodeAt(s):32,d=af(i)||sf(String.fromCharCode(i)),f=af(u)||sf(String.fromCharCode(u)),p=rf(i),m=rf(u),x=!m&&(!f||p||d),y=!p&&(!d||m||f);return{can_open:x&&(t||!y||d),can_close:y&&(t||!x||f),length:a}};Of.prototype.Token=Yi;function Ise(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function Fse(e,t){let n=e.pos;for(;n<e.posMax&&!Ise(e.src.charCodeAt(n));)n++;return n===e.pos?!1:(t||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}const Bse=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function $se(e,t){if(!e.md.options.linkify||e.linkLevel>0)return!1;const n=e.pos,r=e.posMax;if(n+3>r||e.src.charCodeAt(n)!==58||e.src.charCodeAt(n+1)!==47||e.src.charCodeAt(n+2)!==47)return!1;const i=e.pending.match(Bse);if(!i)return!1;const s=i[1],a=e.md.linkify.matchAtStart(e.src.slice(n-s.length));if(!a)return!1;let u=a.url;if(u.length<=s.length)return!1;u=u.replace(/\*+$/,"");const d=e.md.normalizeLink(u);if(!e.md.validateLink(d))return!1;if(!t){e.pending=e.pending.slice(0,-s.length);const f=e.push("link_open","a",1);f.attrs=[["href",d]],f.markup="linkify",f.info="auto";const p=e.push("text","",0);p.content=e.md.normalizeLinkText(u);const m=e.push("link_close","a",-1);m.markup="linkify",m.info="auto"}return e.pos+=u.length-s.length,!0}function Hse(e,t){let n=e.pos;if(e.src.charCodeAt(n)!==10)return!1;const r=e.pending.length-1,i=e.posMax;if(!t)if(r>=0&&e.pending.charCodeAt(r)===32)if(r>=1&&e.pending.charCodeAt(r-1)===32){let s=r-1;for(;s>=1&&e.pending.charCodeAt(s-1)===32;)s--;e.pending=e.pending.slice(0,s),e.push("hardbreak","br",0)}else e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0);else e.push("softbreak","br",0);for(n++;n<i&&hn(e.src.charCodeAt(n));)n++;return e.pos=n,!0}const bv=[];for(let e=0;e<256;e++)bv.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){bv[e.charCodeAt(0)]=1});function Use(e,t){let n=e.pos;const r=e.posMax;if(e.src.charCodeAt(n)!==92||(n++,n>=r))return!1;let i=e.src.charCodeAt(n);if(i===10){for(t||e.push("hardbreak","br",0),n++;n<r&&(i=e.src.charCodeAt(n),!!hn(i));)n++;return e.pos=n,!0}let s=e.src[n];if(i>=55296&&i<=56319&&n+1<r){const u=e.src.charCodeAt(n+1);u>=56320&&u<=57343&&(s+=e.src[n+1],n++)}const a="\\"+s;if(!t){const u=e.push("text_special","",0);i<256&&bv[i]!==0?u.content=s:u.content=a,u.markup=a,u.info="escape"}return e.pos=n+1,!0}function Vse(e,t){let n=e.pos;if(e.src.charCodeAt(n)!==96)return!1;const i=n;n++;const s=e.posMax;for(;n<s&&e.src.charCodeAt(n)===96;)n++;const a=e.src.slice(i,n),u=a.length;if(e.backticksScanned&&(e.backticks[u]||0)<=i)return t||(e.pending+=a),e.pos+=u,!0;let d=n,f;for(;(f=e.src.indexOf("`",d))!==-1;){for(d=f+1;d<s&&e.src.charCodeAt(d)===96;)d++;const p=d-f;if(p===u){if(!t){const m=e.push("code_inline","code",0);m.markup=a,m.content=e.src.slice(n,f).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return e.pos=d,!0}e.backticks[p]=f}return e.backticksScanned=!0,t||(e.pending+=a),e.pos+=u,!0}function qse(e,t){const n=e.pos,r=e.src.charCodeAt(n);if(t||r!==126)return!1;const i=e.scanDelims(e.pos,!0);let s=i.length;const a=String.fromCharCode(r);if(s<2)return!1;let u;s%2&&(u=e.push("text","",0),u.content=a,s--);for(let d=0;d<s;d+=2)u=e.push("text","",0),u.content=a+a,e.delimiters.push({marker:r,length:0,token:e.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return e.pos+=i.length,!0}function QC(e,t){let n;const r=[],i=t.length;for(let s=0;s<i;s++){const a=t[s];if(a.marker!==126||a.end===-1)continue;const u=t[a.end];n=e.tokens[a.token],n.type="s_open",n.tag="s",n.nesting=1,n.markup="~~",n.content="",n=e.tokens[u.token],n.type="s_close",n.tag="s",n.nesting=-1,n.markup="~~",n.content="",e.tokens[u.token-1].type==="text"&&e.tokens[u.token-1].content==="~"&&r.push(u.token-1)}for(;r.length;){const s=r.pop();let a=s+1;for(;a<e.tokens.length&&e.tokens[a].type==="s_close";)a++;a--,s!==a&&(n=e.tokens[a],e.tokens[a]=e.tokens[s],e.tokens[s]=n)}}function Gse(e){const t=e.tokens_meta,n=e.tokens_meta.length;QC(e,e.delimiters);for(let r=0;r<n;r++)t[r]&&t[r].delimiters&&QC(e,t[r].delimiters)}const bA={tokenize:qse,postProcess:Gse};function Wse(e,t){const n=e.pos,r=e.src.charCodeAt(n);if(t||r!==95&&r!==42)return!1;const i=e.scanDelims(e.pos,r===42);for(let s=0;s<i.length;s++){const a=e.push("text","",0);a.content=String.fromCharCode(r),e.delimiters.push({marker:r,length:i.length,token:e.tokens.length-1,end:-1,open:i.can_open,close:i.can_close})}return e.pos+=i.length,!0}function e8(e,t){const n=t.length;for(let r=n-1;r>=0;r--){const i=t[r];if(i.marker!==95&&i.marker!==42||i.end===-1)continue;const s=t[i.end],a=r>0&&t[r-1].end===i.end+1&&t[r-1].marker===i.marker&&t[r-1].token===i.token-1&&t[i.end+1].token===s.token+1,u=String.fromCharCode(i.marker),d=e.tokens[i.token];d.type=a?"strong_open":"em_open",d.tag=a?"strong":"em",d.nesting=1,d.markup=a?u+u:u,d.content="";const f=e.tokens[s.token];f.type=a?"strong_close":"em_close",f.tag=a?"strong":"em",f.nesting=-1,f.markup=a?u+u:u,f.content="",a&&(e.tokens[t[r-1].token].content="",e.tokens[t[i.end+1].token].content="",r--)}}function Yse(e){const t=e.tokens_meta,n=e.tokens_meta.length;e8(e,e.delimiters);for(let r=0;r<n;r++)t[r]&&t[r].delimiters&&e8(e,t[r].delimiters)}const vA={tokenize:Wse,postProcess:Yse};function Kse(e,t){let n,r,i,s,a="",u="",d=e.pos,f=!0;if(e.src.charCodeAt(e.pos)!==91)return!1;const p=e.pos,m=e.posMax,x=e.pos+1,y=e.md.helpers.parseLinkLabel(e,e.pos,!0);if(y<0)return!1;let v=y+1;if(v<m&&e.src.charCodeAt(v)===40){for(f=!1,v++;v<m&&(n=e.src.charCodeAt(v),!(!hn(n)&&n!==10));v++);if(v>=m)return!1;if(d=v,i=e.md.helpers.parseLinkDestination(e.src,v,e.posMax),i.ok){for(a=e.md.normalizeLink(i.str),e.md.validateLink(a)?v=i.pos:a="",d=v;v<m&&(n=e.src.charCodeAt(v),!(!hn(n)&&n!==10));v++);if(i=e.md.helpers.parseLinkTitle(e.src,v,e.posMax),v<m&&d!==v&&i.ok)for(u=i.str,v=i.pos;v<m&&(n=e.src.charCodeAt(v),!(!hn(n)&&n!==10));v++);}(v>=m||e.src.charCodeAt(v)!==41)&&(f=!0),v++}if(f){if(typeof e.env.references>"u")return!1;if(v<m&&e.src.charCodeAt(v)===91?(d=v+1,v=e.md.helpers.parseLinkLabel(e,v),v>=0?r=e.src.slice(d,v++):v=y+1):v=y+1,r||(r=e.src.slice(x,y)),s=e.env.references[S0(r)],!s)return e.pos=p,!1;a=s.href,u=s.title}if(!t){e.pos=x,e.posMax=y;const k=e.push("link_open","a",1),j=[["href",a]];k.attrs=j,u&&j.push(["title",u]),e.linkLevel++,e.md.inline.tokenize(e),e.linkLevel--,e.push("link_close","a",-1)}return e.pos=v,e.posMax=m,!0}function Jse(e,t){let n,r,i,s,a,u,d,f,p="";const m=e.pos,x=e.posMax;if(e.src.charCodeAt(e.pos)!==33||e.src.charCodeAt(e.pos+1)!==91)return!1;const y=e.pos+2,v=e.md.helpers.parseLinkLabel(e,e.pos+1,!1);if(v<0)return!1;if(s=v+1,s<x&&e.src.charCodeAt(s)===40){for(s++;s<x&&(n=e.src.charCodeAt(s),!(!hn(n)&&n!==10));s++);if(s>=x)return!1;for(f=s,u=e.md.helpers.parseLinkDestination(e.src,s,e.posMax),u.ok&&(p=e.md.normalizeLink(u.str),e.md.validateLink(p)?s=u.pos:p=""),f=s;s<x&&(n=e.src.charCodeAt(s),!(!hn(n)&&n!==10));s++);if(u=e.md.helpers.parseLinkTitle(e.src,s,e.posMax),s<x&&f!==s&&u.ok)for(d=u.str,s=u.pos;s<x&&(n=e.src.charCodeAt(s),!(!hn(n)&&n!==10));s++);else d="";if(s>=x||e.src.charCodeAt(s)!==41)return e.pos=m,!1;s++}else{if(typeof e.env.references>"u")return!1;if(s<x&&e.src.charCodeAt(s)===91?(f=s+1,s=e.md.helpers.parseLinkLabel(e,s),s>=0?i=e.src.slice(f,s++):s=v+1):s=v+1,i||(i=e.src.slice(y,v)),a=e.env.references[S0(i)],!a)return e.pos=m,!1;p=a.href,d=a.title}if(!t){r=e.src.slice(y,v);const k=[];e.md.inline.parse(r,e.md,e.env,k);const j=e.push("image","img",0),C=[["src",p],["alt",""]];j.attrs=C,j.children=k,j.content=r,d&&C.push(["title",d])}return e.pos=s,e.posMax=x,!0}const Xse=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,Zse=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function Qse(e,t){let n=e.pos;if(e.src.charCodeAt(n)!==60)return!1;const r=e.pos,i=e.posMax;for(;;){if(++n>=i)return!1;const a=e.src.charCodeAt(n);if(a===60)return!1;if(a===62)break}const s=e.src.slice(r+1,n);if(Zse.test(s)){const a=e.md.normalizeLink(s);if(!e.md.validateLink(a))return!1;if(!t){const u=e.push("link_open","a",1);u.attrs=[["href",a]],u.markup="autolink",u.info="auto";const d=e.push("text","",0);d.content=e.md.normalizeLinkText(s);const f=e.push("link_close","a",-1);f.markup="autolink",f.info="auto"}return e.pos+=s.length+2,!0}if(Xse.test(s)){const a=e.md.normalizeLink("mailto:"+s);if(!e.md.validateLink(a))return!1;if(!t){const u=e.push("link_open","a",1);u.attrs=[["href",a]],u.markup="autolink",u.info="auto";const d=e.push("text","",0);d.content=e.md.normalizeLinkText(s);const f=e.push("link_close","a",-1);f.markup="autolink",f.info="auto"}return e.pos+=s.length+2,!0}return!1}function eae(e){return/^<a[>\s]/i.test(e)}function tae(e){return/^<\/a\s*>/i.test(e)}function nae(e){const t=e|32;return t>=97&&t<=122}function rae(e,t){if(!e.md.options.html)return!1;const n=e.posMax,r=e.pos;if(e.src.charCodeAt(r)!==60||r+2>=n)return!1;const i=e.src.charCodeAt(r+1);if(i!==33&&i!==63&&i!==47&&!nae(i))return!1;const s=e.src.slice(r).match(Mse);if(!s)return!1;if(!t){const a=e.push("html_inline","",0);a.content=s[0],eae(a.content)&&e.linkLevel++,tae(a.content)&&e.linkLevel--}return e.pos+=s[0].length,!0}const iae=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,sae=/^&([a-z][a-z0-9]{1,31});/i;function aae(e,t){const n=e.pos,r=e.posMax;if(e.src.charCodeAt(n)!==38||n+1>=r)return!1;if(e.src.charCodeAt(n+1)===35){const s=e.src.slice(n).match(iae);if(s){if(!t){const a=s[1][0].toLowerCase()==="x"?parseInt(s[1].slice(1),16):parseInt(s[1],10),u=e.push("text_special","",0);u.content=xv(a)?Nm(a):Nm(65533),u.markup=s[0],u.info="entity"}return e.pos+=s[0].length,!0}}else{const s=e.src.slice(n).match(sae);if(s){const a=fA(s[0]);if(a!==s[0]){if(!t){const u=e.push("text_special","",0);u.content=a,u.markup=s[0],u.info="entity"}return e.pos+=s[0].length,!0}}}return!1}function t8(e){const t={},n=e.length;if(!n)return;let r=0,i=-2;const s=[];for(let a=0;a<n;a++){const u=e[a];if(s.push(0),(e[r].marker!==u.marker||i!==u.token-1)&&(r=a),i=u.token,u.length=u.length||0,!u.close)continue;t.hasOwnProperty(u.marker)||(t[u.marker]=[-1,-1,-1,-1,-1,-1]);const d=t[u.marker][(u.open?3:0)+u.length%3];let f=r-s[r]-1,p=f;for(;f>d;f-=s[f]+1){const m=e[f];if(m.marker===u.marker&&m.open&&m.end<0){let x=!1;if((m.close||u.open)&&(m.length+u.length)%3===0&&(m.length%3!==0||u.length%3!==0)&&(x=!0),!x){const y=f>0&&!e[f-1].open?s[f-1]+1:0;s[a]=a-f+y,s[f]=y,u.open=!1,m.end=a,m.close=!1,p=-1,i=-2;break}}}p!==-1&&(t[u.marker][(u.open?3:0)+(u.length||0)%3]=p)}}function lae(e){const t=e.tokens_meta,n=e.tokens_meta.length;t8(e.delimiters);for(let r=0;r<n;r++)t[r]&&t[r].delimiters&&t8(t[r].delimiters)}function oae(e){let t,n,r=0;const i=e.tokens,s=e.tokens.length;for(t=n=0;t<s;t++)i[t].nesting<0&&r--,i[t].level=r,i[t].nesting>0&&r++,i[t].type==="text"&&t+1<s&&i[t+1].type==="text"?i[t+1].content=i[t].content+i[t+1].content:(t!==n&&(i[n]=i[t]),n++);t!==n&&(i.length=n)}const ry=[["text",Fse],["linkify",$se],["newline",Hse],["escape",Use],["backticks",Vse],["strikethrough",bA.tokenize],["emphasis",vA.tokenize],["link",Kse],["image",Jse],["autolink",Qse],["html_inline",rae],["entity",aae]],iy=[["balance_pairs",lae],["strikethrough",bA.postProcess],["emphasis",vA.postProcess],["fragments_join",oae]];function Rf(){this.ruler=new Gr;for(let e=0;e<ry.length;e++)this.ruler.push(ry[e][0],ry[e][1]);this.ruler2=new Gr;for(let e=0;e<iy.length;e++)this.ruler2.push(iy[e][0],iy[e][1])}Rf.prototype.skipToken=function(e){const t=e.pos,n=this.ruler.getRules(""),r=n.length,i=e.md.options.maxNesting,s=e.cache;if(typeof s[t]<"u"){e.pos=s[t];return}let a=!1;if(e.level<i){for(let u=0;u<r;u++)if(e.level++,a=n[u](e,!0),e.level--,a){if(t>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}else e.pos=e.posMax;a||e.pos++,s[t]=e.pos};Rf.prototype.tokenize=function(e){const t=this.ruler.getRules(""),n=t.length,r=e.posMax,i=e.md.options.maxNesting;for(;e.pos<r;){const s=e.pos;let a=!1;if(e.level<i){for(let u=0;u<n;u++)if(a=t[u](e,!1),a){if(s>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}if(a){if(e.pos>=r)break;continue}e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()};Rf.prototype.parse=function(e,t,n,r){const i=new this.State(e,t,n,r);this.tokenize(i);const s=this.ruler2.getRules(""),a=s.length;for(let u=0;u<a;u++)s[u](i)};Rf.prototype.State=Of;function uae(e){const t={};e=e||{},t.src_Any=lA.source,t.src_Cc=oA.source,t.src_Z=cA.source,t.src_P=mv.source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");const n="[><]";return t.src_pseudo_letter="(?:(?!"+n+"|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|"+n+"|"+t.src_ZPCc+")(?!"+(e["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+n+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]|$)|"+(e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+"|$)|;(?!"+t.src_ZCc+"|$)|\\!+(?!"+t.src_ZCc+"|[!]|$)|\\?(?!"+t.src_ZCc+"|[?]|$))+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}function R2(e){return Array.prototype.slice.call(arguments,1).forEach(function(n){n&&Object.keys(n).forEach(function(r){e[r]=n[r]})}),e}function j0(e){return Object.prototype.toString.call(e)}function cae(e){return j0(e)==="[object String]"}function dae(e){return j0(e)==="[object Object]"}function fae(e){return j0(e)==="[object RegExp]"}function n8(e){return j0(e)==="[object Function]"}function hae(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const wA={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function pae(e){return Object.keys(e||{}).reduce(function(t,n){return t||wA.hasOwnProperty(n)},!1)}const mae={"http:":{validate:function(e,t,n){const r=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){const r=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?t>=3&&e[t-3]===":"||t>=3&&e[t-3]==="/"?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){const r=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},gae="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",xae="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function yae(e){e.__index__=-1,e.__text_cache__=""}function bae(e){return function(t,n){const r=t.slice(n);return e.test(r)?r.match(e)[0].length:0}}function r8(){return function(e,t){t.normalize(e)}}function Em(e){const t=e.re=uae(e.__opts__),n=e.__tlds__.slice();e.onCompile(),e.__tlds_replaced__||n.push(gae),n.push(t.src_xn),t.src_tlds=n.join("|");function r(u){return u.replace("%TLDS%",t.src_tlds)}t.email_fuzzy=RegExp(r(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(r(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(r(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(r(t.tpl_host_fuzzy_test),"i");const i=[];e.__compiled__={};function s(u,d){throw new Error('(LinkifyIt) Invalid schema "'+u+'": '+d)}Object.keys(e.__schemas__).forEach(function(u){const d=e.__schemas__[u];if(d===null)return;const f={validate:null,link:null};if(e.__compiled__[u]=f,dae(d)){fae(d.validate)?f.validate=bae(d.validate):n8(d.validate)?f.validate=d.validate:s(u,d),n8(d.normalize)?f.normalize=d.normalize:d.normalize?s(u,d):f.normalize=r8();return}if(cae(d)){i.push(u);return}s(u,d)}),i.forEach(function(u){e.__compiled__[e.__schemas__[u]]&&(e.__compiled__[u].validate=e.__compiled__[e.__schemas__[u]].validate,e.__compiled__[u].normalize=e.__compiled__[e.__schemas__[u]].normalize)}),e.__compiled__[""]={validate:null,normalize:r8()};const a=Object.keys(e.__compiled__).filter(function(u){return u.length>0&&e.__compiled__[u]}).map(hae).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+a+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+a+")","ig"),e.re.schema_at_start=RegExp("^"+e.re.schema_search.source,"i"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),yae(e)}function vae(e,t){const n=e.__index__,r=e.__last_index__,i=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=i,this.text=i,this.url=i}function L2(e,t){const n=new vae(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function ui(e,t){if(!(this instanceof ui))return new ui(e,t);t||pae(e)&&(t=e,e={}),this.__opts__=R2({},wA,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=R2({},mae,e),this.__compiled__={},this.__tlds__=xae,this.__tlds_replaced__=!1,this.re={},Em(this)}ui.prototype.add=function(t,n){return this.__schemas__[t]=n,Em(this),this};ui.prototype.set=function(t){return this.__opts__=R2(this.__opts__,t),this};ui.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;let n,r,i,s,a,u,d,f,p;if(this.re.schema_test.test(t)){for(d=this.re.schema_search,d.lastIndex=0;(n=d.exec(t))!==null;)if(s=this.testSchemaAt(t,n[2],d.lastIndex),s){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+s;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(f=t.search(this.re.host_fuzzy_test),f>=0&&(this.__index__<0||f<this.__index__)&&(r=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(a=r.index+r[1].length,(this.__index__<0||a<this.__index__)&&(this.__schema__="",this.__index__=a,this.__last_index__=r.index+r[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(p=t.indexOf("@"),p>=0&&(i=t.match(this.re.email_fuzzy))!==null&&(a=i.index+i[1].length,u=i.index+i[0].length,(this.__index__<0||a<this.__index__||a===this.__index__&&u>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=a,this.__last_index__=u))),this.__index__>=0};ui.prototype.pretest=function(t){return this.re.pretest.test(t)};ui.prototype.testSchemaAt=function(t,n,r){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(t,r,this):0};ui.prototype.match=function(t){const n=[];let r=0;this.__index__>=0&&this.__text_cache__===t&&(n.push(L2(this,r)),r=this.__last_index__);let i=r?t.slice(r):t;for(;this.test(i);)n.push(L2(this,r)),i=i.slice(this.__last_index__),r+=this.__last_index__;return n.length?n:null};ui.prototype.matchAtStart=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return null;const n=this.re.schema_at_start.exec(t);if(!n)return null;const r=this.testSchemaAt(t,n[2],n[0].length);return r?(this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+r,L2(this,0)):null};ui.prototype.tlds=function(t,n){return t=Array.isArray(t)?t:[t],n?(this.__tlds__=this.__tlds__.concat(t).sort().filter(function(r,i,s){return r!==s[i-1]}).reverse(),Em(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,Em(this),this)};ui.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),t.schema==="mailto:"&&!/^mailto:/i.test(t.url)&&(t.url="mailto:"+t.url)};ui.prototype.onCompile=function(){};const ku=2147483647,cs=36,vv=1,lf=26,wae=38,kae=700,kA=72,SA=128,CA="-",Sae=/^xn--/,Cae=/[^\0-\x7F]/,jae=/[\x2E\u3002\uFF0E\uFF61]/g,_ae={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},sy=cs-vv,ds=Math.floor,ay=String.fromCharCode;function Ba(e){throw new RangeError(_ae[e])}function Nae(e,t){const n=[];let r=e.length;for(;r--;)n[r]=t(e[r]);return n}function jA(e,t){const n=e.split("@");let r="";n.length>1&&(r=n[0]+"@",e=n[1]),e=e.replace(jae,".");const i=e.split("."),s=Nae(i,t).join(".");return r+s}function _A(e){const t=[];let n=0;const r=e.length;for(;n<r;){const i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){const s=e.charCodeAt(n++);(s&64512)==56320?t.push(((i&1023)<<10)+(s&1023)+65536):(t.push(i),n--)}else t.push(i)}return t}const Eae=e=>String.fromCodePoint(...e),Aae=function(e){return e>=48&&e<58?26+(e-48):e>=65&&e<91?e-65:e>=97&&e<123?e-97:cs},i8=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},NA=function(e,t,n){let r=0;for(e=n?ds(e/kae):e>>1,e+=ds(e/t);e>sy*lf>>1;r+=cs)e=ds(e/sy);return ds(r+(sy+1)*e/(e+wae))},EA=function(e){const t=[],n=e.length;let r=0,i=SA,s=kA,a=e.lastIndexOf(CA);a<0&&(a=0);for(let u=0;u<a;++u)e.charCodeAt(u)>=128&&Ba("not-basic"),t.push(e.charCodeAt(u));for(let u=a>0?a+1:0;u<n;){const d=r;for(let p=1,m=cs;;m+=cs){u>=n&&Ba("invalid-input");const x=Aae(e.charCodeAt(u++));x>=cs&&Ba("invalid-input"),x>ds((ku-r)/p)&&Ba("overflow"),r+=x*p;const y=m<=s?vv:m>=s+lf?lf:m-s;if(x<y)break;const v=cs-y;p>ds(ku/v)&&Ba("overflow"),p*=v}const f=t.length+1;s=NA(r-d,f,d==0),ds(r/f)>ku-i&&Ba("overflow"),i+=ds(r/f),r%=f,t.splice(r++,0,i)}return String.fromCodePoint(...t)},AA=function(e){const t=[];e=_A(e);const n=e.length;let r=SA,i=0,s=kA;for(const d of e)d<128&&t.push(ay(d));const a=t.length;let u=a;for(a&&t.push(CA);u<n;){let d=ku;for(const p of e)p>=r&&p<d&&(d=p);const f=u+1;d-r>ds((ku-i)/f)&&Ba("overflow"),i+=(d-r)*f,r=d;for(const p of e)if(p<r&&++i>ku&&Ba("overflow"),p===r){let m=i;for(let x=cs;;x+=cs){const y=x<=s?vv:x>=s+lf?lf:x-s;if(m<y)break;const v=m-y,k=cs-y;t.push(ay(i8(y+v%k,0))),m=ds(v/k)}t.push(ay(i8(m,0))),s=NA(i,f,u===a),i=0,++u}++i,++r}return t.join("")},Dae=function(e){return jA(e,function(t){return Sae.test(t)?EA(t.slice(4).toLowerCase()):t})},Tae=function(e){return jA(e,function(t){return Cae.test(t)?"xn--"+AA(t):t})},DA={version:"2.3.1",ucs2:{decode:_A,encode:Eae},decode:EA,encode:AA,toASCII:Tae,toUnicode:Dae},Mae={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},Oae={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},Rae={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},Lae={default:Mae,zero:Oae,commonmark:Rae},Pae=/^(vbscript|javascript|file|data):/,zae=/^data:image\/(gif|png|jpeg|webp);/;function Iae(e){const t=e.trim().toLowerCase();return Pae.test(t)?zae.test(t):!0}const TA=["http:","https:","mailto:"];function Fae(e){const t=pv(e,!0);if(t.hostname&&(!t.protocol||TA.indexOf(t.protocol)>=0))try{t.hostname=DA.toASCII(t.hostname)}catch{}return Mf(hv(t))}function Bae(e){const t=pv(e,!0);if(t.hostname&&(!t.protocol||TA.indexOf(t.protocol)>=0))try{t.hostname=DA.toUnicode(t.hostname)}catch{}return Lu(hv(t),Lu.defaultChars+"%")}function Ti(e,t){if(!(this instanceof Ti))return new Ti(e,t);t||gv(e)||(t=e||{},e="default"),this.inline=new Rf,this.block=new C0,this.core=new yv,this.renderer=new Ju,this.linkify=new ui,this.validateLink=Iae,this.normalizeLink=Fae,this.normalizeLinkText=Bae,this.utils=Hie,this.helpers=k0({},Gie),this.options={},this.configure(e),t&&this.set(t)}Ti.prototype.set=function(e){return k0(this.options,e),this};Ti.prototype.configure=function(e){const t=this;if(gv(e)){const n=e;if(e=Lae[n],!e)throw new Error('Wrong `markdown-it` preset "'+n+'", check name')}if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach(function(n){e.components[n].rules&&t[n].ruler.enableOnly(e.components[n].rules),e.components[n].rules2&&t[n].ruler2.enableOnly(e.components[n].rules2)}),this};Ti.prototype.enable=function(e,t){let n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(i){n=n.concat(this[i].ruler.enable(e,!0))},this),n=n.concat(this.inline.ruler2.enable(e,!0));const r=e.filter(function(i){return n.indexOf(i)<0});if(r.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this};Ti.prototype.disable=function(e,t){let n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(i){n=n.concat(this[i].ruler.disable(e,!0))},this),n=n.concat(this.inline.ruler2.disable(e,!0));const r=e.filter(function(i){return n.indexOf(i)<0});if(r.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this};Ti.prototype.use=function(e){const t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this};Ti.prototype.parse=function(e,t){if(typeof e!="string")throw new Error("Input data should be a String");const n=new this.core.State(e,this,t);return this.core.process(n),n.tokens};Ti.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)};Ti.prototype.parseInline=function(e,t){const n=new this.core.State(e,this,t);return n.inlineMode=!0,this.core.process(n),n.tokens};Ti.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)};const $ae=new Vb({nodes:{doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM(){return["p",0]}},blockquote:{content:"block+",group:"block",parseDOM:[{tag:"blockquote"}],toDOM(){return["blockquote",0]}},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM(){return["div",["hr"]]}},heading:{attrs:{level:{default:1}},content:"(text | image)*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM(e){return["h"+e.attrs.level,0]}},code_block:{content:"text*",group:"block",code:!0,defining:!0,marks:"",attrs:{params:{default:""}},parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:e=>({params:e.getAttribute("data-params")||""})}],toDOM(e){return["pre",e.attrs.params?{"data-params":e.attrs.params}:{},["code",0]]}},ordered_list:{content:"list_item+",group:"block",attrs:{order:{default:1},tight:{default:!1}},parseDOM:[{tag:"ol",getAttrs(e){return{order:e.hasAttribute("start")?+e.getAttribute("start"):1,tight:e.hasAttribute("data-tight")}}}],toDOM(e){return["ol",{start:e.attrs.order==1?null:e.attrs.order,"data-tight":e.attrs.tight?"true":null},0]}},bullet_list:{content:"list_item+",group:"block",attrs:{tight:{default:!1}},parseDOM:[{tag:"ul",getAttrs:e=>({tight:e.hasAttribute("data-tight")})}],toDOM(e){return["ul",{"data-tight":e.attrs.tight?"true":null},0]}},list_item:{content:"block+",defining:!0,parseDOM:[{tag:"li"}],toDOM(){return["li",0]}},text:{group:"inline"},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs(e){return{src:e.getAttribute("src"),title:e.getAttribute("title"),alt:e.getAttribute("alt")}}}],toDOM(e){return["img",e.attrs]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM(){return["br"]}}},marks:{em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"},{style:"font-style=normal",clearMark:e=>e.type.name=="em"}],toDOM(){return["em"]}},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!="normal"&&null},{style:"font-weight=400",clearMark:e=>e.type.name=="strong"},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}],toDOM(){return["strong"]}},link:{attrs:{href:{},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs(e){return{href:e.getAttribute("href"),title:e.getAttribute("title")}}}],toDOM(e){return["a",e.attrs]}},code:{code:!0,parseDOM:[{tag:"code"}],toDOM(){return["code"]}}}});function Hae(e,t){if(e.isText&&t.isText&&Jt.sameSet(e.marks,t.marks))return e.withText(e.text+t.text)}class Uae{constructor(t,n){this.schema=t,this.tokenHandlers=n,this.stack=[{type:t.topNodeType,attrs:null,content:[],marks:Jt.none}]}top(){return this.stack[this.stack.length-1]}push(t){this.stack.length&&this.top().content.push(t)}addText(t){if(!t)return;let n=this.top(),r=n.content,i=r[r.length-1],s=this.schema.text(t,n.marks),a;i&&(a=Hae(i,s))?r[r.length-1]=a:r.push(s)}openMark(t){let n=this.top();n.marks=t.addToSet(n.marks)}closeMark(t){let n=this.top();n.marks=t.removeFromSet(n.marks)}parseTokens(t){for(let n=0;n<t.length;n++){let r=t[n],i=this.tokenHandlers[r.type];if(!i)throw new Error("Token type `"+r.type+"` not supported by Markdown parser");i(this,r,t,n)}}addNode(t,n,r){let i=this.top(),s=t.createAndFill(n,r,i?i.marks:[]);return s?(this.push(s),s):null}openNode(t,n){this.stack.push({type:t,attrs:n,content:[],marks:Jt.none})}closeNode(){let t=this.stack.pop();return this.addNode(t.type,t.attrs,t.content)}}function ld(e,t,n,r){return e.getAttrs?e.getAttrs(t,n,r):e.attrs instanceof Function?e.attrs(t):e.attrs}function ly(e,t){return e.noCloseToken||t=="code_inline"||t=="code_block"||t=="fence"}function s8(e){return e[e.length-1]==`
`?e.slice(0,e.length-1):e}function oy(){}function Vae(e,t){let n=Object.create(null);for(let r in t){let i=t[r];if(i.block){let s=e.nodeType(i.block);ly(i,r)?n[r]=(a,u,d,f)=>{a.openNode(s,ld(i,u,d,f)),a.addText(s8(u.content)),a.closeNode()}:(n[r+"_open"]=(a,u,d,f)=>a.openNode(s,ld(i,u,d,f)),n[r+"_close"]=a=>a.closeNode())}else if(i.node){let s=e.nodeType(i.node);n[r]=(a,u,d,f)=>a.addNode(s,ld(i,u,d,f))}else if(i.mark){let s=e.marks[i.mark];ly(i,r)?n[r]=(a,u,d,f)=>{a.openMark(s.create(ld(i,u,d,f))),a.addText(s8(u.content)),a.closeMark(s)}:(n[r+"_open"]=(a,u,d,f)=>a.openMark(s.create(ld(i,u,d,f))),n[r+"_close"]=a=>a.closeMark(s))}else if(i.ignore)ly(i,r)?n[r]=oy:(n[r+"_open"]=oy,n[r+"_close"]=oy);else throw new RangeError("Unrecognized parsing spec "+JSON.stringify(i))}return n.text=(r,i)=>r.addText(i.content),n.inline=(r,i)=>r.parseTokens(i.children),n.softbreak=n.softbreak||(r=>r.addText(" ")),n}class qae{constructor(t,n,r){this.schema=t,this.tokenizer=n,this.tokens=r,this.tokenHandlers=Vae(t,r)}parse(t,n={}){let r=new Uae(this.schema,this.tokenHandlers),i;r.parseTokens(this.tokenizer.parse(t,n));do i=r.closeNode();while(r.stack.length);return i||this.schema.topNodeType.createAndFill()}}function a8(e,t){for(;++t<e.length;)if(e[t].type!="list_item_open")return e[t].hidden;return!1}new qae($ae,Ti("commonmark",{html:!1}),{blockquote:{block:"blockquote"},paragraph:{block:"paragraph"},list_item:{block:"list_item"},bullet_list:{block:"bullet_list",getAttrs:(e,t,n)=>({tight:a8(t,n)})},ordered_list:{block:"ordered_list",getAttrs:(e,t,n)=>({order:+e.attrGet("start")||1,tight:a8(t,n)})},heading:{block:"heading",getAttrs:e=>({level:+e.tag.slice(1)})},code_block:{block:"code_block",noCloseToken:!0},fence:{block:"code_block",getAttrs:e=>({params:e.info||""}),noCloseToken:!0},hr:{node:"horizontal_rule"},image:{node:"image",getAttrs:e=>({src:e.attrGet("src"),title:e.attrGet("title")||null,alt:e.children[0]&&e.children[0].content||null})},hardbreak:{node:"hard_break"},em:{mark:"em"},strong:{mark:"strong"},link:{mark:"link",getAttrs:e=>({href:e.attrGet("href"),title:e.attrGet("title")||null})},code_inline:{mark:"code",noCloseToken:!0}});const Gae={open:"",close:"",mixable:!0};class Wae{constructor(t,n,r={}){this.nodes=t,this.marks=n,this.options=r}serialize(t,n={}){n=Object.assign({},this.options,n);let r=new Yae(this.nodes,this.marks,n);return r.renderContent(t),r.out}}class Yae{constructor(t,n,r){this.nodes=t,this.marks=n,this.options=r,this.delim="",this.out="",this.closed=null,this.inAutolink=void 0,this.atBlockStart=!1,this.inTightList=!1,typeof this.options.tightLists>"u"&&(this.options.tightLists=!1),typeof this.options.hardBreakNodeName>"u"&&(this.options.hardBreakNodeName="hard_break")}flushClose(t=2){if(this.closed){if(this.atBlank()||(this.out+=`
`),t>1){let n=this.delim,r=/\s+$/.exec(n);r&&(n=n.slice(0,n.length-r[0].length));for(let i=1;i<t;i++)this.out+=n+`
`}this.closed=null}}getMark(t){let n=this.marks[t];if(!n){if(this.options.strict!==!1)throw new Error(`Mark type \`${t}\` not supported by Markdown renderer`);n=Gae}return n}wrapBlock(t,n,r,i){let s=this.delim;this.write(n??t),this.delim+=t,i(),this.delim=s,this.closeBlock(r)}atBlank(){return/(^|\n)$/.test(this.out)}ensureNewLine(){this.atBlank()||(this.out+=`
`)}write(t){this.flushClose(),this.delim&&this.atBlank()&&(this.out+=this.delim),t&&(this.out+=t)}closeBlock(t){this.closed=t}text(t,n=!0){let r=t.split(`
`);for(let i=0;i<r.length;i++)this.write(),!n&&r[i][0]=="["&&/(^|[^\\])\!$/.test(this.out)&&(this.out=this.out.slice(0,this.out.length-1)+"\\!"),this.out+=n?this.esc(r[i],this.atBlockStart):r[i],i!=r.length-1&&(this.out+=`
`)}render(t,n,r){if(this.nodes[t.type.name])this.nodes[t.type.name](this,t,n,r);else{if(this.options.strict!==!1)throw new Error("Token type `"+t.type.name+"` not supported by Markdown renderer");t.type.isLeaf||(t.type.inlineContent?this.renderInline(t):this.renderContent(t),t.isBlock&&this.closeBlock(t))}}renderContent(t){t.forEach((n,r,i)=>this.render(n,t,i))}renderInline(t,n=!0){this.atBlockStart=n;let r=[],i="",s=(a,u,d)=>{let f=a?a.marks:[];a&&a.type.name===this.options.hardBreakNodeName&&(f=f.filter(k=>{if(d+1==t.childCount)return!1;let j=t.child(d+1);return k.isInSet(j.marks)&&(!j.isText||/\S/.test(j.text))}));let p=i;if(i="",a&&a.isText&&f.some(k=>{let j=this.getMark(k.type.name);return j&&j.expelEnclosingWhitespace&&!k.isInSet(r)})){let[k,j,C]=/^(\s*)(.*)$/m.exec(a.text);j&&(p+=j,a=C?a.withText(C):null,a||(f=r))}if(a&&a.isText&&f.some(k=>{let j=this.getMark(k.type.name);return j&&j.expelEnclosingWhitespace&&(d==t.childCount-1||!k.isInSet(t.child(d+1).marks))})){let[k,j,C]=/^(.*?)(\s*)$/m.exec(a.text);C&&(i=C,a=j?a.withText(j):null,a||(f=r))}let m=f.length?f[f.length-1]:null,x=m&&this.getMark(m.type.name).escape===!1,y=f.length-(x?1:0);e:for(let k=0;k<y;k++){let j=f[k];if(!this.getMark(j.type.name).mixable)break;for(let C=0;C<r.length;C++){let N=r[C];if(!this.getMark(N.type.name).mixable)break;if(j.eq(N)){k>C?f=f.slice(0,C).concat(j).concat(f.slice(C,k)).concat(f.slice(k+1,y)):C>k&&(f=f.slice(0,k).concat(f.slice(k+1,C)).concat(j).concat(f.slice(C,y)));continue e}}}let v=0;for(;v<Math.min(r.length,y)&&f[v].eq(r[v]);)++v;for(;v<r.length;)this.text(this.markString(r.pop(),!1,t,d),!1);if(p&&this.text(p),a){for(;r.length<y;){let k=f[r.length];r.push(k),this.text(this.markString(k,!0,t,d),!1),this.atBlockStart=!1}x&&a.isText?this.text(this.markString(m,!0,t,d)+a.text+this.markString(m,!1,t,d+1),!1):this.render(a,t,d),this.atBlockStart=!1}a?.isText&&a.nodeSize>0&&(this.atBlockStart=!1)};t.forEach(s),s(null,0,t.childCount),this.atBlockStart=!1}renderList(t,n,r){this.closed&&this.closed.type==t.type?this.flushClose(3):this.inTightList&&this.flushClose(1);let i=typeof t.attrs.tight<"u"?t.attrs.tight:this.options.tightLists,s=this.inTightList;this.inTightList=i,t.forEach((a,u,d)=>{d&&i&&this.flushClose(1),this.wrapBlock(n,r(d),t,()=>this.render(a,t,d))}),this.inTightList=s}esc(t,n=!1){return t=t.replace(/[`*\\~\[\]_]/g,(r,i)=>r=="_"&&i>0&&i+1<t.length&&t[i-1].match(/\w/)&&t[i+1].match(/\w/)?r:"\\"+r),n&&(t=t.replace(/^(\+[ ]|[\-*>])/,"\\$&").replace(/^(\s*)(#{1,6})(\s|$)/,"$1\\$2$3").replace(/^(\s*\d+)\.\s/,"$1\\. ")),this.options.escapeExtraCharacters&&(t=t.replace(this.options.escapeExtraCharacters,"\\$&")),t}quote(t){let n=t.indexOf('"')==-1?'""':t.indexOf("'")==-1?"''":"()";return n[0]+t+n[1]}repeat(t,n){let r="";for(let i=0;i<n;i++)r+=t;return r}markString(t,n,r,i){let s=this.getMark(t.type.name),a=n?s.open:s.close;return typeof a=="string"?a:a(this,t,r,i)}getEnclosingWhitespace(t){return{leading:(t.match(/^(\s+)/)||[void 0])[0],trailing:(t.match(/(\s+)$/)||[void 0])[0]}}}function Bl(e){return(e||"").replace(/(\*|_|`|\[|\]|\||\\)/g,"\\$1")}function Kae(e){return String(e||"").replace(/\s+/g," ").trim()}function Jae(e){const t=[];let n=!1;if(e.forEach(p=>{const m=[];p.forEach(x=>{x.type.name==="table_header"&&(n=!0),m.push(Kae(x.textContent))}),t.push(m)}),t.length===0)return"";const r=Math.max(...t.map(p=>p.length),0),i=t.map(p=>{const m=p.slice();for(;m.length<r;)m.push("");return m}),s=n?i[0]:i[0].map((p,m)=>`col${m+1}`),a=i.slice(1),u=s.map(()=>"---"),d=p=>`| ${p.map(m=>Bl(m||"")).join(" | ")} |`,f=[];f.push(d(s)),f.push(d(u));for(const p of a)f.push(d(p));return f.join(`
`)}function Xae(e){const t={doc:(r,i)=>r.renderContent(i),paragraph:(r,i)=>r.renderInline(i)&&r.closeBlock(i),text:(r,i)=>r.text(i.text||""),heading:(r,i)=>{r.write(r.repeat("#",i.attrs.level)+" "),r.renderInline(i),r.closeBlock(i)},blockquote:(r,i)=>{r.wrapBlock("> ",null,i,()=>r.renderContent(i))},code_block:(r,i)=>{r.write("```"),r.ensureNewLine(),r.text(i.textContent,!1),r.ensureNewLine(),r.write("```"),r.closeBlock(i)},hard_break:r=>r.write(`\\
`),horizontal_rule:(r,i)=>{r.write("---"),r.closeBlock(i)},bullet_list:(r,i)=>r.renderList(i,"  ",()=>"- "),ordered_list:(r,i)=>{const s=i.attrs.order||1;let a=0;r.renderList(i,"  ",()=>`${s+a++}. `)},list_item:(r,i)=>r.renderContent(i),table:(r,i)=>{const s=Jae(i);r.write(s||"[Table]"),r.closeBlock(i)},image:(r,i)=>{const s=Bl(i.attrs.alt||"image"),a=String(i.attrs.src||""),u=i.attrs.title?` "${Bl(String(i.attrs.title))}"`:"";r.write(`![${s}](${a}${u})`),r.closeBlock(i)},mention:(r,i)=>{r.text(`@${i.attrs.label||"mention"}`,!1)},page_link:(r,i)=>{const s=String(i.attrs.title||"page"),a=String(i.attrs.pageId||""),u=String(i.attrs.display||"link");r.write(`[[${Bl(s)}|${Bl(a)}|${Bl(u)}]]`),r.closeBlock(i)}},n={em:{open:"*",close:"*",mixable:!0,expelEnclosingWhitespace:!0},strong:{open:"**",close:"**",mixable:!0,expelEnclosingWhitespace:!0},code:{open:"`",close:"`"},link:{open:"[",close:(r,i)=>{const s=String(i.attrs.href||""),a=i.attrs.title?` "${Bl(String(i.attrs.title))}"`:"";return`](${s}${a})`}}};return new Wae(t,n)}function l8(e,t){return Xae().serialize(t,{tightLists:!0})}function Zae(){const e=document.createElement("div");return e.innerHTML="<p></p>",Au.fromSchema(_n).parse(e)}function Qae({initialDocJson:e,onChange:t}){const n=b.useRef(null),r=b.useRef(null),[i,s]=b.useState(""),[a,u]=b.useState(e||null),d=b.useMemo(()=>Fre(_n,{mention:{enabled:!0}}),[]);b.useEffect(()=>{if(!n.current||r.current)return;const m=e&&typeof e=="object"?_n.nodeFromJSON(e):Zae(),x=hu.create({schema:_n,doc:m,plugins:d}),y=new $E(n.current,{state:x,nodeViews:{page_link:(v,k,j)=>new Hre(v,k,j)},dispatchTransaction:function(v){const k=this.state.apply(v);this.updateState(k);const j=k.doc.toJSON();u(j),t?.(j),s(l8(_n,k.doc))},attributes:{class:"pm-editor ProseMirror"}});return r.current=y,s(l8(_n,m)),u(m.toJSON()),t?.(m.toJSON()),()=>{y.destroy(),r.current=null}},[]);const f=m=>{const x=r.current;x&&(m(x.state,x.dispatch,x),x.focus())},p=()=>{const m=r.current;if(!m)return;const x=window.prompt("Link URL?","https://");if(!x)return;const{state:y,dispatch:v}=m,k=_n.marks.link.create({href:x});v(y.tr.addMark(y.selection.from,y.selection.to,k)),m.focus()};return l.jsxs("div",{className:"w-full",children:[l.jsxs("div",{className:"flex flex-wrap gap-2 border rounded-md p-2 bg-background",children:[l.jsx("button",{className:"px-2 py-1 border rounded",onClick:()=>f(Ure(_n)),children:"Bold"}),l.jsx("button",{className:"px-2 py-1 border rounded",onClick:()=>f(Vre(_n)),children:"Italic"}),l.jsx("button",{className:"px-2 py-1 border rounded",onClick:()=>f(qre(_n)),children:"Code"}),l.jsx("button",{className:"px-2 py-1 border rounded",onClick:p,children:"Link"}),l.jsx("span",{className:"mx-2 opacity-40",children:"|"}),l.jsx("button",{className:"px-2 py-1 border rounded",onClick:()=>f(Gre(_n)),children:"P"}),l.jsx("button",{className:"px-2 py-1 border rounded",onClick:()=>f(Qx(_n,1)),children:"H1"}),l.jsx("button",{className:"px-2 py-1 border rounded",onClick:()=>f(Qx(_n,2)),children:"H2"}),l.jsx("button",{className:"px-2 py-1 border rounded",onClick:()=>f(Qx(_n,3)),children:"H3"}),l.jsx("button",{className:"px-2 py-1 border rounded",onClick:()=>f(Wre(_n)),children:"Quote"}),l.jsx("button",{className:"px-2 py-1 border rounded",onClick:()=>f(tie()),children:"Duplicate Block"}),l.jsx("button",{className:"px-2 py-1 border rounded",onClick:()=>f(Yre(_n)),children:"Code Block"}),l.jsx("button",{className:"px-2 py-1 border rounded",onClick:()=>f(Kre(_n)),children:"Bullet"}),l.jsx("button",{className:"px-2 py-1 border rounded",onClick:()=>f(Jre(_n)),children:"Ordered"}),l.jsx("button",{className:"px-2 py-1 border rounded",onClick:()=>f(Xre(_n)),children:"HR"}),l.jsx("span",{className:"mx-2 opacity-40",children:"|"}),l.jsx("button",{className:"px-2 py-1 border rounded",onClick:()=>{const m=window.prompt("Image URL?","https://");m&&f(Zre(_n,{src:m}))},children:"Image"}),l.jsx("button",{className:"px-2 py-1 border rounded",onClick:()=>{const m=window.prompt("Mention label?","kangwoo")||"";m&&f(Qre(_n,{id:`mock_${m}`,label:m,type:"user"}))},children:"Mention"}),l.jsx("button",{className:"px-2 py-1 border rounded",onClick:()=>{const m=window.prompt("Target pageId (posts.id)?","")||"";if(!m)return;const x=window.prompt("Title (optional)","")||"",y=window.prompt("display? (link|embed)","link")||"link";f(eie(_n,{pageId:m,title:x,display:y}))},children:"Page Link"}),l.jsx("span",{className:"mx-2 opacity-40",children:"|"}),l.jsx("button",{className:"px-2 py-1 border rounded",onClick:()=>f(ad.addRowAfter),children:"Row+"}),l.jsx("button",{className:"px-2 py-1 border rounded",onClick:()=>f(ad.addColumnAfter),children:"Col+"}),l.jsx("button",{className:"px-2 py-1 border rounded",onClick:()=>f(ad.mergeCells),children:"Merge"}),l.jsx("button",{className:"px-2 py-1 border rounded",onClick:()=>f(ad.splitCell),children:"Split"}),l.jsx("button",{className:"px-2 py-1 border rounded",onClick:()=>f(ad.deleteTable),children:"Del Table"})]}),l.jsx("div",{className:"mt-3 border rounded-md p-3 bg-white",children:l.jsx("div",{ref:n})}),l.jsxs("div",{className:"mt-4 grid grid-cols-1 lg:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-semibold mb-2",children:"docJson"}),l.jsx("pre",{className:"text-xs whitespace-pre-wrap border rounded-md p-3 bg-muted max-h-[320px] overflow-auto",children:JSON.stringify(a,null,2)})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-semibold mb-2",children:"Markdown (export)"}),l.jsx("pre",{className:"text-xs whitespace-pre-wrap border rounded-md p-3 bg-muted max-h-[320px] overflow-auto",children:i})]})]})]})}function uy(){const e=localStorage.getItem("token"),t={};return e&&(t.Authorization=`Bearer ${e}`),t}function o8(){const{id:e}=oO(),t=ea(),n=e||"",r=n==="new",i=n,[s,a]=b.useState(!0),[u,d]=b.useState(null),[f,p]=b.useState(0),[m,x]=b.useState(null),[y,v]=b.useState(null),[k,j]=b.useState(!0),[C,N]=b.useState([]),A=b.useMemo(()=>!!i&&!!y,[i,y]);b.useEffect(()=>{let M=!1;async function L(){a(!0),d(null);try{const D={"Content-Type":"application/json",...uy()};if(!D.Authorization)throw new Error(" . (token missing)");if(r){const Z=await fetch("/api/posts",{method:"POST",headers:D,body:JSON.stringify({title:"Untitled",page_type:"page",status:"draft",visibility:"private"})});if(!Z.ok)throw new Error(await Z.text());const q=await Z.json(),F=String(q.id||"");if(!F)throw new Error("Failed to create post (missing id)");if(M)return;t(`/posts/${F}/edit`,{replace:!0});return}const V=await fetch("/api/posts/mine",{headers:D});if(V.ok){const Z=await V.json();!M&&Array.isArray(Z)&&N(Z)}const K=await fetch(`/api/posts/${i}/content`,{headers:D});if(!K.ok)throw new Error(await K.text());const J=await K.json();if(M)return;p(Number(J.version||0)),x(J.docJson||null),v(J.docJson||null)}catch(D){if(M)return;d(D?.message||"Failed to load")}finally{M||a(!1)}}return i&&L(),()=>{M=!0}},[i,r,t]);async function z(){if(A){d(null);try{const M=await fetch(`/api/posts/${i}/content`,{method:"POST",headers:{"Content-Type":"application/json",...uy()},body:JSON.stringify({docJson:y,version:f})});if(M.status===409){const D=await M.json().catch(()=>({}));d(`Version conflict (server: ${D.currentVersion}). Reload and try again.`);return}if(!M.ok)throw new Error(await M.text());const L=await M.json();p(Number(L.version||f+1))}catch(M){d(M?.message||"Failed to save")}}}const I=b.useMemo(()=>C.filter(M=>!M.parent_id),[C]),T=b.useMemo(()=>{const M=new Map;for(const L of C){if(!L.parent_id)continue;const D=M.get(L.parent_id)||[];D.push(L),M.set(L.parent_id,D)}for(const[L,D]of M.entries())D.sort((V,K)=>(V.page_order||0)-(K.page_order||0)),M.set(L,D);return M},[C]);async function E(){d(null);try{const M=await fetch("/api/posts",{method:"POST",headers:{"Content-Type":"application/json",...uy()},body:JSON.stringify({title:"Untitled",page_type:"page",status:"draft",visibility:"private"})});if(!M.ok)throw new Error(await M.text());const L=await M.json(),D=String(L.id||"");if(!D)throw new Error("Failed to create post (missing id)");t(`/posts/${D}/edit`)}catch(M){d(M?.message||"Failed to create")}}return l.jsxs("div",{className:"w-full h-[calc(100vh-0px)] flex bg-background",children:[l.jsxs("div",{className:["h-full border-r bg-sidebar text-sidebar-foreground transition-all duration-200",k?"w-[280px]":"w-[56px]"].join(" "),children:[l.jsxs("div",{className:"h-12 flex items-center justify-between px-3 border-b",children:[k?l.jsx("div",{className:"font-semibold",children:" "}):l.jsx("div",{className:"font-semibold",children:"P"}),l.jsxs("div",{className:"flex items-center gap-2",children:[k?l.jsx("button",{className:"p-2 rounded hover:bg-accent/50",onClick:E,title:" ",children:l.jsx(Rn,{className:"size-4"})}):null,l.jsx("button",{className:"p-2 rounded hover:bg-accent/50",onClick:()=>j(M=>!M),title:"",children:k?l.jsx(df,{className:"size-4"}):l.jsx(ms,{className:"size-4"})})]})]}),k?l.jsxs("div",{className:"p-2 overflow-auto h-[calc(100%-48px)]",children:[I.length===0?l.jsx("div",{className:"text-sm opacity-70 px-2 py-2",children:"  ."}):null,l.jsx("div",{className:"flex flex-col gap-1",children:I.map(M=>l.jsxs("div",{children:[l.jsxs("button",{className:["w-full flex items-center gap-2 px-2 py-2 rounded hover:bg-accent/50 text-left",M.id===i?"bg-accent":""].join(" "),onClick:()=>t(`/posts/${M.id}/edit`),children:[l.jsx(Dy,{className:"size-4"}),l.jsx("span",{className:"truncate",children:M.title||"Untitled"})]}),(T.get(M.id)||[]).map(L=>l.jsxs("button",{className:["w-full flex items-center gap-2 pl-8 pr-2 py-2 rounded hover:bg-accent/50 text-left",L.id===i?"bg-accent":""].join(" "),onClick:()=>t(`/posts/${L.id}/edit`),children:[l.jsx(Dy,{className:"size-4 opacity-70"}),l.jsx("span",{className:"truncate",children:L.title||"Untitled"})]},L.id))]},M.id))})]}):l.jsx("div",{className:"p-2 flex flex-col gap-2",children:l.jsx("button",{className:"p-2 rounded hover:bg-accent/50",onClick:E,title:" ",children:l.jsx(Rn,{className:"size-5"})})})]}),l.jsx("div",{className:"flex-1 h-full overflow-auto",children:l.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6",children:[l.jsxs("div",{className:"flex items-center justify-between gap-3 mb-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xl font-semibold",children:"Post Editor"}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:["postId: ",l.jsx("span",{className:"font-mono",children:i}),"  version: ",f]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{className:"px-3 py-2 border rounded-md disabled:opacity-50",onClick:()=>window.location.reload(),children:"Reload"}),l.jsx("button",{className:"px-3 py-2 border rounded-md disabled:opacity-50",disabled:!A,onClick:z,children:"Save"})]})]}),u&&l.jsx("div",{className:"mb-4 text-sm text-red-600 whitespace-pre-wrap",children:u}),u?.includes(" ")?l.jsx("div",{className:"mb-4",children:l.jsx("button",{className:"px-3 py-2 border rounded-md",onClick:()=>t("/"),children:" "})}):null,s?l.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading"}):l.jsx(Qae,{initialDocJson:m,onChange:v})]})})]})}const u8="http://localhost:3002/api/users",ele="http://localhost:3002/api/roles";function tle(){const[e,t]=b.useState([]),[n,r]=b.useState([]),[i,s]=b.useState({page:1,limit:10,total:0,totalPages:0}),[a,u]=b.useState(!0),[d,f]=b.useState(""),[p,m]=b.useState(!1),[x,y]=b.useState(null),[v,k]=b.useState({full_name:"",status:"active",email_verified:!1,role_id:""}),[j,C]=b.useState(!1),N=()=>{const D=localStorage.getItem("token");return D?{Authorization:`Bearer ${D}`}:{}};b.useEffect(()=>{z(),A()},[i.page,d]);const A=async()=>{try{const D=await fetch(ele,{headers:N()});if(D.ok){const V=await D.json();r(V)}}catch(D){console.error("Failed to fetch roles",D)}},z=async()=>{u(!0);try{const D=new URLSearchParams({page:i.page.toString(),limit:i.limit.toString(),search:d}),V=await fetch(`${u8}?${D}`,{headers:N()});if(V.ok){const K=await V.json();t(K.users),s(K.pagination)}}catch(D){console.error("Failed to fetch users",D)}finally{u(!1)}},I=D=>{D.preventDefault(),s(V=>({...V,page:1}))},T=()=>{const D=n.map(V=>({...V,ln:V.name.toLowerCase()}));return D.find(V=>V.ln==="user")?.id||D.find(V=>V.ln.includes("user"))?.id||n[0]?.id||""},E=D=>{y(D),k({full_name:D.full_name||"",status:D.status,email_verified:D.email_verified,role_id:D.role_id||T()}),m(!0)};b.useEffect(()=>{p&&x&&!v.role_id&&n.length>0&&k(D=>({...D,role_id:D.role_id||T()}))},[n]);const M=async()=>{if(!x)return;const D=v.role_id||T();if(!D){alert("  . (roles    )");return}try{C(!0);const V=await fetch(`${u8}/${x.id}`,{method:"PUT",headers:{"Content-Type":"application/json",...N()},body:JSON.stringify({...v,role_id:D})});if(V.ok)m(!1),z();else{const K=await V.text();alert(`  : ${K||"   "}`),console.error("Failed to update user",K)}}catch(V){console.error("Failed to update user",V),alert("    .")}finally{C(!1)}},L=D=>{switch(D){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";case"suspended":return"bg-red-100 text-red-800";case"locked":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return l.jsxs("div",{className:"space-y-4 bg-background",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("div",{children:l.jsx("p",{className:"text-muted-foreground",children:"    ."})})}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs("form",{onSubmit:I,className:"flex gap-2",children:[l.jsx(Re,{placeholder:"   ...",value:d,onChange:D=>f(D.target.value),className:"w-[300px]"}),l.jsxs(xe,{type:"submit",variant:"secondary",children:[l.jsx(ws,{className:"h-4 w-4 mr-2"})," "]})]})}),l.jsx("div",{className:"border rounded-md",children:l.jsxs(sr,{children:[l.jsx(ar,{children:l.jsxs(qe,{children:[l.jsx(ve,{children:""}),l.jsx(ve,{children:""}),l.jsx(ve,{children:""}),l.jsx(ve,{children:""})," ",l.jsx(ve,{children:" "}),l.jsx(ve,{children:" "}),l.jsx(ve,{children:""}),l.jsx(ve,{className:"text-right",children:""})]})}),l.jsx(lr,{children:a?l.jsx(qe,{children:l.jsx(ce,{colSpan:8,className:"h-24 text-center",children:l.jsx(Pt,{className:"h-6 w-6 animate-spin mx-auto"})})}):e.length===0?l.jsx(qe,{children:l.jsx(ce,{colSpan:8,className:"h-24 text-center",children:"  ."})}):e.map(D=>l.jsxs(qe,{children:[l.jsx(ce,{className:"font-medium",children:D.full_name||"-"}),l.jsx(ce,{children:D.email}),l.jsx(ce,{children:l.jsx(vt,{variant:"outline",className:`border-0 ${L(D.status)}`,children:D.status.toUpperCase()})}),l.jsx(ce,{children:l.jsx(vt,{variant:"secondary",children:D.role_name||D.role_slug||""})}),l.jsx(ce,{children:D.email_verified?l.jsx("span",{className:"text-green-600 font-medium text-xs",children:"Verified"}):l.jsx("span",{className:"text-gray-400 font-medium text-xs",children:"Unverified"})}),l.jsx(ce,{className:"text-xs text-muted-foreground",children:D.last_login_at?new Date(D.last_login_at).toLocaleString():"-"}),l.jsx(ce,{className:"text-xs text-muted-foreground",children:new Date(D.created_at).toLocaleDateString()}),l.jsx(ce,{className:"text-right",children:l.jsx(xe,{variant:"ghost",size:"icon",onClick:()=>E(D),children:l.jsx(zr,{className:"h-4 w-4"})})})]},D.id))})]})}),l.jsxs("div",{className:"flex items-center justify-end space-x-2 py-4",children:[l.jsxs("div",{className:"flex-1 text-sm text-muted-foreground",children:["Total ",i.total," users"]}),l.jsxs("div",{className:"space-x-2",children:[l.jsxs(xe,{variant:"outline",size:"sm",onClick:()=>s(D=>({...D,page:D.page-1})),disabled:i.page<=1,children:[l.jsx(df,{className:"h-4 w-4"}),"Previous"]}),l.jsxs("div",{className:"inline-flex items-center text-sm font-medium",children:["Page ",i.page," of ",i.totalPages||1]}),l.jsxs(xe,{variant:"outline",size:"sm",onClick:()=>s(D=>({...D,page:D.page+1})),disabled:i.page>=i.totalPages,children:["Next",l.jsx(ms,{className:"h-4 w-4"})]})]})]}),l.jsx(Yn,{open:p,onOpenChange:m,children:l.jsxs(Kn,{className:"sm:max-w-[425px]",children:[l.jsxs(Jn,{children:[l.jsx(Xn,{children:"  "}),l.jsx(vr,{children:"    ."})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{className:"text-right",children:""}),l.jsx("div",{className:"col-span-3 text-sm font-medium",children:x?.email})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"full_name",className:"text-right",children:""}),l.jsx(Re,{id:"full_name",value:v.full_name,onChange:D=>k({...v,full_name:D.target.value}),className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"role",className:"text-right",children:""}),l.jsxs(rt,{value:v.role_id,onValueChange:D=>k({...v,role_id:D}),children:[l.jsx(st,{className:"col-span-3",children:l.jsx(it,{placeholder:"Select role"})}),l.jsx(at,{children:n.map(D=>l.jsx(ye,{value:D.id,children:D.name},D.id))})]})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"status",className:"text-right",children:""}),l.jsxs(rt,{value:v.status,onValueChange:D=>k({...v,status:D}),children:[l.jsx(st,{className:"col-span-3",children:l.jsx(it,{placeholder:"Select status"})}),l.jsxs(at,{children:[l.jsx(ye,{value:"active",children:"Active"}),l.jsx(ye,{value:"inactive",children:"Inactive"}),l.jsx(ye,{value:"suspended",children:"Suspended"}),l.jsx(ye,{value:"locked",children:"Locked"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"email_verified",className:"text-right",children:" "}),l.jsxs(rt,{value:v.email_verified?"true":"false",onValueChange:D=>k({...v,email_verified:D==="true"}),children:[l.jsx(st,{className:"col-span-3",children:l.jsx(it,{placeholder:"Verification status"})}),l.jsxs(at,{children:[l.jsx(ye,{value:"true",children:"Verified"}),l.jsx(ye,{value:"false",children:"Unverified"})]})]})]})]}),l.jsx(br,{children:l.jsxs(xe,{onClick:M,disabled:j,children:[j?l.jsx(Pt,{className:"h-4 w-4 mr-2 animate-spin"}):null,""]})})]})})]})}function An({className:e,...t}){return l.jsx("textarea",{"data-slot":"textarea",className:Ae("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}const au="http://localhost:3002/api";function nle(){const{setAction:e}=Gi(),[t,n]=b.useState([]),[r,i]=b.useState([]),[s,a]=b.useState(!0),[u,d]=b.useState(!1),[f,p]=b.useState(null),[m,x]=b.useState({name:"",slug:"",description:"",is_global:!0,permissionIds:[]}),y=()=>{const T=localStorage.getItem("token"),E={};return T&&(E.Authorization=`Bearer ${T}`),E};b.useEffect(()=>{v(),k()},[]);const v=async()=>{a(!0);try{const T=await fetch(`${au}/roles`,{headers:{...y()}});if(T.ok){const E=await T.json();n(E)}}catch(T){console.error("Failed to fetch roles",T)}finally{a(!1)}},k=async()=>{try{const T=await fetch(`${au}/permissions`,{headers:{...y()}});if(T.ok){const E=await T.json();i(E)}}catch(T){console.error("Failed to fetch permissions",T)}},j=()=>{p(null),x({name:"",slug:"",description:"",is_global:!0,permissionIds:[]}),d(!0)};b.useEffect(()=>(e(l.jsxs(xe,{onClick:j,size:"sm",children:[l.jsx(Rn,{className:"mr-2 h-4 w-4"}),"  "]})),()=>e(null)),[e]);const C=async T=>{try{const E=await fetch(`${au}/roles/${T.id}`,{headers:{...y()}});if(E.ok){const M=await E.json();p(M),x({name:M.name,slug:M.slug,description:M.description||"",is_global:M.is_global,permissionIds:M.permissions?.map(L=>L.id)||[]}),d(!0)}}catch(E){console.error("Failed to fetch role details",E)}},N=async T=>{if(confirm(" ?        ."))try{const E=await fetch(`${au}/roles/${T}`,{method:"DELETE",headers:{...y()}});if(E.ok)v();else{const M=await E.json();alert(`  : ${M.message}`)}}catch(E){console.error("Failed to delete role",E),alert("    .")}},A=async()=>{try{const T=f?"PUT":"POST",E=f?`${au}/roles/${f.id}`:`${au}/roles`;if(!m.is_global&&!confirm(`   ' '  .
' '    ID     .
 ?`))return;const M=await fetch(E,{method:T,headers:{"Content-Type":"application/json",...y()},body:JSON.stringify({name:m.name,slug:m.slug,description:m.description,is_global:m.is_global,permissions:m.permissionIds})});if(M.ok)d(!1),v();else{const L=await M.json();alert(` : ${L.message||"   "}
${L.details||""}`)}}catch(T){console.error("Failed to save role",T),alert("    .")}},z=T=>{x(E=>{const M=E.permissionIds.includes(T)?E.permissionIds.filter(L=>L!==T):[...E.permissionIds,T];return{...E,permissionIds:M}})},I=r.reduce((T,E)=>(T[E.resource]||(T[E.resource]=[]),T[E.resource].push(E),T),{});return l.jsxs("div",{className:"space-y-4 bg-background",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("div",{children:l.jsx("p",{className:"text-muted-foreground",children:"    ."})})}),l.jsx("div",{className:"border rounded-md",children:l.jsxs(sr,{children:[l.jsx(ar,{children:l.jsxs(qe,{children:[l.jsx(ve,{children:""}),l.jsx(ve,{children:"(Slug)"}),l.jsx(ve,{children:""}),l.jsx(ve,{children:""}),l.jsx(ve,{children:""}),l.jsx(ve,{className:"text-right",children:""})]})}),l.jsx(lr,{children:s?l.jsx(qe,{children:l.jsx(ce,{colSpan:6,className:"h-24 text-center",children:l.jsx(Pt,{className:"h-6 w-6 animate-spin mx-auto"})})}):t.length===0?l.jsx(qe,{children:l.jsx(ce,{colSpan:6,className:"h-24 text-center",children:"  ."})}):t.map(T=>l.jsxs(qe,{children:[l.jsx(ce,{className:"font-medium",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(kL,{className:"h-4 w-4 text-muted-foreground"}),T.name]})}),l.jsx(ce,{children:l.jsx(vt,{variant:"outline",className:"font-mono text-xs",children:T.slug})}),l.jsx(ce,{className:"max-w-[300px] truncate",title:T.description,children:T.description}),l.jsx(ce,{children:T.is_system_role?l.jsx(vt,{variant:"secondary",children:"System"}):T.is_global?l.jsx(vt,{variant:"default",className:"bg-purple-100 text-purple-800 hover:bg-purple-200",children:"Global"}):l.jsx(vt,{variant:"outline",children:"Tenant"})}),l.jsx(ce,{className:"text-xs text-muted-foreground",children:new Date(T.created_at).toLocaleDateString()}),l.jsx(ce,{className:"text-right",children:l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(xe,{variant:"ghost",size:"icon",onClick:()=>C(T),disabled:T.is_system_role,children:l.jsx(zr,{className:"h-4 w-4"})}),l.jsx(xe,{variant:"ghost",size:"icon",onClick:()=>N(T.id),disabled:T.is_system_role,children:l.jsx(yr,{className:"h-4 w-4 text-destructive"})})]})})]},T.id))})]})}),l.jsx(Yn,{open:u,onOpenChange:d,children:l.jsxs(Kn,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[l.jsxs(Jn,{children:[l.jsx(Xn,{children:f?" ":" "}),l.jsx(vr,{children:"    ."})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"name",className:"text-right",children:""}),l.jsx(Re,{id:"name",value:m.name,onChange:T=>x({...m,name:T.target.value}),className:"col-span-3",placeholder:":  "})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"slug",className:"text-right",children:""}),l.jsx(Re,{id:"slug",value:m.slug,onChange:T=>x({...m,slug:T.target.value}),className:"col-span-3",placeholder:": admin-basic",disabled:!!f})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"description",className:"text-right",children:""}),l.jsx(An,{id:"description",value:m.description,onChange:T=>x({...m,description:T.target.value}),className:"col-span-3",placeholder:"   ."})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"is_global",className:"text-right",children:" "}),l.jsxs("div",{className:"flex items-center space-x-2 col-span-3",children:[l.jsx(Wn,{id:"is_global",checked:m.is_global,onCheckedChange:T=>x({...m,is_global:T})}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"      . (    ID )"})]})]}),l.jsxs("div",{className:"border-t pt-4 mt-2",children:[l.jsx(be,{className:"mb-4 block text-base",children:" "}),l.jsx("div",{className:"space-y-6",children:Object.entries(I).map(([T,E])=>l.jsxs("div",{className:"space-y-3",children:[l.jsx("h4",{className:"font-semibold text-sm capitalize flex items-center gap-2",children:l.jsx(vt,{variant:"secondary",className:"uppercase",children:T})}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:E.map(M=>l.jsxs("div",{className:"flex items-start space-x-2 border p-2 rounded-md hover:bg-accent/50",children:[l.jsx(m5,{id:M.id,checked:m.permissionIds.includes(M.id),onCheckedChange:()=>z(M.id)}),l.jsxs("div",{className:"grid gap-1.5 leading-none",children:[l.jsx("label",{htmlFor:M.id,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",children:M.name}),l.jsx("p",{className:"text-xs text-muted-foreground",children:M.description})]})]},M.id))})]},T))})]})]}),l.jsx(br,{children:l.jsx(xe,{onClick:A,children:""})})]})})]})}const yp="http://localhost:3003/api/tenants",rle="http://localhost:3002/api/users";function ile(){const{setAction:e}=Gi(),[t,n]=b.useState([]),[r,i]=b.useState([]),[s,a]=b.useState({page:1,limit:10,total:0,totalPages:0}),[u,d]=b.useState(!0),[f,p]=b.useState(""),[m,x]=b.useState(!1),[y,v]=b.useState(null),[k,j]=b.useState({name:"",slug:"",domain:"",tenant_type:"personal",status:"active",owner_id:""}),C=()=>{const L=localStorage.getItem("token");return L?{Authorization:`Bearer ${L}`}:{}};b.useEffect(()=>{N(),A()},[s.page,f]);const N=async()=>{d(!0);try{const L=new URLSearchParams({page:s.page.toString(),limit:s.limit.toString(),search:f}),D=await fetch(`${yp}?${L}`,{headers:C()});if(D.ok){const V=await D.json();n(V.tenants),a(V.pagination)}}catch(L){console.error("Failed to fetch tenants",L)}finally{d(!1)}},A=async()=>{try{const L=await fetch(`${rle}?limit=100`,{headers:C()});if(L.ok){const D=await L.json();i(D.users)}}catch(L){console.error("Failed to fetch users",L)}},z=()=>{v(null),j({name:"",slug:"",domain:"",tenant_type:"personal",status:"active",owner_id:""}),x(!0)};b.useEffect(()=>(e(l.jsxs(xe,{onClick:z,size:"sm",children:[l.jsx(Rn,{className:"mr-2 h-4 w-4"}),"  "]})),()=>e(null)),[e]);const I=L=>{v(L),j({name:L.name,slug:L.slug,domain:L.domain||"",tenant_type:L.tenant_type,status:L.status,owner_id:L.owner_id}),x(!0)},T=async L=>{if(confirm(" ?       ."))try{(await fetch(`${yp}/${L}`,{method:"DELETE",headers:{...C()}})).ok?N():alert(" ")}catch(D){console.error("Failed to delete tenant",D)}},E=async()=>{try{const L=y?"PUT":"POST",D=y?`${yp}/${y.id}`:yp,V=await fetch(D,{method:L,headers:{"Content-Type":"application/json",...C()},body:JSON.stringify(k)});if(V.ok)x(!1),N();else{const K=await V.json();alert(` : ${K.message||"   "}
${K.details||""}`)}}catch(L){console.error("Failed to save tenant",L),alert("    .")}},M=L=>{switch(L){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";case"suspended":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return l.jsxs("div",{className:"space-y-4 bg-background",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("div",{children:l.jsx("p",{className:"text-muted-foreground",children:"  (/) ."})})}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs("form",{onSubmit:L=>{L.preventDefault(),a(D=>({...D,page:1}))},className:"flex gap-2",children:[l.jsx(Re,{placeholder:"   Slug ...",value:f,onChange:L=>p(L.target.value),className:"w-[300px]"}),l.jsxs(xe,{type:"submit",variant:"secondary",children:[l.jsx(ws,{className:"h-4 w-4 mr-2"})," "]})]})}),l.jsx("div",{className:"border rounded-md",children:l.jsxs(sr,{children:[l.jsx(ar,{children:l.jsxs(qe,{children:[l.jsx(ve,{children:""}),l.jsx(ve,{children:"Slug"}),l.jsx(ve,{children:""}),l.jsx(ve,{children:""}),l.jsx(ve,{children:""}),l.jsx(ve,{children:""}),l.jsx(ve,{className:"text-right",children:""})]})}),l.jsx(lr,{children:u?l.jsx(qe,{children:l.jsx(ce,{colSpan:7,className:"h-24 text-center",children:l.jsx(Pt,{className:"h-6 w-6 animate-spin mx-auto"})})}):t.length===0?l.jsx(qe,{children:l.jsx(ce,{colSpan:7,className:"h-24 text-center",children:"  ."})}):t.map(L=>l.jsxs(qe,{children:[l.jsx(ce,{className:"font-medium",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(yR,{className:"h-4 w-4 text-muted-foreground"}),L.name]})}),l.jsx(ce,{children:l.jsx(vt,{variant:"outline",className:"font-mono text-xs",children:L.slug})}),l.jsx(ce,{children:l.jsx(vt,{variant:"secondary",className:"capitalize",children:L.tenant_type})}),l.jsx(ce,{className:"text-sm",children:L.owner_name?l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{children:L.owner_name}),l.jsx("span",{className:"text-xs text-muted-foreground",children:L.owner_email})]}):"-"}),l.jsx(ce,{children:l.jsx(vt,{variant:"outline",className:`border-0 ${M(L.status)}`,children:L.status.toUpperCase()})}),l.jsx(ce,{className:"text-xs text-muted-foreground",children:new Date(L.created_at).toLocaleDateString()}),l.jsx(ce,{className:"text-right",children:l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(xe,{variant:"ghost",size:"icon",onClick:()=>I(L),children:l.jsx(zr,{className:"h-4 w-4"})}),l.jsx(xe,{variant:"ghost",size:"icon",onClick:()=>T(L.id),children:l.jsx(yr,{className:"h-4 w-4 text-destructive"})})]})})]},L.id))})]})}),l.jsxs("div",{className:"flex items-center justify-end space-x-2 py-4",children:[l.jsxs("div",{className:"flex-1 text-sm text-muted-foreground",children:["Total ",s.total," tenants"]}),l.jsxs("div",{className:"space-x-2",children:[l.jsxs(xe,{variant:"outline",size:"sm",onClick:()=>a(L=>({...L,page:L.page-1})),disabled:s.page<=1,children:[l.jsx(df,{className:"h-4 w-4"}),"Previous"]}),l.jsxs("div",{className:"inline-flex items-center text-sm font-medium",children:["Page ",s.page," of ",s.totalPages||1]}),l.jsxs(xe,{variant:"outline",size:"sm",onClick:()=>a(L=>({...L,page:L.page+1})),disabled:s.page>=s.totalPages,children:["Next",l.jsx(ms,{className:"h-4 w-4"})]})]})]}),l.jsx(Yn,{open:m,onOpenChange:x,children:l.jsxs(Kn,{className:"sm:max-w-[500px]",children:[l.jsxs(Jn,{children:[l.jsx(Xn,{children:y?" ":" "}),l.jsx(vr,{children:"  ."})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"name",className:"text-right",children:""}),l.jsx(Re,{id:"name",value:k.name,onChange:L=>j({...k,name:L.target.value}),className:"col-span-3",placeholder:": My Company"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"slug",className:"text-right",children:"Slug"}),l.jsx(Re,{id:"slug",value:k.slug,onChange:L=>j({...k,slug:L.target.value}),className:"col-span-3",placeholder:": my-company"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"domain",className:"text-right",children:""}),l.jsx(Re,{id:"domain",value:k.domain,onChange:L=>j({...k,domain:L.target.value}),className:"col-span-3",placeholder:": example.com ()"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"tenant_type",className:"text-right",children:""}),l.jsxs(rt,{value:k.tenant_type,onValueChange:L=>j({...k,tenant_type:L}),children:[l.jsx(st,{className:"col-span-3",children:l.jsx(it,{placeholder:"Select type"})}),l.jsxs(at,{children:[l.jsx(ye,{value:"personal",children:"Personal"}),l.jsx(ye,{value:"team",children:"Team"}),l.jsx(ye,{value:"enterprise",children:"Enterprise"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"owner_id",className:"text-right",children:""}),y?l.jsxs("div",{className:"col-span-3 text-sm p-2 bg-muted rounded",children:["   (: ",y.owner_name||y.owner_id,")"]}):l.jsxs(rt,{value:k.owner_id,onValueChange:L=>j({...k,owner_id:L}),children:[l.jsx(st,{className:"col-span-3",children:l.jsx(it,{placeholder:"Select owner"})}),l.jsx(at,{children:r.map(L=>l.jsxs(ye,{value:L.id,children:[L.full_name," (",L.email,")"]},L.id))})]})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"status",className:"text-right",children:""}),l.jsxs(rt,{value:k.status,onValueChange:L=>j({...k,status:L}),children:[l.jsx(st,{className:"col-span-3",children:l.jsx(it,{placeholder:"Select status"})}),l.jsxs(at,{children:[l.jsx(ye,{value:"active",children:"Active"}),l.jsx(ye,{value:"inactive",children:"Inactive"}),l.jsx(ye,{value:"suspended",children:"Suspended"})]})]})]})]}),l.jsx(br,{children:l.jsx(xe,{onClick:E,children:""})})]})})]})}const bp="/api/ai/providers",jd="admin_ai_providers";function P2(){return new Date().toISOString()}function Gp(){try{return crypto.randomUUID()}catch{return`tmp_${Math.random().toString(16).slice(2)}_${Date.now()}`}}function c8(){const e=P2();return[{id:Gp(),name:"openai",product_name:"OpenAI",slug:"openai",logo_key:"chatgpt",description:"OpenAI API ",website_url:"https://openai.com",api_base_url:"https://api.openai.com/v1",documentation_url:"https://platform.openai.com/docs",status:"active",is_verified:!0,metadata:{provider_type:"llm"},created_at:e,updated_at:e},{id:Gp(),name:"anthropic",product_name:"Anthropic",slug:"anthropic",logo_key:"claude",description:"Claude  ",website_url:"https://www.anthropic.com",api_base_url:"https://api.anthropic.com",documentation_url:"https://docs.anthropic.com",status:"active",is_verified:!0,metadata:{provider_type:"llm"},created_at:e,updated_at:e},{id:Gp(),name:"google",product_name:"Google",slug:"google",logo_key:"google",description:"Gemini  ",website_url:"https://ai.google.dev",api_base_url:"https://generativelanguage.googleapis.com",documentation_url:"https://ai.google.dev/docs",status:"active",is_verified:!0,metadata:{provider_type:"llm"},created_at:e,updated_at:e}]}function sle(){const e=localStorage.getItem(jd);if(!e){const n=c8();return localStorage.setItem(jd,JSON.stringify(n)),n}try{const n=JSON.parse(e);if(Array.isArray(n)){const r=n.map(i=>({...i,product_name:typeof i.product_name=="string"?i.product_name:typeof i.display_name=="string"?i.display_name:""}));return localStorage.setItem(jd,JSON.stringify(r)),r}}catch{}const t=c8();return localStorage.setItem(jd,JSON.stringify(t)),t}function cy(e){localStorage.setItem(jd,JSON.stringify(e))}async function dy(e,t){const n=await fetch(e,t),r=n.headers.get("content-type")||"";if(!n.ok)throw new Error(`HTTP ${n.status}`);if(!r.includes("application/json"))throw new Error("NOT_JSON");return await n.json()}function ale(){const{setAction:e}=Gi(),[t,n]=b.useState([]),[r,i]=b.useState(!0),[s,a]=b.useState(!1),[u,d]=b.useState(""),[f,p]=b.useState(!1),[m,x]=b.useState(null),[y,v]=b.useState("{}"),[k,j]=b.useState({name:"",product_name:"",slug:"",logo_key:"__none__",description:"",website_url:"",api_base_url:"",documentation_url:"",status:"active",is_verified:!1}),C=()=>{const D=localStorage.getItem("token");return D?{Authorization:`Bearer ${D}`}:{}},N=async()=>{i(!0);try{const D=await dy(bp,{headers:{...C()}});n(D)}catch(D){const V=sle();n(V),console.warn("[Admin Providers] API   localStorage fallback :",D)}finally{i(!1)}};b.useEffect(()=>{N()},[]);const A=b.useMemo(()=>{const D=u.trim().toLowerCase();return D?t.filter(V=>`${V.name} ${V.product_name} ${V.slug} ${V.api_base_url||""}`.toLowerCase().includes(D)):t},[t,u]),z=()=>{x(null),j({name:"",product_name:"",slug:"",logo_key:"__none__",description:"",website_url:"",api_base_url:"",documentation_url:"",status:"active",is_verified:!1}),v("{}"),p(!0)};b.useEffect(()=>(e(l.jsxs(xe,{onClick:z,size:"sm",children:[l.jsx(Rn,{className:"mr-2 h-4 w-4"}),"  "]})),()=>e(null)),[e]);const I=D=>{x(D),j({name:D.name,product_name:D.product_name,slug:D.slug,logo_key:D.logo_key||"__none__",description:D.description||"",website_url:D.website_url||"",api_base_url:D.api_base_url||"",documentation_url:D.documentation_url||"",status:D.status,is_verified:D.is_verified}),v(JSON.stringify(D.metadata||{},null,2)),p(!0)},T=D=>{if(!k.name.trim())return"name( ) .";if(!k.product_name.trim())return"product_name( ) .";if(!k.slug.trim())return"slug .";const V=k.slug.trim().toLowerCase();if(D.some(J=>J.slug.toLowerCase()===V&&J.id!==m?.id))return"   slug .";try{const J=JSON.parse(y||"{}");if(J!==null&&typeof J!="object")return"metadata JSON   . ) {}"}catch{return"metadata JSON   ."}return null},E=async()=>{a(!0);try{const D=JSON.parse(y||"{}"),V={name:k.name.trim(),product_name:k.product_name.trim(),slug:k.slug.trim(),logo_key:k.logo_key==="__none__"?null:k.logo_key,description:k.description.trim()||null,website_url:k.website_url.trim()||null,api_base_url:k.api_base_url.trim()||null,documentation_url:k.documentation_url.trim()||null,status:k.status,is_verified:k.is_verified,metadata:D},K=T(t);if(K){alert(K);return}if(m)try{await dy(`${bp}/${m.id}`,{method:"PUT",headers:{"Content-Type":"application/json",...C()},body:JSON.stringify(V)}),p(!1),N();return}catch(J){const Z=t.map(q=>q.id===m.id?{...q,...V,updated_at:P2()}:q);n(Z),cy(Z),p(!1),console.warn("[Admin Providers] PUT  localStorage fallback :",J);return}try{await dy(bp,{method:"POST",headers:{"Content-Type":"application/json",...C()},body:JSON.stringify(V)}),p(!1),N();return}catch(J){const Z=P2(),F=[{id:Gp(),...V,created_at:Z,updated_at:Z},...t];n(F),cy(F),p(!1),console.warn("[Admin Providers] POST  localStorage fallback :",J)}}finally{a(!1)}},M=async D=>{if(confirm(` ?
- ${D.product_name} (${D.slug})`))try{await fetch(`${bp}/${D.id}`,{method:"DELETE",headers:{...C()}}),N()}catch(V){const K=t.filter(J=>J.id!==D.id);n(K),cy(K),console.warn("[Admin Providers] DELETE  localStorage fallback :",V)}},L=D=>{switch(D){case"active":return l.jsx(vt,{className:"bg-green-100 text-green-800 hover:bg-green-100",children:"Active"});case"inactive":return l.jsx(vt,{variant:"secondary",children:"Inactive"});case"deprecated":return l.jsx(vt,{className:"bg-yellow-100 text-yellow-800 hover:bg-yellow-100",children:"Deprecated"})}};return l.jsxs("div",{className:"space-y-4 bg-background",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("div",{children:l.jsx("p",{className:"text-muted-foreground",children:"AI (OpenAI/Anthropic )  . (    localStorage .)"})})}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs("form",{onSubmit:D=>{D.preventDefault()},className:"flex gap-2",children:[l.jsx(Re,{placeholder:"/Slug/Base URL ...",value:u,onChange:D=>d(D.target.value),className:"w-[360px]"}),l.jsxs(xe,{type:"submit",variant:"secondary",children:[l.jsx(ws,{className:"h-4 w-4 mr-2"})," "]})]})}),l.jsx("div",{className:"border rounded-md",children:l.jsxs(sr,{children:[l.jsx(ar,{children:l.jsxs(qe,{children:[l.jsx(ve,{children:"/ "}),l.jsx(ve,{children:"Slug"}),l.jsx(ve,{children:"Logo"}),l.jsx(ve,{children:""}),l.jsx(ve,{children:"Base URL"}),l.jsx(ve,{children:""}),l.jsx(ve,{children:""}),l.jsx(ve,{className:"text-right",children:""})]})}),l.jsx(lr,{children:r?l.jsx(qe,{children:l.jsx(ce,{colSpan:8,className:"h-24 text-center",children:l.jsx(Pt,{className:"h-6 w-6 animate-spin mx-auto"})})}):A.length===0?l.jsx(qe,{children:l.jsx(ce,{colSpan:8,className:"h-24 text-center",children:"  ."})}):A.map(D=>l.jsxs(qe,{children:[l.jsx(ce,{className:"font-medium",children:l.jsxs("div",{className:"flex items-center gap-2",children:[D.is_verified?l.jsx(vL,{className:"h-4 w-4 text-emerald-600"}):l.jsx(yL,{className:"h-4 w-4 text-muted-foreground"}),l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(qd,{logoKey:D.logo_key,className:"h-4 w-4 text-muted-foreground"}),D.product_name]}),l.jsx("span",{className:"text-xs text-muted-foreground",children:D.name})]})]})}),l.jsx(ce,{children:l.jsx(vt,{variant:"outline",className:"font-mono text-xs",children:D.slug})}),l.jsx(ce,{children:l.jsx("span",{className:"font-mono text-xs text-muted-foreground",children:D.logo_key||"-"})}),l.jsx(ce,{children:L(D.status)}),l.jsx(ce,{className:"max-w-[360px] truncate",title:D.api_base_url||"",children:D.api_base_url||"-"}),l.jsx(ce,{children:D.is_verified?l.jsx("span",{className:"text-xs font-medium text-emerald-700",children:"Verified"}):l.jsx("span",{className:"text-xs text-muted-foreground",children:"Unverified"})}),l.jsx(ce,{className:"text-xs text-muted-foreground",children:new Date(D.updated_at).toLocaleString()}),l.jsx(ce,{className:"text-right",children:l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(xe,{variant:"ghost",size:"icon",onClick:()=>I(D),children:l.jsx(zr,{className:"h-4 w-4"})}),l.jsx(xe,{variant:"ghost",size:"icon",onClick:()=>M(D),children:l.jsx(yr,{className:"h-4 w-4 text-destructive"})})]})})]},D.id))})]})}),l.jsx(Yn,{open:f,onOpenChange:p,children:l.jsxs(Kn,{className:"sm:max-w-[640px] max-h-[80vh] overflow-y-auto",children:[l.jsxs(Jn,{children:[l.jsx(Xn,{children:m?" ":" "}),l.jsx(vr,{children:"    . (API Key     .)"})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"name",className:"text-right",children:" "}),l.jsx(Re,{id:"name",value:k.name,onChange:D=>j({...k,name:D.target.value}),className:"col-span-3",placeholder:": openai"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"product_name",className:"text-right",children:" "}),l.jsx(Re,{id:"product_name",value:k.product_name,onChange:D=>j({...k,product_name:D.target.value}),className:"col-span-3",placeholder:": OpenAI"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"slug",className:"text-right",children:"Slug"}),l.jsx(Re,{id:"slug",value:k.slug,onChange:D=>j({...k,slug:D.target.value}),className:"col-span-3",placeholder:": openai"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"logo_key",className:"text-right",children:""}),l.jsxs("div",{className:"col-span-3 flex items-center gap-3",children:[l.jsxs(rt,{value:k.logo_key,onValueChange:D=>j({...k,logo_key:D}),children:[l.jsx(st,{className:"w-[260px]",children:l.jsx(it,{placeholder:"()"})}),l.jsxs(at,{children:[l.jsx(ye,{value:"__none__",children:"()"}),kH.map(D=>l.jsx(ye,{value:D.value,children:D.label},D.value))]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[l.jsx(qd,{logoKey:k.logo_key==="__none__"?null:k.logo_key,className:"h-4 w-4"}),l.jsx("span",{className:"font-mono",children:k.logo_key==="__none__"?"-":k.logo_key})]})]})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"status",className:"text-right",children:""}),l.jsxs(rt,{value:k.status,onValueChange:D=>j({...k,status:D}),children:[l.jsx(st,{className:"col-span-3",children:l.jsx(it,{placeholder:" "})}),l.jsxs(at,{children:[l.jsx(ye,{value:"active",children:"active"}),l.jsx(ye,{value:"inactive",children:"inactive"}),l.jsx(ye,{value:"deprecated",children:"deprecated"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"is_verified",className:"text-right",children:""}),l.jsxs("div",{className:"flex items-center space-x-2 col-span-3",children:[l.jsx(Wn,{id:"is_verified",checked:k.is_verified,onCheckedChange:D=>j({...k,is_verified:D})}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"   "})]})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"api_base_url",className:"text-right",children:"Base URL"}),l.jsx(Re,{id:"api_base_url",value:k.api_base_url,onChange:D=>j({...k,api_base_url:D.target.value}),className:"col-span-3",placeholder:": https://api.openai.com/v1"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"website_url",className:"text-right",children:"Website"}),l.jsx(Re,{id:"website_url",value:k.website_url,onChange:D=>j({...k,website_url:D.target.value}),className:"col-span-3",placeholder:": https://openai.com"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"documentation_url",className:"text-right",children:"Docs"}),l.jsx(Re,{id:"documentation_url",value:k.documentation_url,onChange:D=>j({...k,documentation_url:D.target.value}),className:"col-span-3",placeholder:": https://platform.openai.com/docs"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-start gap-4",children:[l.jsx(be,{htmlFor:"description",className:"text-right pt-2",children:""}),l.jsx(An,{id:"description",value:k.description,onChange:D=>j({...k,description:D.target.value}),className:"col-span-3",placeholder:"  ."})]}),l.jsxs("div",{className:"grid grid-cols-4 items-start gap-4",children:[l.jsx(be,{htmlFor:"metadata",className:"text-right pt-2",children:"Metadata"}),l.jsx(An,{id:"metadata",value:y,onChange:D=>v(D.target.value),className:"col-span-3 font-mono text-xs min-h-[140px]",placeholder:': {"provider_type":"llm"}'})]})]}),l.jsx(br,{children:l.jsxs(xe,{onClick:E,disabled:s,children:[s?l.jsx(Pt,{className:"h-4 w-4 mr-2 animate-spin"}):null,""]})})]})})]})}const lle="/api/ai/providers",vp="/api/ai/credentials",wp="admin_ai_providers",_d="admin_provider_api_credentials";function d8(){return new Date().toISOString()}function Wp(){try{return crypto.randomUUID()}catch{return`tmp_${Math.random().toString(16).slice(2)}_${Date.now()}`}}async function kp(e,t){const n=await fetch(e,t),r=n.headers.get("content-type")||"";if(!n.ok)throw new Error(`HTTP ${n.status}`);if(!r.includes("application/json"))throw new Error("NOT_JSON");return await n.json()}function f8(){return[{id:Wp(),name:"openai",product_name:"OpenAI",slug:"openai",status:"active",is_verified:!0,api_base_url:"https://api.openai.com/v1"},{id:Wp(),name:"anthropic",product_name:"Anthropic",slug:"anthropic",status:"active",is_verified:!0,api_base_url:"https://api.anthropic.com"},{id:Wp(),name:"google",product_name:"Google",slug:"google",status:"active",is_verified:!0,api_base_url:"https://generativelanguage.googleapis.com"}]}function ole(){const e=localStorage.getItem(wp);if(!e){const n=f8();return localStorage.setItem(wp,JSON.stringify(n)),n}try{const n=JSON.parse(e);if(Array.isArray(n)){const r=n.map(i=>({...i,product_name:typeof i.product_name=="string"?i.product_name:typeof i.display_name=="string"?i.display_name:""}));return localStorage.setItem(wp,JSON.stringify(r)),r}}catch{}const t=f8();return localStorage.setItem(wp,JSON.stringify(t)),t}function ule(){const e=localStorage.getItem(_d);if(!e)return localStorage.setItem(_d,JSON.stringify([])),[];try{const t=JSON.parse(e);if(Array.isArray(t)){const n=t.map(r=>{if(r.api_key){const i=r.api_key.slice(-4);return{...r,api_key:void 0,api_key_last4:r.api_key_last4||i,api_key_masked:r.api_key_masked||`${i}`}}return r});return localStorage.setItem(_d,JSON.stringify(n)),n}}catch{}return localStorage.setItem(_d,JSON.stringify([])),[]}function fy(e){localStorage.setItem(_d,JSON.stringify(e))}function cle(e){const t=e||"";return t.length<=4?"":`${t.slice(-4)}`}function dle(e){return e.api_key_masked?e.api_key_masked:e.api_key?cle(e.api_key):""}function fle(){const{setAction:e}=Gi(),[t,n]=b.useState([]),[r,i]=b.useState([]),[s,a]=b.useState(!0),[u,d]=b.useState(!1),[f,p]=b.useState(""),[m,x]=b.useState(!1),[y,v]=b.useState(null),[k,j]=b.useState("{}"),[C,N]=b.useState(""),[A,z]=b.useState({provider_id:"",credential_name:"",endpoint_url:"",organization_id:"",is_active:!0,is_default:!1,rate_limit_per_minute:"",rate_limit_per_day:"",expires_at:""}),I=()=>{const R=localStorage.getItem("token");return R?{Authorization:`Bearer ${R}`}:{}},T=async()=>{try{const R=await kp(lle,{headers:{...I()}});n(R)}catch(R){n(ole()),console.warn("[Admin Credentials] providers API  localStorage fallback :",R)}},E=async()=>{try{const R=await kp(vp,{headers:{...I()}});i(R)}catch(R){const U=ule();i(U),console.warn("[Admin Credentials] credentials API  localStorage fallback :",R)}};b.useEffect(()=>{(async()=>{a(!0),await Promise.all([T()]),await E(),a(!1)})()},[]);const M=b.useMemo(()=>{const R=new Map;return t.forEach(U=>R.set(U.id,U.product_name)),R},[t]),L=b.useMemo(()=>{const R=new Map;return t.forEach(U=>R.set(U.id,U.slug)),R},[t]),D=b.useMemo(()=>{const R=f.trim().toLowerCase();return R?r.filter(U=>{const _=M.get(U.provider_id)||"",Q=L.get(U.provider_id)||"";return`${_} ${Q} ${U.credential_name} ${U.endpoint_url||""} ${U.organization_id||""}`.toLowerCase().includes(R)}):r},[r,M,L,f]),V=()=>{v(null),z({provider_id:t[0]?.id||"",credential_name:"",endpoint_url:"",organization_id:"",is_active:!0,is_default:!1,rate_limit_per_minute:"",rate_limit_per_day:"",expires_at:""}),N(""),j("{}"),x(!0)};b.useEffect(()=>(e(l.jsxs(xe,{onClick:V,size:"sm",children:[l.jsx(Rn,{className:"mr-2 h-4 w-4"})," API Key "]})),()=>e(null)),[e,t]);const K=R=>{v(R),z({provider_id:R.provider_id,credential_name:R.credential_name,endpoint_url:R.endpoint_url||"",organization_id:R.organization_id||"",is_active:R.is_active,is_default:R.is_default,rate_limit_per_minute:R.rate_limit_per_minute?.toString()??"",rate_limit_per_day:R.rate_limit_per_day?.toString()??"",expires_at:R.expires_at?R.expires_at.slice(0,10):""}),N(""),j(JSON.stringify(R.metadata||{},null,2)),x(!0)},J=()=>{if(!A.provider_id)return" .";if(!A.credential_name.trim())return"  (credential_name) .";if(!y&&!C.trim())return"API Key .";try{const R=JSON.parse(k||"{}");if(R!==null&&typeof R!="object")return"metadata JSON  . ) {}"}catch{return"metadata JSON   ."}return A.is_default&&r.some(U=>U.provider_id===A.provider_id&&U.is_default&&U.id!==y?.id)&&!confirm(` /  (Default)   .
 Default    Default ?`)?"Default  .":null},Z=(R,U,_)=>R.map(Q=>Q.provider_id===_?{...Q,is_default:Q.id===U}:Q),q=async()=>{const R=J();if(R){R!=="Default  ."&&alert(R);return}d(!0);try{const U=JSON.parse(k||"{}"),_={provider_id:A.provider_id,credential_name:A.credential_name.trim(),endpoint_url:A.endpoint_url.trim()||null,organization_id:A.organization_id.trim()||null,is_active:A.is_active,is_default:A.is_default,rate_limit_per_minute:A.rate_limit_per_minute?Number(A.rate_limit_per_minute):null,rate_limit_per_day:A.rate_limit_per_day?Number(A.rate_limit_per_day):null,expires_at:A.expires_at?new Date(A.expires_at).toISOString():null,metadata:U};C.trim()&&(_.api_key=C.trim());try{if(y)await kp(`${vp}/${y.id}`,{method:"PUT",headers:{"Content-Type":"application/json",...I()},body:JSON.stringify(_)});else{if(!_.api_key){alert("API Key .");return}await kp(vp,{method:"POST",headers:{"Content-Type":"application/json",...I()},body:JSON.stringify(_)})}x(!1),await E();return}catch(H){console.warn("[Admin Credentials]  API  localStorage fallback :",H)}if(y){const H=r.map(ae=>{if(ae.id!==y.id)return ae;const ke=C.trim()?C.trim().slice(-4):ae.api_key_last4||null;return{...ae,..._,api_key:void 0,api_key_last4:C.trim()?ke:ae.api_key_last4,api_key_masked:C.trim()?`${ke}`:ae.api_key_masked,updated_at:d8()}}),te=_.is_default?Z(H,y.id,_.provider_id):H;i(te),fy(te),x(!1);return}const Q=d8(),G=C.trim().slice(-4),P={id:Wp(),..._,api_key:void 0,api_key_last4:G,api_key_masked:`${G}`,created_at:Q,updated_at:Q};let ie=[P,...r];_.is_default&&(ie=Z(ie,P.id,_.provider_id)),i(ie),fy(ie),x(!1)}finally{d(!1)}},F=async R=>{const U=M.get(R.provider_id)||R.provider_id;if(confirm(` ?
- ${U}
- ${R.credential_name}`))try{await fetch(`${vp}/${R.id}`,{method:"DELETE",headers:{...I()}}),await E();return}catch(_){console.warn("[Admin Credentials]  API  localStorage fallback :",_);const Q=r.filter(G=>G.id!==R.id);i(Q),fy(Q)}},W=R=>R?l.jsx(vt,{className:"bg-green-100 text-green-800 hover:bg-green-100",children:"Active"}):l.jsx(vt,{variant:"secondary",children:"Inactive"});return l.jsxs("div",{className:"space-y-4 bg-background",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("div",{children:l.jsx("p",{className:"text-muted-foreground",children:"    AI  API Key(credential) ."})})}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs("form",{onSubmit:R=>{R.preventDefault()},className:"flex gap-2",children:[l.jsx(Re,{placeholder:"// ...",value:f,onChange:R=>p(R.target.value),className:"w-[420px]"}),l.jsxs(xe,{type:"submit",variant:"secondary",children:[l.jsx(ws,{className:"h-4 w-4 mr-2"})," "]})]})}),l.jsx("div",{className:"border rounded-md",children:l.jsxs(sr,{children:[l.jsx(ar,{children:l.jsxs(qe,{children:[l.jsx(ve,{children:""}),l.jsx(ve,{children:""}),l.jsx(ve,{children:""}),l.jsx(ve,{children:"Default"}),l.jsx(ve,{children:"API Key"}),l.jsx(ve,{children:"Endpoint"}),l.jsx(ve,{children:""}),l.jsx(ve,{className:"text-right",children:""})]})}),l.jsx(lr,{children:s?l.jsx(qe,{children:l.jsx(ce,{colSpan:8,className:"h-24 text-center",children:l.jsx(Pt,{className:"h-6 w-6 animate-spin mx-auto"})})}):D.length===0?l.jsx(qe,{children:l.jsx(ce,{colSpan:8,className:"h-24 text-center",children:"   ."})}):D.map(R=>l.jsxs(qe,{children:[l.jsxs(ce,{children:[l.jsx(vt,{variant:"outline",className:"font-mono text-xs",children:R.provider_slug||L.get(R.provider_id)||R.provider_id}),l.jsx("div",{className:"text-xs text-muted-foreground",children:R.provider_product_name||M.get(R.provider_id)||""})]}),l.jsx(ce,{className:"max-w-[220px] truncate",title:R.credential_name,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(GR,{className:"h-4 w-4 text-muted-foreground"}),R.credential_name]})}),l.jsx(ce,{children:W(R.is_active)}),l.jsx(ce,{children:R.is_default?l.jsx(vt,{children:"Default"}):l.jsx("span",{className:"text-xs text-muted-foreground",children:"-"})}),l.jsx(ce,{className:"font-mono text-xs",children:dle(R)}),l.jsx(ce,{className:"max-w-[260px] truncate",title:R.endpoint_url||"",children:R.endpoint_url||"-"}),l.jsx(ce,{className:"text-xs text-muted-foreground",children:R.expires_at?new Date(R.expires_at).toLocaleDateString():"-"}),l.jsx(ce,{className:"text-right",children:l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(xe,{variant:"ghost",size:"icon",onClick:()=>K(R),children:l.jsx(zr,{className:"h-4 w-4"})}),l.jsx(xe,{variant:"ghost",size:"icon",onClick:()=>F(R),children:l.jsx(yr,{className:"h-4 w-4 text-destructive"})})]})})]},R.id))})]})}),l.jsx(Yn,{open:m,onOpenChange:x,children:l.jsxs(Kn,{className:"sm:max-w-[680px] max-h-[80vh] overflow-y-auto",children:[l.jsxs(Jn,{children:[l.jsx(Xn,{children:y?"API Key ":"API Key "}),l.jsx(vr,{children:"     . (API Key     .)"})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"provider_id",className:"text-right",children:""}),l.jsxs(rt,{value:A.provider_id,onValueChange:R=>z({...A,provider_id:R}),children:[l.jsx(st,{className:"col-span-3",children:l.jsx(it,{placeholder:" "})}),l.jsx(at,{children:t.map(R=>l.jsxs(ye,{value:R.id,children:[R.product_name," (",R.slug,")"]},R.id))})]})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"credential_name",className:"text-right",children:""}),l.jsx(Re,{id:"credential_name",value:A.credential_name,onChange:R=>z({...A,credential_name:R.target.value}),className:"col-span-3",placeholder:": Production Key"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"api_key",className:"text-right",children:"API Key"}),l.jsxs("div",{className:"col-span-3 space-y-1",children:[l.jsx(Re,{id:"api_key",type:"password",value:C,onChange:R=>N(R.target.value),placeholder:y?"(  )":": sk-..."}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"   API Key    . (schema_models.sql: api_key_encrypted)"})]})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"endpoint_url",className:"text-right",children:"Endpoint URL"}),l.jsx(Re,{id:"endpoint_url",value:A.endpoint_url,onChange:R=>z({...A,endpoint_url:R.target.value}),className:"col-span-3",placeholder:"  ()"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"organization_id",className:"text-right",children:"Org ID"}),l.jsx(Re,{id:"organization_id",value:A.organization_id,onChange:R=>z({...A,organization_id:R.target.value}),className:"col-span-3",placeholder:"OpenAI Organization ID  ()"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"is_active",className:"text-right",children:""}),l.jsxs("div",{className:"flex items-center space-x-2 col-span-3",children:[l.jsx(Wn,{id:"is_active",checked:A.is_active,onCheckedChange:R=>z({...A,is_active:R})}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"    "})]})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"is_default",className:"text-right",children:"Default"}),l.jsxs("div",{className:"flex items-center space-x-2 col-span-3",children:[l.jsx(Wn,{id:"is_default",checked:A.is_default,onCheckedChange:R=>z({...A,is_default:R})}),l.jsx("span",{className:"text-xs text-muted-foreground",children:" /     1 ."})]})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"rate_limit_per_minute",className:"text-right",children:" "}),l.jsx(Re,{id:"rate_limit_per_minute",type:"number",value:A.rate_limit_per_minute,onChange:R=>z({...A,rate_limit_per_minute:R.target.value}),className:"col-span-3",placeholder:": 60 ()"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"rate_limit_per_day",className:"text-right",children:" "}),l.jsx(Re,{id:"rate_limit_per_day",type:"number",value:A.rate_limit_per_day,onChange:R=>z({...A,rate_limit_per_day:R.target.value}),className:"col-span-3",placeholder:": 10000 ()"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"expires_at",className:"text-right",children:""}),l.jsx(Re,{id:"expires_at",type:"date",value:A.expires_at,onChange:R=>z({...A,expires_at:R.target.value}),className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-start gap-4",children:[l.jsx(be,{htmlFor:"metadata",className:"text-right pt-2",children:"Metadata"}),l.jsx(An,{id:"metadata",value:k,onChange:R=>j(R.target.value),className:"col-span-3 font-mono text-xs min-h-[140px]",placeholder:': {"environment":"prod"}'})]})]}),l.jsx(br,{children:l.jsxs(xe,{onClick:q,disabled:u,children:[u?l.jsx(Pt,{className:"h-4 w-4 mr-2 animate-spin"}):null,""]})})]})})]})}const hle="/api/ai/providers",Oa="/api/ai/models",ple="/api/ai/prompt-templates",mle="/api/ai/response-schemas";async function od(e,t){const n=await fetch(e,t),r=n.headers.get("content-type")||"";if(!n.ok)throw new Error(`HTTP ${n.status}`);if(!r.includes("application/json"))throw new Error("NOT_JSON");return await n.json()}function hy(e){return e instanceof Error?e.message:String(e)}function h8(e){return Array.isArray(e)?e.length?{features:e}:{}:e&&typeof e=="object"?e:{}}function Sp(e){if(typeof e!="string")return"";const t=e.trim();return t?t.length>=10?t.slice(0,10):t:""}function gle(){const{setAction:e}=Gi(),[t,n]=b.useState([]),[r,i]=b.useState([]),[s,a]=b.useState([]),[u,d]=b.useState([]),[f,p]=b.useState(!0),[m,x]=b.useState(!1),[y,v]=b.useState({}),[k,j]=b.useState(!1),[C,N]=b.useState(null),[A,z]=b.useState("all"),[I,T]=b.useState("all"),[E,M]=b.useState("all"),[L,D]=b.useState(""),[V,K]=b.useState(!1),[J,Z]=b.useState(null),[q,F]=b.useState("{}"),[W,R]=b.useState("{}"),[U,_]=b.useState({provider_id:"",model_id:"",display_name:"",model_type:"text",prompt_template_id:"__none__",response_schema_id:"__none__",description:"",context_window:"",max_output_tokens:"",input_token_cost_per_1k:"",output_token_cost_per_1k:"",currency:"USD",is_available:!0,is_default:!1,status:"active",released_at:"",deprecated_at:""}),[Q,G]=b.useState(!1),[P,ie]=b.useState(null),[H,te]=b.useState("  ."),[ae,ke]=b.useState("128"),[Ge,He]=b.useState(!1),[Me,ze]=b.useState(""),[ft,we]=b.useState(""),le=()=>{const $=localStorage.getItem("token");return $?{Authorization:`Bearer ${$}`}:{}},Ke=async()=>{const $=await od(hle,{headers:{...le()}});n($),U.provider_id||_(ne=>({...ne,provider_id:$[0]?.id||""}))},Y=async()=>{try{const ne=await(await fetch(`${ple}?limit=200&offset=0&is_active=true`,{headers:{...le()}})).json().catch(()=>({})),nt=(typeof ne=="object"&&ne!==null&&"rows"in ne&&Array.isArray(ne.rows)?ne.rows:[]).map(We=>{const Ye=We??{};return{id:String(Ye.id||""),name:String(Ye.name||""),purpose:String(Ye.purpose||""),version:Number(Ye.version||1),is_active:!!Ye.is_active}}).filter(We=>We.id&&We.name);a(nt)}catch{a([])}},Ne=async()=>{try{const ne=await(await fetch(`${mle}?limit=200&offset=0&is_active=true`,{headers:{...le()}})).json().catch(()=>({})),nt=(typeof ne=="object"&&ne!==null&&"rows"in ne&&Array.isArray(ne.rows)?ne.rows:[]).map(We=>{const Ye=We??{};return{id:String(Ye.id||""),name:String(Ye.name||""),version:Number(Ye.version||1),strict:!!Ye.strict,is_active:!!Ye.is_active}}).filter(We=>We.id&&We.name);d(nt)}catch{d([])}},Le=async()=>{const $=new URLSearchParams;A!=="all"&&$.set("provider_id",A),I!=="all"&&$.set("model_type",I),E!=="all"&&$.set("status",E),L.trim()&&$.set("q",L.trim());const ne=$.toString()?`${Oa}?${$.toString()}`:Oa,Te=await od(ne,{headers:{...le()}});i(Te)};b.useEffect(()=>{(async()=>{p(!0);try{await Ke(),await Y(),await Ne(),await Le()}finally{p(!1)}})()},[]),b.useEffect(()=>{Le()},[A,I,E]);const Xe=b.useMemo(()=>{const $=L.trim().toLowerCase();return $?r.filter(ne=>`${ne.provider_product_name||""} ${ne.provider_slug||""} ${ne.display_name} ${ne.model_id}`.toLowerCase().includes($)):r},[r,L]),zt=()=>{Z(null),_({provider_id:t[0]?.id||"",model_id:"",display_name:"",model_type:"text",prompt_template_id:"__none__",response_schema_id:"__none__",description:"",context_window:"",max_output_tokens:"",input_token_cost_per_1k:"",output_token_cost_per_1k:"",currency:"USD",is_available:!0,is_default:!1,status:"active",released_at:"",deprecated_at:""}),F("{}"),R("{}"),K(!0)};b.useEffect(()=>(e(l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(xe,{variant:"secondary",size:"sm",onClick:()=>Le(),children:[l.jsx(ul,{className:"mr-2 h-4 w-4"})," "]}),l.jsxs(xe,{size:"sm",onClick:zt,children:[l.jsx(Rn,{className:"mr-2 h-4 w-4"}),"  "]})]})),()=>e(null)),[e,t]);const Mt=$=>{Z($),_({provider_id:$.provider_id,model_id:$.model_id,display_name:$.display_name,model_type:$.model_type,prompt_template_id:$.prompt_template_id?String($.prompt_template_id):"__none__",response_schema_id:$.response_schema_id?String($.response_schema_id):"__none__",description:$.description||"",context_window:$.context_window?.toString()??"",max_output_tokens:$.max_output_tokens?.toString()??"",input_token_cost_per_1k:($.input_token_cost_per_1k??"").toString(),output_token_cost_per_1k:($.output_token_cost_per_1k??"").toString(),currency:$.currency||"USD",is_available:!!$.is_available,is_default:!!$.is_default,status:$.status,released_at:Sp($.released_at),deprecated_at:Sp($.deprecated_at)}),F(JSON.stringify(h8($.capabilities),null,2)),R(JSON.stringify($.metadata??{},null,2)),K(!0)},Ot=()=>{try{const $=JSON.parse(q||"{}");if($===null||Array.isArray($)||typeof $!="object")return"capabilities JSON  . ) {}"}catch{return"capabilities JSON   ."}try{const $=JSON.parse(W||"{}");if($!==null&&typeof $!="object")return"metadata JSON  . ) {}"}catch{return"metadata JSON   ."}return null},tn=async()=>{const $=Ot();if($){alert($);return}if(!U.provider_id||!U.model_id.trim()||!U.display_name.trim()){alert("provider/model_id/display_name .");return}x(!0);try{const ne={provider_id:U.provider_id,name:U.model_id.trim(),model_id:U.model_id.trim(),display_name:U.display_name.trim(),description:U.description.trim()||null,model_type:U.model_type,prompt_template_id:U.prompt_template_id==="__none__"?null:U.prompt_template_id,response_schema_id:U.response_schema_id==="__none__"?null:U.response_schema_id,capabilities:h8(JSON.parse(q||"{}")),context_window:U.context_window?Number(U.context_window):null,max_output_tokens:U.max_output_tokens?Number(U.max_output_tokens):null,input_token_cost_per_1k:U.input_token_cost_per_1k?Number(U.input_token_cost_per_1k):0,output_token_cost_per_1k:U.output_token_cost_per_1k?Number(U.output_token_cost_per_1k):0,currency:U.currency||"USD",is_available:!!U.is_available,is_default:!!U.is_default,status:U.status,released_at:U.released_at?U.released_at:null,deprecated_at:U.deprecated_at?U.deprecated_at:null,metadata:JSON.parse(W||"{}")};J?await od(`${Oa}/${J.id}`,{method:"PUT",headers:{"Content-Type":"application/json",...le()},body:JSON.stringify(ne)}):await od(Oa,{method:"POST",headers:{"Content-Type":"application/json",...le()},body:JSON.stringify(ne)}),K(!1),await Le()}catch(ne){alert(` : ${hy(ne)||"   "}`),console.error(ne)}finally{x(!1)}},Yt=async $=>{if(confirm(["  DB  .","-   .","-   (model_conversations )      .","",`: ${$.provider_product_name||""} / ${$.display_name} (${$.model_id})`,""," '' ."].join(`
`)))try{const Te=await fetch(`${Oa}/${$.id}`,{method:"DELETE",headers:{...le()}});if(!Te.ok){let nt=Te.statusText||" ",We="";try{if((Te.headers.get("content-type")||"").includes("application/json")){const wt=await Te.json();typeof wt?.message=="string"&&wt.message.trim()&&(nt=wt.message),typeof wt?.details=="string"&&wt.details.trim()&&(We=wt.details)}else{const wt=(await Te.text()).trim();wt&&(We=wt)}}catch{}alert([`  . (HTTP ${Te.status})`,nt?`- : ${nt}`:"",We?`
${We}`:""].filter(Boolean).join(`
`));return}await Le()}catch(Te){console.error(Te),alert(`   .
${hy(Te)||""}`.trim())}},pe=async($,ne)=>{v(Te=>({...Te,[$]:!0}));try{await od(`${Oa}/${$}`,{method:"PUT",headers:{"Content-Type":"application/json",...le()},body:JSON.stringify(ne)}),i(Te=>Te.map(nt=>nt.id===$?{...nt,...ne}:nt)),await Le()}finally{v(Te=>({...Te,[$]:!1}))}},Ce=$=>{ie($),ze(""),we(""),G(!0)},Fe=async()=>{if(P){He(!0),ze(""),we("");try{const $=await fetch(`${Oa}/simulate`,{method:"POST",headers:{"Content-Type":"application/json",...le()},body:JSON.stringify({model_id:P.id,input:H,max_tokens:Number(ae)||128})}),ne=$.headers.get("content-type")||"",Te=async()=>await $.json().catch(()=>({}));if(!$.ok){const Ye=`HTTP ${$.status} ${$.statusText||""}`.trim();let wt="  ",Be="";if(ne.includes("application/json")){const ot=await Te();typeof ot?.message=="string"&&ot.message.trim()&&(wt=ot.message),typeof ot?.details=="string"&&ot.details.trim()&&(Be=ot.details)}else{const ot=(await $.text().catch(()=>"")).trim();ot&&(Be=ot)}const pt=$.status===401?" . (  )":$.status===409&&(wt.includes("credential")||Be.includes("Credential"))?" Provider  Credential   . (Admin > AI  > Provider Credentials)":"";we([Ye,wt,Be,pt].filter(Boolean).join(`
`));return}const nt=ne.includes("application/json")?await Te():null,We=nt&&typeof nt=="object"&&typeof nt.output_text=="string"?String(nt.output_text):"";ze(We)}catch($){we(hy($)||"  "),console.error($)}finally{He(!1)}}},Ue=I!=="all"&&A==="all"&&E==="all"&&!L.trim(),ue=async $=>{if(!Ue)return;const ne=$.map(Te=>Te.id).filter(Boolean);if(ne.length){j(!0);try{const Te=await fetch(`${Oa}/reorder`,{method:"POST",headers:{"Content-Type":"application/json",...le()},body:JSON.stringify({model_type:I,ordered_ids:ne})});if(!Te.ok){const nt=(await Te.text().catch(()=>"")).trim();alert(`   (HTTP ${Te.status})
${nt}`.trim());return}await Le()}finally{j(!1)}}},Ze=async $=>{if(!Ue||!C||C===$)return;const ne=r.find(Be=>Be.id===C),Te=r.find(Be=>Be.id===$);if(!ne||!Te||ne.model_type!==Te.model_type)return;const nt=r.findIndex(Be=>Be.id===C),We=r.findIndex(Be=>Be.id===$);if(nt<0||We<0)return;const Ye=[...r],[wt]=Ye.splice(nt,1);Ye.splice(We,0,wt),i(Ye),await ue(Ye)};return l.jsxs("div",{className:"space-y-4 bg-background",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("div",{children:l.jsx("p",{className:"text-muted-foreground",children:"AI   ,   ()   ."})})}),l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsx("div",{className:"w-[220px]",children:l.jsxs(rt,{value:A,onValueChange:z,children:[l.jsx(st,{children:l.jsx(it,{placeholder:"Provider"})}),l.jsxs(at,{children:[l.jsx(ye,{value:"all",children:"All Providers"}),t.map($=>l.jsxs(ye,{value:$.id,children:[$.product_name," (",$.slug,")"]},$.id))]})]})}),l.jsx("div",{className:"w-[160px]",children:l.jsxs(rt,{value:I,onValueChange:T,children:[l.jsx(st,{children:l.jsx(it,{placeholder:"Type"})}),l.jsxs(at,{children:[l.jsx(ye,{value:"all",children:"All Types"}),["text","image","audio","music","video","multimodal","embedding","code"].map($=>l.jsx(ye,{value:$,children:$},$))]})]})}),l.jsx("div",{className:"w-[180px]",children:l.jsxs(rt,{value:E,onValueChange:M,children:[l.jsx(st,{children:l.jsx(it,{placeholder:"Status"})}),l.jsxs(at,{children:[l.jsx(ye,{value:"all",children:"All Status"}),["active","inactive","deprecated","beta"].map($=>l.jsx(ye,{value:$,children:$},$))]})]})}),l.jsxs("form",{onSubmit:$=>{$.preventDefault(),Le()},className:"flex gap-2",children:[l.jsx(Re,{placeholder:": display/model_id/provider...",value:L,onChange:$=>D($.target.value),className:"w-[320px]"}),l.jsxs(xe,{type:"submit",variant:"secondary",children:[l.jsx(ws,{className:"h-4 w-4 mr-2"})," "]})]})]}),l.jsxs("div",{className:"border rounded-md",children:[Ue?l.jsxs("div",{className:"px-4 py-2 text-xs text-muted-foreground border-b",children:["   ",l.jsx("span",{className:"font-medium",children:"DB(ai_models.sort_order)"})," ,       .",k?l.jsx("span",{className:"ml-2",children:" ..."}):null]}):l.jsxs("div",{className:"px-4 py-2 text-xs text-muted-foreground border-b",children:["() ",l.jsx("span",{className:"font-medium",children:"Type  "})," ",l.jsx("span",{className:"font-medium",children:"Provider/Status=All"}),","," ",l.jsx("span",{className:"font-medium",children:" "}),"  ."]}),l.jsxs(sr,{children:[l.jsx(ar,{children:l.jsxs(qe,{children:[l.jsx(ve,{className:"w-[40px]"}),l.jsx(ve,{children:""}),l.jsx(ve,{children:"Provider"}),l.jsx(ve,{children:"Type"}),l.jsx(ve,{children:"Response Schema"}),l.jsx(ve,{children:"Status"}),l.jsx(ve,{children:"Available"}),l.jsx(ve,{children:"Default"}),l.jsx(ve,{children:""}),l.jsx(ve,{children:""}),l.jsx(ve,{children:"Context"}),l.jsx(ve,{className:"text-right",children:""})]})}),l.jsx(lr,{children:f?l.jsx(qe,{children:l.jsx(ce,{colSpan:12,className:"h-24 text-center",children:l.jsx(Pt,{className:"h-6 w-6 animate-spin mx-auto"})})}):Xe.length===0?l.jsx(qe,{children:l.jsx(ce,{colSpan:12,className:"h-24 text-center",children:"  ."})}):Xe.map($=>l.jsxs(qe,{draggable:Ue&&!k,onDragStart:()=>N($.id),onDragEnd:()=>N(null),onDragOver:ne=>{!Ue||k||ne.preventDefault()},onDrop:ne=>{!Ue||k||(ne.preventDefault(),Ze($.id))},className:C===$.id?"opacity-60":"",children:[l.jsx(ce,{className:"text-muted-foreground",children:l.jsx(UR,{className:Ue?"h-4 w-4 cursor-grab":"h-4 w-4 opacity-30"})}),l.jsx(ce,{className:"font-medium",children:l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{children:$.display_name}),l.jsx("span",{className:"text-xs text-muted-foreground",children:$.model_id})]})}),l.jsxs(ce,{children:[l.jsx(vt,{variant:"outline",className:"font-mono text-xs",children:$.provider_slug||"-"}),l.jsx("div",{className:"text-xs text-muted-foreground",children:$.provider_product_name||""})]}),l.jsx(ce,{children:l.jsx(vt,{variant:"secondary",children:$.model_type})}),l.jsx(ce,{children:l.jsxs(rt,{value:$.response_schema_id||"__none__",onValueChange:ne=>void pe($.id,{response_schema_id:ne==="__none__"?null:ne}),disabled:!!y[$.id],children:[l.jsx(st,{className:"h-8 w-[220px]",children:l.jsx(it,{placeholder:"()"})}),l.jsxs(at,{children:[l.jsx(ye,{value:"__none__",children:"()"}),u.filter(ne=>ne.is_active).map(ne=>l.jsx(ye,{value:ne.id,children:`${ne.name} (v${ne.version})${ne.strict?"  strict":""}`},ne.id))]})]})}),l.jsx(ce,{children:l.jsxs(rt,{value:$.status,onValueChange:ne=>void pe($.id,{status:ne}),disabled:!!y[$.id],children:[l.jsx(st,{className:"h-8 w-[140px]",children:l.jsx(it,{})}),l.jsx(at,{children:["active","inactive","deprecated","beta"].map(ne=>l.jsx(ye,{value:ne,children:ne},ne))})]})}),l.jsx(ce,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Wn,{checked:!!$.is_available,onCheckedChange:ne=>void pe($.id,{is_available:ne}),disabled:!!y[$.id]}),l.jsx("span",{className:"text-xs text-muted-foreground",children:$.is_available?"Yes":"No"})]})}),l.jsx(ce,{children:$.is_default?l.jsx(vt,{children:"Yes"}):l.jsx("span",{className:"text-xs text-muted-foreground",children:"-"})}),l.jsx(ce,{className:"text-xs text-muted-foreground",children:Sp($.released_at)||"-"}),l.jsx(ce,{className:"text-xs text-muted-foreground",children:Sp($.deprecated_at)||"-"}),l.jsx(ce,{className:"text-xs text-muted-foreground",children:$.context_window??"-"}),l.jsx(ce,{className:"text-right",children:l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(xe,{variant:"ghost",size:"icon",onClick:()=>Ce($),children:l.jsx(P6,{className:"h-4 w-4"})}),l.jsx(xe,{variant:"ghost",size:"icon",onClick:()=>Mt($),children:l.jsx(zr,{className:"h-4 w-4"})}),l.jsx(xe,{variant:"ghost",size:"icon",onClick:()=>Yt($),children:l.jsx(yr,{className:"h-4 w-4 text-destructive"})})]})})]},$.id))})]})]}),l.jsx(Yn,{open:V,onOpenChange:K,children:l.jsxs(Kn,{className:"sm:max-w-[720px] max-h-[80vh] overflow-y-auto",children:[l.jsxs(Jn,{children:[l.jsx(Xn,{children:J?" ":" "}),l.jsx(vr,{children:"  .        ."})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{className:"text-right",children:"Provider"}),l.jsxs(rt,{value:U.provider_id,onValueChange:$=>_(ne=>({...ne,provider_id:$})),children:[l.jsx(st,{className:"col-span-3",children:l.jsx(it,{placeholder:"Provider "})}),l.jsx(at,{children:t.map($=>l.jsxs(ye,{value:$.id,children:[$.product_name," (",$.slug,")"]},$.id))})]})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{className:"text-right",children:"model_id"}),l.jsx(Re,{className:"col-span-3",value:U.model_id,onChange:$=>_(ne=>({...ne,model_id:$.target.value}))})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{className:"text-right",children:"display_name"}),l.jsx(Re,{className:"col-span-3",value:U.display_name,onChange:$=>_(ne=>({...ne,display_name:$.target.value}))})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{className:"text-right",children:"type"}),l.jsxs(rt,{value:U.model_type,onValueChange:$=>_(ne=>({...ne,model_type:$})),children:[l.jsx(st,{className:"col-span-3",children:l.jsx(it,{})}),l.jsx(at,{children:["text","image","audio","music","video","multimodal","embedding","code"].map($=>l.jsx(ye,{value:$,children:$},$))})]})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{className:"text-right",children:"prompt_template"}),l.jsxs(rt,{value:U.prompt_template_id,onValueChange:$=>_(ne=>({...ne,prompt_template_id:$})),children:[l.jsx(st,{className:"col-span-3",children:l.jsx(it,{placeholder:"()  "})}),l.jsxs(at,{children:[l.jsx(ye,{value:"__none__",children:"()"}),s.filter($=>$.is_active).map($=>l.jsx(ye,{value:$.id,children:($.purpose?`${$.purpose}  `:"")+`${$.name} (v${$.version})`},$.id))]})]})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{className:"text-right",children:"response_schema"}),l.jsxs(rt,{value:U.response_schema_id,onValueChange:$=>_(ne=>({...ne,response_schema_id:$})),children:[l.jsx(st,{className:"col-span-3",children:l.jsx(it,{placeholder:"()  (JSON schema)"})}),l.jsxs(at,{children:[l.jsx(ye,{value:"__none__",children:"()"}),u.filter($=>$.is_active).map($=>l.jsx(ye,{value:$.id,children:`${$.name} (v${$.version})${$.strict?"  strict":""}`},$.id))]})]})]}),l.jsxs("div",{className:"grid grid-cols-4 items-start gap-4",children:[l.jsx(be,{className:"text-right pt-2",children:"description"}),l.jsx(An,{className:"col-span-3",value:U.description,onChange:$=>_(ne=>({...ne,description:$.target.value}))})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{className:"text-right",children:"status"}),l.jsxs(rt,{value:U.status,onValueChange:$=>_(ne=>({...ne,status:$})),children:[l.jsx(st,{className:"col-span-3",children:l.jsx(it,{})}),l.jsx(at,{children:["active","inactive","deprecated","beta"].map($=>l.jsx(ye,{value:$,children:$},$))})]})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{className:"text-right",children:"context_window"}),l.jsx(Re,{className:"col-span-3",type:"number",value:U.context_window,onChange:$=>_(ne=>({...ne,context_window:$.target.value}))})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{className:"text-right",children:"max_output_tokens"}),l.jsx(Re,{className:"col-span-3",type:"number",value:U.max_output_tokens,onChange:$=>_(ne=>({...ne,max_output_tokens:$.target.value}))})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{className:"text-right",children:"released_at"}),l.jsx(Re,{className:"col-span-3",type:"date",value:U.released_at,onChange:$=>_(ne=>({...ne,released_at:$.target.value}))})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{className:"text-right",children:"deprecated_at"}),l.jsx(Re,{className:"col-span-3",type:"date",value:U.deprecated_at,onChange:$=>_(ne=>({...ne,deprecated_at:$.target.value}))})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{className:"text-right",children:"input cost / 1k"}),l.jsx(Re,{className:"col-span-3",type:"number",value:U.input_token_cost_per_1k,onChange:$=>_(ne=>({...ne,input_token_cost_per_1k:$.target.value}))})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{className:"text-right",children:"output cost / 1k"}),l.jsx(Re,{className:"col-span-3",type:"number",value:U.output_token_cost_per_1k,onChange:$=>_(ne=>({...ne,output_token_cost_per_1k:$.target.value}))})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{className:"text-right",children:"currency"}),l.jsx(Re,{className:"col-span-3",value:U.currency,onChange:$=>_(ne=>({...ne,currency:$.target.value}))})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{className:"text-right",children:"available"}),l.jsxs("div",{className:"col-span-3 flex items-center gap-2",children:[l.jsx(Wn,{checked:U.is_available,onCheckedChange:$=>_(ne=>({...ne,is_available:$}))}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"  "})]})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{className:"text-right",children:"default"}),l.jsxs("div",{className:"col-span-3 flex items-center gap-2",children:[l.jsx(Wn,{checked:U.is_default,onCheckedChange:$=>_(ne=>({...ne,is_default:$}))}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"     "})]})]}),l.jsxs("div",{className:"grid grid-cols-4 items-start gap-4",children:[l.jsx(be,{className:"text-right pt-2",children:"capabilities"}),l.jsxs("div",{className:"col-span-3 space-y-1",children:[l.jsx(An,{className:"font-mono text-xs min-h-[110px]",value:q,onChange:$=>F($.target.value)}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[") ",l.jsx("span",{className:"font-mono",children:'["chat","vision","tool_calling"]'})," (JSON )"]})]})]}),l.jsxs("div",{className:"grid grid-cols-4 items-start gap-4",children:[l.jsx(be,{className:"text-right pt-2",children:"metadata"}),l.jsxs("div",{className:"col-span-3 space-y-1",children:[l.jsx(An,{className:"font-mono text-xs min-h-[110px]",value:W,onChange:$=>R($.target.value)}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[") ",l.jsxs("span",{className:"font-mono",children:["{",'"family":"gpt-5","tier":"mini","source":"manual_preset"',"}"]})," (JSON )"]})]})]})]}),l.jsx(br,{children:l.jsxs(xe,{onClick:tn,disabled:m,children:[m?l.jsx(Pt,{className:"h-4 w-4 mr-2 animate-spin"}):null,""]})})]})}),l.jsx(Yn,{open:Q,onOpenChange:G,children:l.jsxs(Kn,{className:"sm:max-w-[820px] max-h-[85vh] overflow-y-auto",children:[l.jsxs(Jn,{children:[l.jsx(Xn,{children:" "}),l.jsx(vr,{children:"   Provider API  . ( Provider  Credential   .)"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[l.jsxs("div",{className:"text-sm",children:[l.jsx("span",{className:"font-medium",children:P?.provider_product_name||""}),l.jsx("span",{className:"mx-2 text-muted-foreground",children:"/"}),l.jsx("span",{className:"font-medium",children:P?.display_name||""}),l.jsxs("span",{className:"mx-2 text-muted-foreground",children:["(",P?.model_id||"",")"]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Re,{className:"w-[120px]",value:ae,onChange:$=>ke($.target.value),placeholder:"max_tokens"}),l.jsxs(xe,{onClick:Fe,disabled:Ge,children:[Ge?l.jsx(Pt,{className:"h-4 w-4 mr-2 animate-spin"}):l.jsx(P6,{className:"h-4 w-4 mr-2"}),""]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:""}),l.jsx(An,{value:H,onChange:$=>te($.target.value),className:"min-h-[180px]"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:""}),l.jsx(An,{value:Me,readOnly:!0,className:"min-h-[180px]"}),ft?l.jsx("p",{className:"text-sm text-destructive whitespace-pre-wrap",children:ft}):null]})]})]}),l.jsx(br,{children:l.jsx(xe,{variant:"secondary",onClick:()=>G(!1),children:""})})]})})]})}const xle="/api/ai/models",yle="/api/ai/credentials",Cp="/api/ai/model-access-by-type",py="__none__";async function ud(e,t){const n=await fetch(e,t),r=n.headers.get("content-type")||"";if(!n.ok)throw new Error(`HTTP ${n.status}`);if(!r.includes("application/json"))throw new Error("NOT_JSON");return await n.json()}function ble(){const{setAction:e}=Gi(),[t,n]=b.useState("personal"),[r,i]=b.useState([]),[s,a]=b.useState([]),[u,d]=b.useState([]),[f,p]=b.useState(!0),[m,x]=b.useState(!1),[y,v]=b.useState(""),[k,j]=b.useState(!1),[C,N]=b.useState(null),[A,z]=b.useState("[]"),[I,T]=b.useState("{}"),[E,M]=b.useState({model_id:"",credential_id:"",status:"active",access_level:"standard",priority:"0",is_preferred:!1,rate_limit_per_minute:"",rate_limit_per_day:"",max_tokens_per_request:""}),L=()=>{const G=localStorage.getItem("token");return G?{Authorization:`Bearer ${G}`}:{}},D=async()=>{const G=await ud(xle,{headers:{...L()}});i(G)},V=async()=>{const G=await ud(yle,{headers:{...L()}});if(!Array.isArray(G)){a([]);return}const P=G.map(ie=>({id:String(ie.id||""),provider_id:String(ie.provider_id||""),credential_name:String(ie.credential_name||""),provider_product_name:typeof ie.provider_product_name=="string"?ie.provider_product_name:void 0,provider_slug:typeof ie.provider_slug=="string"?ie.provider_slug:void 0,is_active:!!ie.is_active,is_default:!!ie.is_default,api_key_masked:typeof ie.api_key_masked=="string"?ie.api_key_masked:null}));a(P.filter(ie=>ie.id&&ie.provider_id&&ie.credential_name))},K=async G=>{const P=await ud(`${Cp}?tenant_type=${encodeURIComponent(G)}`,{headers:{...L()}});d(P)};b.useEffect(()=>{(async()=>{p(!0);try{await Promise.all([D(),V()]),await K(t)}finally{p(!1)}})()},[]),b.useEffect(()=>{K(t)},[t]);const J=b.useMemo(()=>{const G=y.trim().toLowerCase();return G?u.filter(P=>`${P.provider_product_name||""} ${P.provider_slug||""} ${P.model_display_name||""} ${P.model_api_id||""} ${P.status} ${P.access_level}`.toLowerCase().includes(G)):u},[u,y]),Z=b.useMemo(()=>r.find(G=>G.id===E.model_id)||null,[r,E.model_id]),q=b.useMemo(()=>Z?s.filter(G=>G.provider_id===Z.provider_id):s,[s,Z]),F=()=>{N(null),M({model_id:r[0]?.id||"",credential_id:"",status:"active",access_level:"standard",priority:"0",is_preferred:!1,rate_limit_per_minute:"",rate_limit_per_day:"",max_tokens_per_request:""}),z("[]"),T("{}"),j(!0)};b.useEffect(()=>(e(l.jsxs(xe,{onClick:F,size:"sm",children:[l.jsx(Rn,{className:"mr-2 h-4 w-4"}),"  "]})),()=>e(null)),[e,r]);const W=G=>{N(G),M({model_id:G.model_id,credential_id:G.credential_id||"",status:G.status,access_level:G.access_level,priority:String(G.priority??0),is_preferred:!!G.is_preferred,rate_limit_per_minute:G.rate_limit_per_minute?.toString()??"",rate_limit_per_day:G.rate_limit_per_day?.toString()??"",max_tokens_per_request:G.max_tokens_per_request?.toString()??""}),z(JSON.stringify(G.allowed_features??[],null,2)),T(JSON.stringify(G.metadata??{},null,2)),j(!0)},R=()=>{try{const G=JSON.parse(A||"[]");if(!Array.isArray(G))return'allowed_features JSON  . ) ["chat","vision"]'}catch{return"allowed_features JSON   ."}try{const G=JSON.parse(I||"{}");if(G!==null&&typeof G!="object")return"metadata JSON  . ) {}"}catch{return"metadata JSON   ."}return null},U=async()=>{if(!E.model_id){alert(" .");return}const G=R();if(G){alert(G);return}x(!0);try{const P={tenant_type:t,model_id:E.model_id,credential_id:E.credential_id||null,status:E.status,access_level:E.access_level,priority:Number(E.priority||0),is_preferred:!!E.is_preferred,rate_limit_per_minute:E.rate_limit_per_minute?Number(E.rate_limit_per_minute):null,rate_limit_per_day:E.rate_limit_per_day?Number(E.rate_limit_per_day):null,max_tokens_per_request:E.max_tokens_per_request?Number(E.max_tokens_per_request):null,allowed_features:JSON.parse(A||"[]"),metadata:JSON.parse(I||"{}")};C?await ud(`${Cp}/${C.id}`,{method:"PUT",headers:{"Content-Type":"application/json",...L()},body:JSON.stringify(P)}):await ud(Cp,{method:"POST",headers:{"Content-Type":"application/json",...L()},body:JSON.stringify(P)}),j(!1),await K(t)}catch(P){const ie=P instanceof Error?P.message:"   ";alert(` : ${ie}`),console.error(P)}finally{x(!1)}},_=async G=>{if(confirm(` ?
- ${G.provider_product_name||""} / ${G.model_display_name||G.model_id}`))try{await fetch(`${Cp}/${G.id}`,{method:"DELETE",headers:{...L()}}),await K(t)}catch(P){console.error(P),alert("   .")}},Q=G=>{switch(G){case"active":return l.jsx(vt,{className:"bg-green-100 text-green-800 hover:bg-green-100",children:"Active"});case"inactive":return l.jsx(vt,{variant:"secondary",children:"Inactive"});case"suspended":return l.jsx(vt,{className:"bg-red-100 text-red-800 hover:bg-red-100",children:"Suspended"})}};return l.jsxs("div",{className:"space-y-4 bg-background",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("div",{children:l.jsxs("p",{className:"text-muted-foreground",children:["  , ",l.jsx("b",{children:" (personal/team/enterprise)"}),"   AI    ."]})})}),l.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[l.jsx("div",{className:"w-[220px]",children:l.jsxs(rt,{value:t,onValueChange:G=>n(G),children:[l.jsx(st,{children:l.jsx(it,{placeholder:"  "})}),l.jsxs(at,{children:[l.jsx(ye,{value:"personal",children:"personal"}),l.jsx(ye,{value:"team",children:"team"}),l.jsx(ye,{value:"enterprise",children:"enterprise"})]})]})}),l.jsxs("form",{onSubmit:G=>{G.preventDefault()},className:"flex gap-2",children:[l.jsx(Re,{placeholder:"// ...",value:y,onChange:G=>v(G.target.value),className:"w-[320px]"}),l.jsxs(xe,{type:"submit",variant:"secondary",children:[l.jsx(ws,{className:"h-4 w-4 mr-2"})," "]})]})]}),l.jsx("div",{className:"border rounded-md",children:l.jsxs(sr,{children:[l.jsx(ar,{children:l.jsxs(qe,{children:[l.jsx(ve,{children:""}),l.jsx(ve,{children:""}),l.jsx(ve,{children:""}),l.jsx(ve,{children:""}),l.jsx(ve,{children:""}),l.jsx(ve,{children:"Preferred"}),l.jsx(ve,{children:"Credential"}),l.jsx(ve,{className:"text-right",children:""})]})}),l.jsx(lr,{children:f?l.jsx(qe,{children:l.jsx(ce,{colSpan:8,className:"h-24 text-center",children:l.jsx(Pt,{className:"h-6 w-6 animate-spin mx-auto"})})}):J.length===0?l.jsx(qe,{children:l.jsx(ce,{colSpan:8,className:"h-24 text-center",children:"  ."})}):J.map(G=>l.jsxs(qe,{children:[l.jsx(ce,{className:"font-medium",children:l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{children:G.model_display_name||"-"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:G.model_api_id||""})]})}),l.jsxs(ce,{children:[l.jsx(vt,{variant:"outline",className:"font-mono text-xs",children:G.provider_slug||"-"}),l.jsx("div",{className:"text-xs text-muted-foreground",children:G.provider_product_name||""})]}),l.jsx(ce,{children:Q(G.status)}),l.jsx(ce,{children:l.jsx(vt,{variant:"secondary",children:G.access_level})}),l.jsx(ce,{children:l.jsx(vt,{variant:"outline",children:G.priority})}),l.jsx(ce,{children:G.is_preferred?l.jsx(vt,{children:"Yes"}):l.jsx("span",{className:"text-xs text-muted-foreground",children:"-"})}),l.jsx(ce,{className:"max-w-[240px] truncate",title:G.credential_name||"",children:G.credential_name?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(JR,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("span",{children:G.credential_name})]}):l.jsx("span",{className:"text-xs text-muted-foreground",children:""})}),l.jsx(ce,{className:"text-right",children:l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(xe,{variant:"ghost",size:"icon",onClick:()=>W(G),children:l.jsx(zr,{className:"h-4 w-4"})}),l.jsx(xe,{variant:"ghost",size:"icon",onClick:()=>_(G),children:l.jsx(yr,{className:"h-4 w-4 text-destructive"})})]})})]},G.id))})]})}),l.jsx(Yn,{open:k,onOpenChange:j,children:l.jsxs(Kn,{className:"sm:max-w-[720px] max-h-[80vh] overflow-y-auto",children:[l.jsxs(Jn,{children:[l.jsx(Xn,{children:C?" ":" "}),l.jsx(vr,{children:"        . (Credential   .)"})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"model_id",className:"text-right",children:""}),l.jsxs(rt,{value:E.model_id,onValueChange:G=>M(P=>({...P,model_id:G,credential_id:""})),children:[l.jsx(st,{className:"col-span-3",children:l.jsx(it,{placeholder:" "})}),l.jsx(at,{children:r.map(G=>l.jsxs(ye,{value:G.id,children:[G.provider_product_name," / ",G.display_name," (",G.model_type,")"]},G.id))})]})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"credential_id",className:"text-right",children:"Credential"}),l.jsxs(rt,{value:E.credential_id?E.credential_id:py,onValueChange:G=>M(P=>({...P,credential_id:G===py?"":G})),children:[l.jsx(st,{className:"col-span-3",children:l.jsx(it,{placeholder:"()  Credential "})}),l.jsxs(at,{children:[l.jsx(ye,{value:py,children:""}),q.map(G=>l.jsxs(ye,{value:G.id,children:[G.credential_name," ",G.is_default?"(default)":""," ",G.api_key_masked?`- ${G.api_key_masked}`:""]},G.id))]})]})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"status",className:"text-right",children:""}),l.jsxs(rt,{value:E.status,onValueChange:G=>M(P=>({...P,status:G})),children:[l.jsx(st,{className:"col-span-3",children:l.jsx(it,{placeholder:" "})}),l.jsxs(at,{children:[l.jsx(ye,{value:"active",children:"active"}),l.jsx(ye,{value:"inactive",children:"inactive"}),l.jsx(ye,{value:"suspended",children:"suspended"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"access_level",className:"text-right",children:""}),l.jsxs(rt,{value:E.access_level,onValueChange:G=>M(P=>({...P,access_level:G})),children:[l.jsx(st,{className:"col-span-3",children:l.jsx(it,{placeholder:" "})}),l.jsxs(at,{children:[l.jsx(ye,{value:"standard",children:"standard"}),l.jsx(ye,{value:"premium",children:"premium"}),l.jsx(ye,{value:"enterprise",children:"enterprise"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"priority",className:"text-right",children:""}),l.jsx(Re,{id:"priority",type:"number",value:E.priority,onChange:G=>M(P=>({...P,priority:G.target.value})),className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"is_preferred",className:"text-right",children:"Preferred"}),l.jsxs("div",{className:"flex items-center space-x-2 col-span-3",children:[l.jsx(Wn,{id:"is_preferred",checked:E.is_preferred,onCheckedChange:G=>M(P=>({...P,is_preferred:G}))}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"   (1 )"})]})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"rate_limit_per_minute",className:"text-right",children:" "}),l.jsx(Re,{id:"rate_limit_per_minute",type:"number",value:E.rate_limit_per_minute,onChange:G=>M(P=>({...P,rate_limit_per_minute:G.target.value})),className:"col-span-3",placeholder:""})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"rate_limit_per_day",className:"text-right",children:" "}),l.jsx(Re,{id:"rate_limit_per_day",type:"number",value:E.rate_limit_per_day,onChange:G=>M(P=>({...P,rate_limit_per_day:G.target.value})),className:"col-span-3",placeholder:""})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(be,{htmlFor:"max_tokens_per_request",className:"text-right",children:" "}),l.jsx(Re,{id:"max_tokens_per_request",type:"number",value:E.max_tokens_per_request,onChange:G=>M(P=>({...P,max_tokens_per_request:G.target.value})),className:"col-span-3",placeholder:""})]}),l.jsxs("div",{className:"grid grid-cols-4 items-start gap-4",children:[l.jsx(be,{htmlFor:"allowed_features",className:"text-right pt-2",children:""}),l.jsx(An,{id:"allowed_features",value:A,onChange:G=>z(G.target.value),className:"col-span-3 font-mono text-xs min-h-[110px]",placeholder:': ["chat","completion"]'})]}),l.jsxs("div",{className:"grid grid-cols-4 items-start gap-4",children:[l.jsx(be,{htmlFor:"metadata",className:"text-right pt-2",children:"Metadata"}),l.jsx(An,{id:"metadata",value:I,onChange:G=>T(G.target.value),className:"col-span-3 font-mono text-xs min-h-[110px]",placeholder:': {"notes":"type policy"}'})]})]}),l.jsx(br,{children:l.jsxs(xe,{onClick:U,disabled:m,children:[m?l.jsx(Pt,{className:"h-4 w-4 mr-2 animate-spin"}):null,""]})})]})})]})}const p8="/api/ai/usage-logs";function vle(e){try{return new Date(e).toLocaleString()}catch{return e}}function wle(e){return e==="success"?"default":e==="rate_limited"?"secondary":"destructive"}function kle(){const[e,t]=b.useState(!1),[n,r]=b.useState([]),[i,s]=b.useState(0),[a,u]=b.useState(""),[d,f]=b.useState("all"),[p,m]=b.useState(""),[x,y]=b.useState(""),[v,k]=b.useState(""),[j,C]=b.useState(0),N=50,[A,z]=b.useState(null),[I,T]=b.useState(!1),[E,M]=b.useState(!1),[L,D]=b.useState(null),V=b.useMemo(()=>{const q=new URLSearchParams;return q.set("limit",String(N)),q.set("offset",String(j*N)),a.trim()&&q.set("q",a.trim()),d!=="all"&&q.set("status",d),p.trim()&&q.set("provider_slug",p.trim()),x.trim()&&q.set("model_id",x.trim()),v.trim()&&q.set("feature_name",v.trim()),q.toString()},[v,N,x,j,p,a,d]);async function K(){t(!0);try{const q=await fetch(`${p8}?${V}`),F=await q.json();if(!q.ok||!F.ok)throw new Error("FAILED");r(F.rows||[]),s(F.total||0)}catch(q){console.error(q),r([]),s(0)}finally{t(!1)}}async function J(q){z(q),T(!0),M(!0),D(null);try{const F=await fetch(`${p8}/${q}`),W=await F.json();if(!F.ok||!W.ok)throw new Error("FAILED_DETAIL");D(W.row)}catch(F){console.error(F),D({error:"  "})}finally{M(!1)}}b.useEffect(()=>{K()},[V]);const Z=Math.max(1,Math.ceil(i/N));return l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xl font-semibold",children:"AI  -   "}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"  (//) ."})]}),l.jsxs(xe,{variant:"outline",onClick:()=>K(),disabled:e,children:[e?l.jsx(Pt,{className:"h-4 w-4 animate-spin"}):l.jsx(ul,{className:"h-4 w-4"}),l.jsx("span",{className:"ml-2",children:""})]})]}),l.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Re,{value:a,onChange:q=>{C(0),u(q.target.value)},placeholder:"(request_id / model / provider / error)",className:"w-[340px]"}),l.jsx(xe,{variant:"secondary",onClick:()=>K(),disabled:e,children:l.jsx(ws,{className:"h-4 w-4"})})]}),l.jsxs(rt,{value:d,onValueChange:q=>{C(0),f(q)},children:[l.jsx(st,{className:"w-[200px]",children:l.jsx(it,{placeholder:"()"})}),l.jsxs(at,{children:[l.jsx(ye,{value:"all",children:"()"}),l.jsx(ye,{value:"success",children:"success"}),l.jsx(ye,{value:"failure",children:"failure"}),l.jsx(ye,{value:"error",children:"error"}),l.jsx(ye,{value:"timeout",children:"timeout"}),l.jsx(ye,{value:"rate_limited",children:"rate_limited"})]})]}),l.jsx(Re,{value:p,onChange:q=>{C(0),m(q.target.value)},placeholder:"provider_slug (ex: openai)",className:"w-[220px]"}),l.jsx(Re,{value:x,onChange:q=>{C(0),y(q.target.value)},placeholder:"model_id (ex: gpt-4.1-mini)",className:"w-[260px]"}),l.jsx(Re,{value:v,onChange:q=>{C(0),k(q.target.value)},placeholder:"feature_name (ex: chat)",className:"w-[200px]"})]}),l.jsx("div",{className:"border rounded-md overflow-x-auto",children:l.jsxs(sr,{children:[l.jsx(ar,{children:l.jsxs(qe,{children:[l.jsx(ve,{className:"min-w-[160px]",children:""}),l.jsx(ve,{children:""}),l.jsx(ve,{children:""}),l.jsx(ve,{className:"min-w-[120px]",children:"Provider"}),l.jsx(ve,{className:"min-w-[260px]",children:"Model"}),l.jsx(ve,{className:"text-right",children:"Tokens"}),l.jsx(ve,{className:"text-right",children:"Cost"}),l.jsx(ve,{className:"text-right",children:"Latency"}),l.jsx(ve,{className:"min-w-[220px]",children:"Request ID"}),l.jsx(ve,{className:"min-w-[160px]",children:"User"}),l.jsx(ve,{className:"text-right",children:""})]})}),l.jsx(lr,{children:e?l.jsx(qe,{children:l.jsxs(ce,{colSpan:11,className:"py-8 text-center text-muted-foreground",children:[l.jsx(Pt,{className:"h-4 w-4 inline-block animate-spin mr-2"})," ..."]})}):n.length===0?l.jsx(qe,{children:l.jsx(ce,{colSpan:11,className:"py-10 text-center text-muted-foreground",children:" ."})}):n.map(q=>l.jsxs(qe,{children:[l.jsx(ce,{className:"whitespace-nowrap",children:vle(q.created_at)}),l.jsx(ce,{children:l.jsx(vt,{variant:wle(q.status),children:q.status})}),l.jsx(ce,{children:q.feature_name}),l.jsx(ce,{className:"font-mono",children:q.provider_slug}),l.jsx(ce,{children:l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"font-medium",children:q.model_display_name}),l.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:q.model_api_id})]})}),l.jsxs(ce,{className:"text-right font-mono",children:[q.input_tokens,"/",q.output_tokens,"/",q.total_tokens]}),l.jsxs(ce,{className:"text-right font-mono",children:[q.total_cost," ",q.currency]}),l.jsx(ce,{className:"text-right font-mono",children:typeof q.response_time_ms=="number"?`${q.response_time_ms}ms`:"-"}),l.jsx(ce,{className:"font-mono text-xs",children:q.request_id||"-"}),l.jsx(ce,{className:"text-xs",children:q.user_email?l.jsx("span",{children:q.user_email}):l.jsx("span",{className:"text-muted-foreground",children:"-"})}),l.jsx(ce,{className:"text-right",children:l.jsx(xe,{variant:"outline",size:"sm",onClick:()=>J(q.id),children:""})})]},q.id))})]})}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"text-sm text-muted-foreground",children:[" ",i.toLocaleString(),"   ",j+1,"/",Z]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(xe,{variant:"outline",disabled:j<=0||e,onClick:()=>C(q=>Math.max(0,q-1)),children:""}),l.jsx(xe,{variant:"outline",disabled:(j+1)*N>=i||e,onClick:()=>C(q=>q+1),children:""})]})]}),l.jsx(Yn,{open:I,onOpenChange:T,children:l.jsxs(Kn,{className:"max-w-3xl",children:[l.jsx(Jn,{children:l.jsx(Xn,{children:"  "})}),E?l.jsxs("div",{className:"py-8 text-center text-muted-foreground",children:[l.jsx(Pt,{className:"h-4 w-4 inline-block animate-spin mr-2"})," ..."]}):l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"text-sm text-muted-foreground font-mono",children:["id: ",A]}),l.jsx("div",{className:"border rounded-md p-3 bg-muted/30 overflow-auto max-h-[60vh]",children:l.jsx("pre",{className:"text-xs whitespace-pre-wrap break-all",children:JSON.stringify(L,null,2)})})]})]})})]})}const cd="/api/ai/routing-rules",Sle="/api/ai/models";function my(e){return e instanceof Error?e.message:String(e)}function gy(e){if(!e||typeof e!="object")return null;const t=e;return typeof t.message=="string"?t.message:null}function z2(e){const t=typeof e=="string"?e.trim().toUpperCase():"";return t==="GLOBAL"||t==="ROLE"||t==="TENANT"?t:"TENANT"}function Cle(e){return e==="all"?"all":z2(e)}function jle(e){return e==="all"||e==="true"||e==="false"?e:"all"}function m8(e){try{const t=JSON.parse(e);return!t||typeof t!="object"||Array.isArray(t)?{}:t}catch{return{}}}function zl(e){try{return JSON.stringify(e??{},null,2)}catch{return"{}"}}function _le(){const[e,t]=b.useState(!1),[n,r]=b.useState([]),[i,s]=b.useState(0),[a,u]=b.useState([]),[d,f]=b.useState(!1),[p,m]=b.useState(""),[x,y]=b.useState("all"),[v,k]=b.useState("all"),[j,C]=b.useState(0),N=50,[A,z]=b.useState(!1),[I,T]=b.useState(null),[E,M]=b.useState(""),[L,D]=b.useState(0),[V,K]=b.useState(!0),[J,Z]=b.useState("TENANT"),[q,F]=b.useState(""),[W,R]=b.useState(""),[U,_]=b.useState("__none__"),[Q,G]=b.useState(zl({feature:"chat"})),[P,ie]=b.useState(zl({})),H=b.useMemo(()=>{const le=new URLSearchParams;return le.set("limit",String(N)),le.set("offset",String(j*N)),p.trim()&&le.set("q",p.trim()),x!=="all"&&le.set("is_active",x),v!=="all"&&le.set("scope_type",v),le.toString()},[x,N,j,p,v]);async function te(){f(!0);try{const Ke=await(await fetch(`${Sle}?status=active&is_available=true`)).json();u(Array.isArray(Ke)?Ke:[])}catch(le){console.error(le),u([])}finally{f(!1)}}async function ae(){t(!0);try{const le=await fetch(`${cd}?${H}`),Ke=await le.json();if(!le.ok||!Ke.ok)throw new Error("FAILED_LIST");r(Ke.rows||[]),s(Ke.total||0)}catch(le){console.error(le),r([]),s(0)}finally{t(!1)}}function ke(){T(null),M(""),D(0),K(!0),Z("TENANT"),F(""),R(""),_("__none__"),G(zl({feature:"chat"})),ie(zl({}))}function Ge(){ke(),z(!0)}function He(le){T(le),M(le.rule_name),D(Number(le.priority||0)),K(!!le.is_active),Z(z2(le.scope_type)),F(typeof le.scope_id=="string"?le.scope_id:""),R(le.target_model_id),_(le.fallback_model_id?String(le.fallback_model_id):"__none__"),G(zl(le.conditions||{})),ie(zl(le.metadata||{})),z(!0)}async function Me(){const le=E.trim();if(!le)return alert(" (rule_name)  .");if(!W)return alert(" (target_model_id)  .");const Ke=m8(Q);if(Object.keys(Ke).length===0)return alert("conditions JSON object .");const Y=m8(P);if(J==="ROLE"&&!q.trim())return alert("ROLE  scope_id(UUID)  .");const Ne={scope_type:J,scope_id:J==="GLOBAL"||J==="TENANT"?null:q.trim(),rule_name:le,priority:L,is_active:V,target_model_id:W,fallback_model_id:U==="__none__"?null:U,conditions:Ke,metadata:Y};try{const Le=!!I?.id,Xe=Le?`${cd}/${I.id}`:cd,Mt=await fetch(Xe,{method:Le?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ne)}),Ot=await Mt.json().catch(()=>({}));if(!Mt.ok)throw new Error(gy(Ot)||" ");z(!1),ke(),await ae()}catch(Le){console.error(Le),alert(my(Le))}}async function ze(le,Ke){try{const Y=await fetch(`${cd}/${le.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_active:Ke})}),Ne=await Y.json().catch(()=>({}));if(!Y.ok)throw new Error(gy(Ne)||" ");await ae()}catch(Y){console.error(Y),alert(my(Y))}}async function ft(le){if(window.confirm(`"${le.rule_name}"  . ?`))try{const Y=await fetch(`${cd}/${le.id}`,{method:"DELETE"}),Ne=await Y.json().catch(()=>({}));if(!Y.ok)throw new Error(gy(Ne)||" ");await ae()}catch(Y){console.error(Y),alert(my(Y))}}b.useEffect(()=>{te()},[]),b.useEffect(()=>{ae()},[H]);const we=Math.max(1,Math.ceil(i/N));return l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xl font-semibold",children:"AI  -   "}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"(conditions)   (target/fallback)   ."})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(xe,{variant:"outline",onClick:()=>ae(),disabled:e,children:[e?l.jsx(Pt,{className:"h-4 w-4 animate-spin"}):l.jsx(ul,{className:"h-4 w-4"}),l.jsx("span",{className:"ml-2",children:""})]}),l.jsxs(xe,{onClick:Ge,children:[l.jsx(Rn,{className:"h-4 w-4"}),l.jsx("span",{className:"ml-2",children:" "})]})]})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx(Re,{value:p,onChange:le=>{C(0),m(le.target.value)},placeholder:"  ",className:"w-[280px]"}),l.jsxs(rt,{value:v,onValueChange:le=>{C(0),k(Cle(le))},children:[l.jsx(st,{className:"w-[180px]",children:l.jsx(it,{placeholder:"()"})}),l.jsxs(at,{children:[l.jsx(ye,{value:"all",children:"()"}),l.jsx(ye,{value:"GLOBAL",children:"GLOBAL"}),l.jsx(ye,{value:"ROLE",children:"ROLE"}),l.jsx(ye,{value:"TENANT",children:"TENANT"})]})]}),l.jsxs(rt,{value:x,onValueChange:le=>{C(0),y(jle(le))},children:[l.jsx(st,{className:"w-[180px]",children:l.jsx(it,{placeholder:"()"})}),l.jsxs(at,{children:[l.jsx(ye,{value:"all",children:"()"}),l.jsx(ye,{value:"true",children:""}),l.jsx(ye,{value:"false",children:""})]})]})]}),l.jsx("div",{className:"border rounded-md overflow-x-auto",children:l.jsxs(sr,{children:[l.jsx(ar,{children:l.jsxs(qe,{children:[l.jsx(ve,{className:"min-w-[200px]",children:""}),l.jsx(ve,{className:"text-right",children:"Priority"}),l.jsx(ve,{className:"min-w-[160px]",children:"Scope"}),l.jsx(ve,{children:""}),l.jsx(ve,{className:"min-w-[260px]",children:"Target"}),l.jsx(ve,{className:"min-w-[260px]",children:"Fallback"}),l.jsx(ve,{className:"min-w-[340px]",children:"Conditions"}),l.jsx(ve,{className:"min-w-[160px]",children:""}),l.jsx(ve,{className:"text-right",children:""})]})}),l.jsx(lr,{children:e?l.jsx(qe,{children:l.jsxs(ce,{colSpan:9,className:"py-8 text-center text-muted-foreground",children:[l.jsx(Pt,{className:"h-4 w-4 inline-block animate-spin mr-2"})," ..."]})}):n.length===0?l.jsx(qe,{children:l.jsx(ce,{colSpan:9,className:"py-10 text-center text-muted-foreground",children:"   ."})}):n.map(le=>l.jsxs(qe,{children:[l.jsxs(ce,{children:[l.jsx("div",{className:"font-medium",children:le.rule_name}),l.jsx("div",{className:"text-xs text-muted-foreground font-mono",children:le.id})]}),l.jsx(ce,{className:"text-right font-mono",children:le.priority}),l.jsx(ce,{children:l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"font-mono text-xs",children:le.scope_type||"TENANT"}),l.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:le.scope_type==="GLOBAL"?"-":le.scope_id?String(le.scope_id).slice(0,8)+"":"-"})]})}),l.jsx(ce,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Wn,{checked:le.is_active,onCheckedChange:Ke=>ze(le,Ke)}),l.jsx(vt,{variant:le.is_active?"default":"secondary",children:le.is_active?"ON":"OFF"})]})}),l.jsx(ce,{children:l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"font-medium",children:le.target_model_display_name}),l.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:le.target_model_api_id})]})}),l.jsx(ce,{children:le.fallback_model_id?l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"font-medium",children:le.fallback_model_display_name}),l.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:le.fallback_model_api_id})]}):l.jsx("span",{className:"text-muted-foreground",children:"-"})}),l.jsx(ce,{children:l.jsx("pre",{className:"text-xs whitespace-pre-wrap break-all max-h-[120px] overflow-auto bg-muted/30 p-2 rounded",children:zl(le.conditions)})}),l.jsx(ce,{className:"whitespace-nowrap",children:new Date(le.updated_at).toLocaleString()}),l.jsx(ce,{className:"text-right",children:l.jsxs("div",{className:"flex gap-2 justify-end",children:[l.jsx(xe,{variant:"outline",size:"sm",onClick:()=>He(le),children:l.jsx(zr,{className:"h-4 w-4"})}),l.jsx(xe,{variant:"destructive",size:"sm",onClick:()=>ft(le),children:l.jsx(yr,{className:"h-4 w-4"})})]})})]},le.id))})]})}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"text-sm text-muted-foreground",children:[" ",i.toLocaleString(),"   ",j+1,"/",we]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(xe,{variant:"outline",disabled:j<=0||e,onClick:()=>C(le=>Math.max(0,le-1)),children:""}),l.jsx(xe,{variant:"outline",disabled:(j+1)*N>=i||e,onClick:()=>C(le=>le+1),children:""})]})]}),l.jsx(Yn,{open:A,onOpenChange:le=>z(le),children:l.jsxs(Kn,{className:"max-w-3xl",children:[l.jsxs(Jn,{children:[l.jsx(Xn,{children:I?"  ":"  "}),l.jsx(vr,{children:l.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[l.jsx("div",{children:"conditions (JSON object):"}),l.jsx("pre",{className:"bg-muted/30 p-2 rounded text-xs whitespace-pre-wrap break-all",children:`{
  "feature": "chat",
  "language": "ko",
  "max_tokens": { "$lte": 1000 }
}`})]})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:" (rule_name)"}),l.jsx(Re,{value:E,onChange:le=>M(le.target.value),placeholder:": ko_chat_small"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"(priority)"}),l.jsx(Re,{type:"number",value:L,onChange:le=>D(Number(le.target.value||0))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"(scope_type)"}),l.jsxs(rt,{value:J,onValueChange:le=>Z(z2(le)),children:[l.jsx(st,{children:l.jsx(it,{placeholder:" "})}),l.jsxs(at,{children:[l.jsx(ye,{value:"TENANT",children:"TENANT"}),l.jsx(ye,{value:"ROLE",children:"ROLE"}),l.jsx(ye,{value:"GLOBAL",children:"GLOBAL"})]})]}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:["- TENANT: scope_id  tenant_id  ",l.jsx("br",{}),"- ROLE: scope_id(UUID)  ",l.jsx("br",{}),"- GLOBAL: scope_id NULL"]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:" ID(scope_id)"}),l.jsx(Re,{value:J==="TENANT"||J==="GLOBAL"?"":q,onChange:le=>F(le.target.value),placeholder:J==="ROLE"?"UUID (ROLE scope_id)":"-",disabled:J!=="ROLE"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"(is_active)"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Wn,{checked:V,onCheckedChange:le=>K(le)}),l.jsx(vt,{variant:V?"default":"secondary",children:V?"ON":"OFF"})]})]}),l.jsxs("div",{className:"space-y-2 col-span-2",children:[l.jsx(be,{children:" (target_model_id)"}),l.jsxs(rt,{value:W,onValueChange:le=>R(le),children:[l.jsx(st,{children:l.jsx(it,{placeholder:d?" ...":" "})}),l.jsx(at,{children:a.map(le=>l.jsx(ye,{value:le.id,children:(le.provider_slug?`${le.provider_slug}  `:"")+`${le.display_name} (${le.model_id})`},le.id))})]})]}),l.jsxs("div",{className:"space-y-2 col-span-2",children:[l.jsx(be,{children:" (fallback_model_id)"}),l.jsxs(rt,{value:U,onValueChange:le=>_(le),children:[l.jsx(st,{children:l.jsx(it,{placeholder:d?" ...":"  ()"})}),l.jsxs(at,{children:[l.jsx(ye,{value:"__none__",children:"()"}),a.map(le=>l.jsx(ye,{value:le.id,children:(le.provider_slug?`${le.provider_slug}  `:"")+`${le.display_name} (${le.model_id})`},le.id))]})]})]}),l.jsxs("div",{className:"space-y-2 col-span-2",children:[l.jsx(be,{children:"conditions (JSON)"}),l.jsx(An,{value:Q,onChange:le=>G(le.target.value),className:"min-h-[180px]"})]}),l.jsxs("div",{className:"space-y-2 col-span-2",children:[l.jsx(be,{children:"metadata (JSON)"}),l.jsx(An,{value:P,onChange:le=>ie(le.target.value),className:"min-h-[120px]"})]})]}),l.jsxs(br,{children:[l.jsx(xe,{variant:"outline",onClick:()=>z(!1),children:""}),l.jsx(xe,{onClick:Me,children:I?" ":""})]})]})})]})}const dd="/api/ai/prompt-templates";function xy(e){return e instanceof Error?e.message:String(e)}function jp(e){if(!e||typeof e!="object")return null;const t=e;return typeof t.message=="string"?t.message:null}function lu(e){try{return JSON.stringify(e??{},null,2)}catch{return"{}"}}function g8(e){try{const t=JSON.parse(e);return!t||typeof t!="object"||Array.isArray(t)?{}:t}catch{return{}}}function Nle(){const[e,t]=b.useState(!1),[n,r]=b.useState([]),[i,s]=b.useState(0),[a,u]=b.useState(""),[d,f]=b.useState("all"),[p,m]=b.useState("all"),[x,y]=b.useState(0),v=50,[k,j]=b.useState(!1),[C,N]=b.useState(null),[A,z]=b.useState(""),[I,T]=b.useState(""),[E,M]=b.useState(1),[L,D]=b.useState(!0),[V,K]=b.useState(lu({})),[J,Z]=b.useState(lu({})),q=b.useMemo(()=>{const H=new URLSearchParams;return H.set("limit",String(v)),H.set("offset",String(x*v)),a.trim()&&H.set("q",a.trim()),d!=="all"&&H.set("purpose",d),p!=="all"&&H.set("is_active",p),H.toString()},[p,v,x,d,a]);async function F(){t(!0);try{const H=await fetch(`${dd}?${q}`),te=await H.json().catch(()=>({}));if(!H.ok||!te.ok)throw new Error(jp(te)||"FAILED_LIST");r(te.rows||[]),s(te.total||0)}catch(H){console.error(H),r([]),s(0)}finally{t(!1)}}async function W(H){const te=await fetch(`${dd}/${H}`),ae=await te.json().catch(()=>({}));if(!te.ok)throw new Error(jp(ae)||"FAILED_GET");const ke=ae?.row;if(!ke)throw new Error("FAILED_GET");return ke}function R(){N(null),z(""),T(""),M(1),D(!0),K(lu({})),Z(lu({}))}function U(){R(),j(!0)}async function _(H){try{const te=await W(H.id);N(te),z(String(te.name||"")),T(String(te.purpose||"")),M(Number(te.version||1)),D(!!te.is_active),K(lu(te.body??{})),Z(lu(te.metadata??{})),j(!0)}catch(te){console.error(te),alert(xy(te))}}async function Q(){const H=A.trim(),te=I.trim();if(!H)return alert("name  .");if(!te)return alert("purpose  . (: chat, summary, code)");const ae=g8(V);if(Object.keys(ae).length===0)return alert("body JSON object .");const ke=g8(J),Ge={name:H,purpose:te,version:Number(E||1)||1,is_active:L,body:ae,metadata:ke};try{const He=!!C?.id,Me=He?`${dd}/${C.id}`:dd,ft=await fetch(Me,{method:He?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ge)}),we=await ft.json().catch(()=>({}));if(!ft.ok)throw new Error(jp(we)||" ");j(!1),R(),await F()}catch(He){console.error(He),alert(xy(He))}}async function G(H){if(window.confirm(`"${H.name}"  . ?`))try{const ae=await fetch(`${dd}/${H.id}`,{method:"DELETE"}),ke=await ae.json().catch(()=>({}));if(!ae.ok)throw new Error(jp(ke)||" ");await F()}catch(ae){console.error(ae),alert(xy(ae))}}b.useEffect(()=>{F()},[q]);const P=Math.max(1,Math.ceil(i/v)),ie=b.useMemo(()=>{const H=new Set(n.map(te=>String(te.purpose||"")).filter(Boolean));return Array.from(H).sort()},[n]);return l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xl font-semibold",children:"AI  -  "}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"(purpose) Responses API  (JSON)  ."})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(xe,{variant:"outline",onClick:()=>F(),disabled:e,children:[e?l.jsx(Pt,{className:"h-4 w-4 animate-spin"}):l.jsx(ul,{className:"h-4 w-4"}),l.jsx("span",{className:"ml-2",children:""})]}),l.jsxs(xe,{onClick:U,children:[l.jsx(Rn,{className:"h-4 w-4"}),l.jsx("span",{className:"ml-2",children:" "})]})]})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx(Re,{value:a,onChange:H=>{y(0),u(H.target.value)},placeholder:"name ",className:"w-[280px]"}),l.jsxs(rt,{value:d,onValueChange:H=>{y(0),f(H)},children:[l.jsx(st,{className:"w-[200px]",children:l.jsx(it,{placeholder:"purpose()"})}),l.jsxs(at,{children:[l.jsx(ye,{value:"all",children:"purpose()"}),ie.map(H=>l.jsx(ye,{value:H,children:H},H))]})]}),l.jsxs(rt,{value:p,onValueChange:H=>{y(0),m(H)},children:[l.jsx(st,{className:"w-[180px]",children:l.jsx(it,{placeholder:"()"})}),l.jsxs(at,{children:[l.jsx(ye,{value:"all",children:"()"}),l.jsx(ye,{value:"true",children:""}),l.jsx(ye,{value:"false",children:""})]})]})]}),l.jsx("div",{className:"border rounded-md overflow-x-auto",children:l.jsxs(sr,{children:[l.jsx(ar,{children:l.jsxs(qe,{children:[l.jsx(ve,{className:"min-w-[220px]",children:"Name"}),l.jsx(ve,{className:"min-w-[140px]",children:"Purpose"}),l.jsx(ve,{className:"text-right",children:"Version"}),l.jsx(ve,{children:"Active"}),l.jsx(ve,{className:"min-w-[170px]",children:"Updated"}),l.jsx(ve,{className:"text-right",children:""})]})}),l.jsx(lr,{children:e?l.jsx(qe,{children:l.jsxs(ce,{colSpan:6,className:"py-8 text-center text-muted-foreground",children:[l.jsx(Pt,{className:"h-4 w-4 inline-block animate-spin mr-2"})," ..."]})}):n.length===0?l.jsx(qe,{children:l.jsx(ce,{colSpan:6,className:"py-10 text-center text-muted-foreground",children:"  ."})}):n.map(H=>l.jsxs(qe,{children:[l.jsxs(ce,{children:[l.jsx("div",{className:"font-medium",children:H.name}),l.jsx("div",{className:"text-xs text-muted-foreground font-mono",children:H.id})]}),l.jsx(ce,{children:l.jsx(vt,{variant:"secondary",children:H.purpose})}),l.jsx(ce,{className:"text-right font-mono",children:H.version}),l.jsx(ce,{children:l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(vt,{variant:H.is_active?"default":"secondary",children:H.is_active?"ON":"OFF"})})}),l.jsx(ce,{className:"whitespace-nowrap",children:H.updated_at?new Date(H.updated_at).toLocaleString():"-"}),l.jsx(ce,{className:"text-right",children:l.jsxs("div",{className:"flex gap-2 justify-end",children:[l.jsx(xe,{variant:"outline",size:"sm",onClick:()=>void _(H),children:l.jsx(zr,{className:"h-4 w-4"})}),l.jsx(xe,{variant:"destructive",size:"sm",onClick:()=>void G(H),children:l.jsx(yr,{className:"h-4 w-4"})})]})})]},H.id))})]})}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"text-sm text-muted-foreground",children:[" ",i.toLocaleString(),"   ",x+1,"/",P]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(xe,{variant:"outline",disabled:x<=0||e,onClick:()=>y(H=>Math.max(0,H-1)),children:""}),l.jsx(xe,{variant:"outline",disabled:(x+1)*v>=i||e,onClick:()=>y(H=>H+1),children:""})]})]}),l.jsx(Yn,{open:k,onOpenChange:H=>j(H),children:l.jsxs(Kn,{className:"max-w-3xl max-h-[85vh] overflow-y-auto",children:[l.jsxs(Jn,{children:[l.jsx(Xn,{children:C?"  ":"  "}),l.jsx(vr,{children:l.jsx("div",{className:"text-xs text-muted-foreground",children:"body Responses API  (JSON object). (//   )"})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"name"}),l.jsx(Re,{value:A,onChange:H=>z(H.target.value),placeholder:": ko_chat_default"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"purpose"}),l.jsx(Re,{value:I,onChange:H=>T(H.target.value),placeholder:": chat"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"version"}),l.jsx(Re,{type:"number",value:E,onChange:H=>M(Number(H.target.value||1))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"is_active"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Wn,{checked:L,onCheckedChange:H=>D(H)}),l.jsx(vt,{variant:L?"default":"secondary",children:L?"ON":"OFF"})]})]}),l.jsxs("div",{className:"space-y-2 col-span-2",children:[l.jsx(be,{children:"body (JSON)"}),l.jsx(An,{value:V,onChange:H=>K(H.target.value),className:"min-h-[220px]"})]}),l.jsxs("div",{className:"space-y-2 col-span-2",children:[l.jsx(be,{children:"metadata (JSON)"}),l.jsx(An,{value:J,onChange:H=>Z(H.target.value),className:"min-h-[120px]"})]})]}),l.jsxs(br,{children:[l.jsx(xe,{variant:"outline",onClick:()=>j(!1),children:""}),l.jsx(xe,{onClick:()=>void Q(),children:C?" ":""})]})]})})]})}const fd="/api/ai/response-schemas";function yy(e){return e instanceof Error?e.message:String(e)}function _p(e){if(!e||typeof e!="object")return null;const t=e;return typeof t.message=="string"?t.message:null}function by(e){try{return JSON.stringify(e??{},null,2)}catch{return"{}"}}function Ele(e){try{const t=JSON.parse(e);return!t||typeof t!="object"||Array.isArray(t)?{}:t}catch{return{}}}function Ale(){const[e,t]=b.useState(!1),[n,r]=b.useState([]),[i,s]=b.useState(0),[a,u]=b.useState(""),[d,f]=b.useState("all"),[p,m]=b.useState("all"),[x,y]=b.useState(0),v=50,[k,j]=b.useState(!1),[C,N]=b.useState(null),[A,z]=b.useState(""),[I,T]=b.useState(1),[E,M]=b.useState(!0),[L,D]=b.useState(!0),[V,K]=b.useState(""),[J,Z]=b.useState(by({})),q=b.useMemo(()=>{const H=new URLSearchParams;return H.set("limit",String(v)),H.set("offset",String(x*v)),a.trim()&&H.set("q",a.trim()),d!=="all"&&H.set("name",d),p!=="all"&&H.set("is_active",p),H.toString()},[p,v,d,x,a]);async function F(){t(!0);try{const H=await fetch(`${fd}?${q}`),te=await H.json().catch(()=>({}));if(!H.ok||!te.ok)throw new Error(_p(te)||"FAILED_LIST");r(te.rows||[]),s(te.total||0)}catch(H){console.error(H),r([]),s(0)}finally{t(!1)}}async function W(H){const te=await fetch(`${fd}/${H}`),ae=await te.json().catch(()=>({}));if(!te.ok)throw new Error(_p(ae)||"FAILED_GET");const ke=ae?.row;if(!ke)throw new Error("FAILED_GET");return ke}function R(){N(null),z(""),T(1),M(!0),D(!0),K(""),Z(by({}))}function U(){R(),j(!0)}async function _(H){try{const te=await W(H.id);N(te),z(String(te.name||"")),T(Number(te.version||1)),M(!!te.strict),D(!!te.is_active),K(String(te.description||"")),Z(by(te.schema??{})),j(!0)}catch(te){console.error(te),alert(yy(te))}}async function Q(){const H=A.trim();if(!H)return alert("name  . (: block_json)");const te=Ele(J);if(Object.keys(te).length===0)return alert("schema JSON object .");const ae={name:H,version:Number(I||1)||1,strict:E,schema:te,description:V.trim()||null,is_active:L};try{const ke=!!C?.id,Ge=ke?`${fd}/${C.id}`:fd,Me=await fetch(Ge,{method:ke?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ae)}),ze=await Me.json().catch(()=>({}));if(!Me.ok)throw new Error(_p(ze)||" ");j(!1),R(),await F()}catch(ke){console.error(ke),alert(yy(ke))}}async function G(H){if(window.confirm(`"${H.name}" v${H.version}   . ?`))try{const ae=await fetch(`${fd}/${H.id}`,{method:"DELETE"}),ke=await ae.json().catch(()=>({}));if(!ae.ok)throw new Error(_p(ke)||" ");await F()}catch(ae){console.error(ae),alert(yy(ae))}}b.useEffect(()=>{F()},[q]);const P=Math.max(1,Math.ceil(i/v)),ie=b.useMemo(()=>{const H=new Set(n.map(te=>String(te.name||"")).filter(Boolean));return Array.from(H).sort()},[n]);return l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xl font-semibold",children:"AI  -  (Response Schemas)"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"  JSON Schema    ."})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(xe,{variant:"outline",onClick:()=>F(),disabled:e,children:[e?l.jsx(Pt,{className:"h-4 w-4 animate-spin"}):l.jsx(ul,{className:"h-4 w-4"}),l.jsx("span",{className:"ml-2",children:""})]}),l.jsxs(xe,{onClick:U,children:[l.jsx(Rn,{className:"h-4 w-4"}),l.jsx("span",{className:"ml-2",children:" "})]})]})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx(Re,{value:a,onChange:H=>{y(0),u(H.target.value)},placeholder:"name/description ",className:"w-[280px]"}),l.jsxs(rt,{value:d,onValueChange:H=>{y(0),f(H)},children:[l.jsx(st,{className:"w-[220px]",children:l.jsx(it,{placeholder:"name()"})}),l.jsxs(at,{children:[l.jsx(ye,{value:"all",children:"name()"}),ie.map(H=>l.jsx(ye,{value:H,children:H},H))]})]}),l.jsxs(rt,{value:p,onValueChange:H=>{y(0),m(H)},children:[l.jsx(st,{className:"w-[180px]",children:l.jsx(it,{placeholder:"()"})}),l.jsxs(at,{children:[l.jsx(ye,{value:"all",children:"()"}),l.jsx(ye,{value:"true",children:""}),l.jsx(ye,{value:"false",children:""})]})]})]}),l.jsx("div",{className:"border rounded-md overflow-x-auto",children:l.jsxs(sr,{children:[l.jsx(ar,{children:l.jsxs(qe,{children:[l.jsx(ve,{className:"min-w-[220px]",children:"Name"}),l.jsx(ve,{className:"text-right",children:"Version"}),l.jsx(ve,{children:"Strict"}),l.jsx(ve,{children:"Active"}),l.jsx(ve,{className:"min-w-[260px]",children:"Description"}),l.jsx(ve,{className:"min-w-[170px]",children:"Updated"}),l.jsx(ve,{className:"text-right",children:""})]})}),l.jsx(lr,{children:e?l.jsx(qe,{children:l.jsxs(ce,{colSpan:7,className:"py-8 text-center text-muted-foreground",children:[l.jsx(Pt,{className:"h-4 w-4 inline-block animate-spin mr-2"})," ..."]})}):n.length===0?l.jsx(qe,{children:l.jsx(ce,{colSpan:7,className:"py-10 text-center text-muted-foreground",children:"  ."})}):n.map(H=>l.jsxs(qe,{children:[l.jsxs(ce,{children:[l.jsx("div",{className:"font-medium",children:H.name}),l.jsx("div",{className:"text-xs text-muted-foreground font-mono",children:H.id})]}),l.jsx(ce,{className:"text-right font-mono",children:H.version}),l.jsx(ce,{children:l.jsx(vt,{variant:H.strict?"default":"secondary",children:H.strict?"strict":"loose"})}),l.jsx(ce,{children:l.jsx(vt,{variant:H.is_active?"default":"secondary",children:H.is_active?"ON":"OFF"})}),l.jsx(ce,{className:"text-sm text-muted-foreground",children:H.description||"-"}),l.jsx(ce,{className:"whitespace-nowrap",children:H.updated_at?new Date(H.updated_at).toLocaleString():"-"}),l.jsx(ce,{className:"text-right",children:l.jsxs("div",{className:"flex gap-2 justify-end",children:[l.jsx(xe,{variant:"outline",size:"sm",onClick:()=>void _(H),children:l.jsx(zr,{className:"h-4 w-4"})}),l.jsx(xe,{variant:"destructive",size:"sm",onClick:()=>void G(H),children:l.jsx(yr,{className:"h-4 w-4"})})]})})]},H.id))})]})}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"text-sm text-muted-foreground",children:[" ",i.toLocaleString(),"   ",x+1,"/",P]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(xe,{variant:"outline",disabled:x<=0||e,onClick:()=>y(H=>Math.max(0,H-1)),children:""}),l.jsx(xe,{variant:"outline",disabled:(x+1)*v>=i||e,onClick:()=>y(H=>H+1),children:""})]})]}),l.jsx(Yn,{open:k,onOpenChange:H=>j(H),children:l.jsxs(Kn,{className:"max-w-3xl max-h-[85vh] overflow-y-auto",children:[l.jsxs(Jn,{children:[l.jsx(Xn,{children:C?"  ":"  "}),l.jsx(vr,{children:l.jsx("div",{className:"text-xs text-muted-foreground",children:"OpenAI `response_format: json_schema`  JSON Schema ."})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"name"}),l.jsx(Re,{value:A,onChange:H=>z(H.target.value),placeholder:": block_json"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"version"}),l.jsx(Re,{type:"number",value:I,onChange:H=>T(Number(H.target.value||1))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"strict"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Wn,{checked:E,onCheckedChange:H=>M(H)}),l.jsx(vt,{variant:E?"default":"secondary",children:E?"TRUE":"FALSE"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"is_active"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Wn,{checked:L,onCheckedChange:H=>D(H)}),l.jsx(vt,{variant:L?"default":"secondary",children:L?"ON":"OFF"})]})]}),l.jsxs("div",{className:"space-y-2 col-span-2",children:[l.jsx(be,{children:"description"}),l.jsx(Re,{value:V,onChange:H=>K(H.target.value),placeholder:"()"})]}),l.jsxs("div",{className:"space-y-2 col-span-2",children:[l.jsx(be,{children:"schema (JSON)"}),l.jsx(An,{value:J,onChange:H=>Z(H.target.value),className:"min-h-[320px]"})]})]}),l.jsxs(br,{children:[l.jsx(xe,{variant:"outline",onClick:()=>j(!1),children:""}),l.jsx(xe,{onClick:()=>void Q(),children:C?" ":""})]})]})})]})}const hd="/api/ai/prompt-suggestions";function vy(e){return e instanceof Error?e.message:String(e)}function Np(e){if(!e||typeof e!="object")return null;const t=e;return typeof t.message=="string"?t.message:null}function wy(e){try{return JSON.stringify(e??{},null,2)}catch{return"{}"}}function Dle(e){try{const t=JSON.parse(e);return!t||typeof t!="object"||Array.isArray(t)?{}:t}catch{return{}}}function Tle(){const[e,t]=b.useState(!1),[n,r]=b.useState([]),[i,s]=b.useState(0),[a,u]=b.useState(""),[d,f]=b.useState("all"),[p,m]=b.useState("all"),[x,y]=b.useState("all"),[v,k]=b.useState(0),j=50,[C,N]=b.useState([]),[A,z]=b.useState(!1),[I,T]=b.useState(null),[E,M]=b.useState("TENANT"),[L,D]=b.useState(""),[V,K]=b.useState("all"),[J,Z]=b.useState("all"),[q,F]=b.useState(""),[W,R]=b.useState(""),[U,_]=b.useState(0),[Q,G]=b.useState(!0),[P,ie]=b.useState(wy({})),H=b.useMemo(()=>{const Y=new URLSearchParams;return Y.set("limit",String(j)),Y.set("offset",String(v*j)),a.trim()&&Y.set("q",a.trim()),d!=="all"&&Y.set("model_type",d),p!=="all"&&Y.set("scope_type",p),x!=="all"&&Y.set("is_active",x),Y.toString()},[x,j,d,v,a,p]);async function te(){t(!0);try{const Y=await fetch(`${hd}?${H}`),Ne=await Y.json().catch(()=>({}));if(!Y.ok||!Ne.ok)throw new Error(Np(Ne)||"FAILED_LIST");r(Ne.rows||[]),s(Ne.total||0)}catch(Y){console.error(Y),r([]),s(0)}finally{t(!1)}}async function ae(Y){const Ne=await fetch(`${hd}/${Y}`),Le=await Ne.json().catch(()=>({}));if(!Ne.ok)throw new Error(Np(Le)||"FAILED_GET");const Xe=Le?.row;if(!Xe)throw new Error("FAILED_GET");return Xe}async function ke(){try{const Y=new URLSearchParams({limit:"500",offset:"0"}),Ne=await fetch(`/api/ai/models?${Y.toString()}`),Le=await Ne.json().catch(()=>[]);if(!Ne.ok||!Array.isArray(Le))return;const Xe=Le.map(zt=>({id:String(zt.id||""),display_name:String(zt.display_name||""),model_id:String(zt.model_id||""),model_type:String(zt.model_type||""),provider_product_name:typeof zt.provider_product_name=="string"?zt.provider_product_name:void 0}));N(Xe.filter(zt=>zt.id&&zt.model_id))}catch{}}function Ge(){T(null),M("TENANT"),D(""),K("all"),Z("all"),F(""),R(""),_(0),G(!0),ie(wy({}))}function He(){Ge(),z(!0)}async function Me(Y){try{const Ne=await ae(Y.id);T(Ne),M(Ne.scope_type),D(String(Ne.scope_id||"")),K(Ne.model_type||"all"),Z(Ne.model_id||"all"),F(String(Ne.title||"")),R(String(Ne.text||"")),_(Number(Ne.sort_order||0)),G(!!Ne.is_active),ie(wy(Ne.metadata??{})),z(!0)}catch(Ne){console.error(Ne),alert(vy(Ne))}}async function ze(){const Y=W.trim();if(!Y)return alert("text( )  .");const Ne=E,Le=L.trim();if(Ne==="GLOBAL"){if(Le)return alert("GLOBAL  scope_id   .")}else if(!Le)return alert("TENANT/ROLE  scope_id(UUID) .");const Xe=Dle(P),zt={scope_type:Ne,scope_id:Ne==="GLOBAL"?null:Le,model_type:V==="all"?null:V,model_id:J==="all"?null:J,title:q.trim()||null,text:Y,sort_order:Number(U||0)||0,is_active:Q,metadata:Xe};try{const Mt=!!I?.id,Ot=Mt?`${hd}/${I.id}`:hd,Yt=await fetch(Ot,{method:Mt?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(zt)}),pe=await Yt.json().catch(()=>({}));if(!Yt.ok)throw new Error(Np(pe)||" ");z(!1),Ge(),await te()}catch(Mt){console.error(Mt),alert(vy(Mt))}}async function ft(Y){const Ne=Y.title?`${Y.title} - ${Y.text}`:Y.text;if(window.confirm(`  . ?

${Ne}`))try{const Xe=await fetch(`${hd}/${Y.id}`,{method:"DELETE"}),zt=await Xe.json().catch(()=>({}));if(!Xe.ok)throw new Error(Np(zt)||" ");await te()}catch(Xe){console.error(Xe),alert(vy(Xe))}}b.useEffect(()=>{ke()},[]),b.useEffect(()=>{te()},[H]);const we=Math.max(1,Math.ceil(i/j)),le=b.useMemo(()=>{const Y=new Set(n.map(Ne=>String(Ne.model_type||"")).filter(Boolean));return Array.from(Y).sort()},[n]),Ke=b.useMemo(()=>{const Y=V==="all"?"":V;return Y?C.filter(Le=>Le.model_type===Y):C},[V,C]);return l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xl font-semibold",children:"AI  -  (Prompt Suggestions)"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"         . (model_type   )"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(xe,{variant:"outline",onClick:()=>te(),disabled:e,children:[e?l.jsx(Pt,{className:"h-4 w-4 animate-spin"}):l.jsx(ul,{className:"h-4 w-4"}),l.jsx("span",{className:"ml-2",children:""})]}),l.jsxs(xe,{onClick:He,children:[l.jsx(Rn,{className:"h-4 w-4"}),l.jsx("span",{className:"ml-2",children:" "})]})]})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx(Re,{value:a,onChange:Y=>{k(0),u(Y.target.value)},placeholder:"title/text ",className:"w-[280px]"}),l.jsxs(rt,{value:d,onValueChange:Y=>{k(0),f(Y)},children:[l.jsx(st,{className:"w-[220px]",children:l.jsx(it,{placeholder:"model_type"})}),l.jsxs(at,{children:[l.jsx(ye,{value:"all",children:" model_type"}),le.map(Y=>l.jsx(ye,{value:Y,children:Y},Y)),le.length===0&&["text","image","audio","music","video","multimodal","embedding","code"].map(Y=>l.jsx(ye,{value:Y,children:Y},Y))]})]}),l.jsxs(rt,{value:p,onValueChange:Y=>{k(0),m(Y)},children:[l.jsx(st,{className:"w-[200px]",children:l.jsx(it,{placeholder:"scope_type"})}),l.jsxs(at,{children:[l.jsx(ye,{value:"all",children:" scope"}),l.jsx(ye,{value:"TENANT",children:"TENANT"}),l.jsx(ye,{value:"ROLE",children:"ROLE"}),l.jsx(ye,{value:"GLOBAL",children:"GLOBAL"})]})]}),l.jsxs(rt,{value:x,onValueChange:Y=>{k(0),y(Y)},children:[l.jsx(st,{className:"w-[180px]",children:l.jsx(it,{placeholder:""})}),l.jsxs(at,{children:[l.jsx(ye,{value:"all",children:""}),l.jsx(ye,{value:"true",children:""}),l.jsx(ye,{value:"false",children:""})]})]}),l.jsxs("div",{className:"ml-auto text-sm text-muted-foreground",children:[" ",l.jsx("span",{className:"font-medium text-foreground",children:i}),"  "," ",l.jsx("span",{className:"font-medium text-foreground",children:v+1}),"/",we]})]}),l.jsx("div",{className:"rounded-md border",children:l.jsxs(sr,{children:[l.jsx(ar,{children:l.jsxs(qe,{children:[l.jsx(ve,{className:"w-[90px]",children:""}),l.jsx(ve,{className:"w-[120px]",children:"scope"}),l.jsx(ve,{className:"w-[120px]",children:"model_type"}),l.jsx(ve,{children:"title / text"}),l.jsx(ve,{className:"w-[110px]",children:""}),l.jsx(ve,{className:"w-[140px]",children:" "}),l.jsx(ve,{className:"w-[140px]",children:""})]})}),l.jsxs(lr,{children:[n.map(Y=>{const Ne=Y.model_id?C.find(Le=>Le.id===Y.model_id):void 0;return l.jsxs(qe,{children:[l.jsx(ce,{children:Y.is_active?l.jsx(vt,{children:"ON"}):l.jsx(vt,{variant:"secondary",children:"OFF"})}),l.jsxs(ce,{children:[l.jsx("div",{className:"font-mono text-xs",children:Y.scope_type}),l.jsx("div",{className:"font-mono text-[10px] text-muted-foreground truncate max-w-[140px]",children:Y.scope_id||"-"})]}),l.jsx(ce,{className:"font-mono text-sm",children:Y.model_type||"-"}),l.jsxs(ce,{children:[Y.title?l.jsx("div",{className:"font-medium",children:Y.title}):l.jsx("div",{className:"text-muted-foreground",children:"-"}),l.jsx("div",{className:"text-sm text-muted-foreground line-clamp-2",children:Y.text})]}),l.jsx(ce,{className:"font-mono",children:Y.sort_order}),l.jsx(ce,{children:Ne?l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-muted-foreground",children:Ne.provider_product_name||""}),l.jsx("div",{className:"text-sm",children:Ne.display_name}),l.jsx("div",{className:"font-mono text-[10px] text-muted-foreground",children:Ne.model_id})]}):l.jsx("span",{className:"text-muted-foreground",children:"-"})}),l.jsx(ce,{children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx(xe,{variant:"outline",size:"sm",onClick:()=>Me(Y),children:l.jsx(zr,{className:"h-4 w-4"})}),l.jsx(xe,{variant:"destructive",size:"sm",onClick:()=>ft(Y),children:l.jsx(yr,{className:"h-4 w-4"})})]})})]},Y.id)}),n.length===0&&l.jsx(qe,{children:l.jsx(ce,{colSpan:7,className:"text-center text-muted-foreground py-10",children:" ."})})]})]})}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"text-sm text-muted-foreground",children:[" :",l.jsx(xe,{className:"ml-2",variant:"outline",size:"sm",disabled:v<=0,onClick:()=>k(Y=>Math.max(0,Y-1)),children:""}),l.jsx(xe,{className:"ml-2",variant:"outline",size:"sm",disabled:v+1>=we,onClick:()=>k(Y=>Math.min(we-1,Y+1)),children:""})]}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:["limit=",j]})]}),l.jsx(Yn,{open:A,onOpenChange:Y=>z(Y),children:l.jsxs(Kn,{className:"max-w-[900px]",children:[l.jsxs(Jn,{children:[l.jsx(Xn,{children:I?"  ":"  "}),l.jsx(vr,{children:"scope_type/scope_id   , model_type/model_id /     ."})]}),l.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[l.jsxs("div",{className:"col-span-12 md:col-span-4 space-y-2",children:[l.jsx(be,{children:"scope_type"}),l.jsxs(rt,{value:E,onValueChange:Y=>M(Y),children:[l.jsx(st,{children:l.jsx(it,{placeholder:"scope_type"})}),l.jsxs(at,{children:[l.jsx(ye,{value:"TENANT",children:"TENANT"}),l.jsx(ye,{value:"ROLE",children:"ROLE"}),l.jsx(ye,{value:"GLOBAL",children:"GLOBAL"})]})]})]}),l.jsxs("div",{className:"col-span-12 md:col-span-8 space-y-2",children:[l.jsx(be,{children:"scope_id (UUID)"}),l.jsx(Re,{value:L,onChange:Y=>D(Y.target.value),placeholder:E==="GLOBAL"?"(GLOBAL )":": tenant_id  role_id UUID",disabled:E==="GLOBAL"})]}),l.jsxs("div",{className:"col-span-12 md:col-span-4 space-y-2",children:[l.jsx(be,{children:"model_type"}),l.jsxs(rt,{value:V,onValueChange:Y=>K(Y),children:[l.jsx(st,{children:l.jsx(it,{placeholder:"model_type"})}),l.jsxs(at,{children:[l.jsx(ye,{value:"all",children:"()"}),["text","image","audio","music","video","multimodal","embedding","code"].map(Y=>l.jsx(ye,{value:Y,children:Y},Y))]})]})]}),l.jsxs("div",{className:"col-span-12 md:col-span-8 space-y-2",children:[l.jsx(be,{children:"model_id (  , )"}),l.jsxs(rt,{value:J,onValueChange:Y=>Z(Y),children:[l.jsx(st,{children:l.jsx(it,{placeholder:"model_id"})}),l.jsxs(at,{children:[l.jsx(ye,{value:"all",children:"(  )"}),Ke.map(Y=>l.jsxs(ye,{value:Y.id,children:[Y.provider_product_name?`${Y.provider_product_name}  `:"",Y.display_name," (",Y.model_id,")"]},Y.id))]})]})]}),l.jsxs("div",{className:"col-span-12 md:col-span-6 space-y-2",children:[l.jsx(be,{children:"title ()"}),l.jsx(Re,{value:q,onChange:Y=>F(Y.target.value),placeholder:":  "})]}),l.jsxs("div",{className:"col-span-12 md:col-span-3 space-y-2",children:[l.jsx(be,{children:"sort_order"}),l.jsx(Re,{value:String(U),onChange:Y=>_(Number(Y.target.value||0)||0),placeholder:"0"})]}),l.jsxs("div",{className:"col-span-12 md:col-span-3 space-y-2",children:[l.jsx(be,{children:"is_active"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Wn,{checked:Q,onCheckedChange:Y=>G(!!Y)}),l.jsx("span",{className:"text-sm text-muted-foreground",children:Q?"":""})]})]}),l.jsxs("div",{className:"col-span-12 space-y-2",children:[l.jsx(be,{children:"text"}),l.jsx(An,{value:W,onChange:Y=>R(Y.target.value),rows:3,placeholder:":   "})]}),l.jsxs("div",{className:"col-span-12 space-y-2",children:[l.jsx(be,{children:"metadata (JSON object)"}),l.jsx(An,{value:P,onChange:Y=>ie(Y.target.value),rows:6,className:"font-mono text-xs"})]})]}),l.jsxs(br,{children:[l.jsx(xe,{variant:"outline",onClick:()=>z(!1),children:""}),l.jsx(xe,{onClick:ze,children:I?"":""})]})]})})]})}const pd="/api/ai/model-api-profiles",Mle="/api/ai/providers",Ole="/api/ai/models",Rle="/api/ai/provider-auth-profiles";function ky(e){return e instanceof Error?e.message:String(e)}function Ep(e){if(!e||typeof e!="object")return null;const t=e;return typeof t.message=="string"?t.message:null}function Lle(e){return e==="all"||e==="true"||e==="false"}function Ple(e){return!e||typeof e!="object"||Array.isArray(e)?!1:typeof e.ok=="boolean"}function qs(e){try{return JSON.stringify(e??{},null,2)}catch{return"{}"}}function Ap(e){try{const t=JSON.parse(e);return!t||typeof t!="object"||Array.isArray(t)?{}:t}catch{return{}}}function x8(e){const t=String(e.baseUrl||"").trim().replace(/\/+$/g,"");let n=String(e.path||"").trim();return n||(n="/"),n.startsWith("/")||(n=`/${n}`),t.toLowerCase().endsWith("/v1")&&n.toLowerCase().startsWith("/v1/")?{normalizedPath:n.slice(3),changed:!0}:{normalizedPath:n,changed:!1}}const y8=["chat","image","video","audio","music","multimodal","embedding","code"];function zle(){const[e,t]=b.useState(!1),[n,r]=b.useState([]),[i,s]=b.useState(0),[a,u]=b.useState([]),[d,f]=b.useState([]),[p,m]=b.useState([]),[x,y]=b.useState(!1),[v,k]=b.useState(""),[j,C]=b.useState("all"),[N,A]=b.useState("all"),[z,I]=b.useState("all"),[T,E]=b.useState(0),M=50,[L,D]=b.useState(!1),[V,K]=b.useState(null),[J,Z]=b.useState(""),[q,F]=b.useState("__all__"),[W,R]=b.useState(""),[U,_]=b.useState("chat"),[Q,G]=b.useState(""),[P,ie]=b.useState(!0),[H,te]=b.useState(qs({kind:"http_json",method:"POST",path:"/",headers:{},body:{}})),[ae,ke]=b.useState(qs({result_type:"text",extract:{text_path:""}})),[Ge,He]=b.useState(qs({})),Me=b.useMemo(()=>new Map(a.map(ue=>[ue.id,`${ue.product_name} (${ue.slug})`])),[a]),ze=b.useMemo(()=>new Map(d.map(ue=>[ue.id,`${ue.display_name} (${ue.model_id})`])),[d]),ft=b.useMemo(()=>new Map(a.map(ue=>[ue.id,ue])),[a]),we=b.useMemo(()=>{const ue=new URLSearchParams;return ue.set("limit",String(M)),ue.set("offset",String(T*M)),v.trim()&&ue.set("q",v.trim()),j!=="all"&&ue.set("provider_id",j),N!=="all"&&ue.set("purpose",N),z!=="all"&&ue.set("is_active",z),ue.toString()},[z,M,T,j,N,v]);async function le(){const ue=await fetch(Mle),Ze=await ue.json().catch(()=>[]);if(!ue.ok)throw new Error("FAILED_PROVIDERS");u((Ze||[]).filter($=>$&&$.id))}async function Ke(){const ue=await fetch(`${Ole}?status=active`),Ze=await ue.json().catch(()=>[]);if(!ue.ok)throw new Error("FAILED_MODELS");f((Ze||[]).filter($=>$&&$.id))}async function Y(ue){const Ze=ue.trim();if(!Ze){m([]);return}y(!0);try{const $=new URLSearchParams;$.set("limit","200"),$.set("offset","0"),$.set("provider_id",Ze);const ne=await fetch(`${Rle}?${$.toString()}`),Te=await ne.json().catch(()=>({}));if(!ne.ok||!Te.ok)throw new Error("FAILED_AUTH_PROFILES");const nt=(Te.rows||[]).filter(We=>We&&We.id);m(nt),G(We=>{const Ye=String(We||"").trim();return Ye&&nt.some(wt=>wt.id===Ye)?Ye:""})}catch($){console.warn($),m([])}finally{y(!1)}}async function Ne(){t(!0);try{const ue=await fetch(`${pd}?${we}`),Ze=await ue.json().catch(()=>({}));if(!ue.ok||!Ze.ok)throw new Error(Ep(Ze)||"FAILED_LIST");r(Ze.rows||[]),s(Ze.total||0)}catch(ue){console.error(ue),r([]),s(0)}finally{t(!1)}}async function Le(ue){const Ze=await fetch(`${pd}/${ue}`),$=await Ze.json().catch(()=>({}));if(!Ze.ok)throw new Error(Ep($)||"FAILED_GET");const Te=($&&typeof $=="object"&&!Array.isArray($)?$:{}).row;if(!Te)throw new Error("FAILED_GET");return Te}function Xe(){K(null),Z(""),F("__all__"),R(""),_("chat"),G(""),ie(!0),te(qs({kind:"http_json",method:"POST",path:"/",headers:{},body:{}})),ke(qs({result_type:"text",extract:{text_path:""}})),He(qs({}))}function zt(){Xe(),D(!0)}async function Mt(ue){try{const Ze=await Le(ue.id);K(Ze),Z(String(Ze.provider_id||"")),F(Ze.model_id?String(Ze.model_id):"__all__"),R(String(Ze.profile_key||"")),_(Ze.purpose||"chat"),G(Ze.auth_profile_id?String(Ze.auth_profile_id):""),ie(!!Ze.is_active),te(qs(Ze.transport??{})),ke(qs(Ze.response_mapping??{})),He(qs(Ze.workflow??{})),D(!0)}catch(Ze){console.error(Ze),alert(ky(Ze))}}async function Ot(){const ue=J.trim(),Ze=W.trim();if(!ue)return alert("provider  .");if(!Ze)return alert("profile_key  .");const $=Ap(H),ne=Ap(ae),Te=Ap(Ge);if(Object.keys($).length===0)return alert("transport JSON object .");if(Object.keys(ne).length===0)return alert("response_mapping JSON object .");const nt=ft.get(ue)?.api_base_url;if(typeof $.path=="string"){const Ye=x8({baseUrl:nt,path:$.path});Ye.changed&&($.path=Ye.normalizedPath)}const We={provider_id:ue,model_id:q==="__all__"?null:q,profile_key:Ze,purpose:U,auth_profile_id:Q.trim()?Q.trim():null,is_active:P,transport:$,response_mapping:ne,workflow:Te};try{const Ye=!!V?.id,wt=Ye?`${pd}/${V.id}`:pd,pt=await fetch(wt,{method:Ye?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(We)}),ot=await pt.json().catch(()=>({}));if(await Ne(),!pt.ok||Ple(ot)&&ot.ok===!1)throw new Error(Ep(ot)||" ");D(!1),Xe()}catch(Ye){console.error(Ye),alert(ky(Ye))}}async function tn(ue){if(window.confirm(`"${ue.profile_key}"  . ?`))try{const $=await fetch(`${pd}/${ue.id}`,{method:"DELETE"}),ne=await $.json().catch(()=>({}));if(!$.ok)throw new Error(Ep(ne)||" ");await Ne()}catch($){console.error($),alert(ky($))}}b.useEffect(()=>{(async()=>{try{await Promise.all([le(),Ke()])}catch(ue){console.warn(ue)}})()},[]),b.useEffect(()=>{L&&Y(J)},[L,J]),b.useEffect(()=>{Ne()},[we]);const Yt=Math.max(1,Math.ceil(i/M)),pe=b.useMemo(()=>J.trim()?d.filter(ue=>ue.provider_id===J.trim()):[],[d,J]),Ce=ft.get(J.trim()),Fe=Ce?.api_base_url?String(Ce.api_base_url):"",Ue=b.useMemo(()=>{const ue=Ap(H),Ze=typeof ue.path=="string"?ue.path:"",$=x8({baseUrl:Fe,path:Ze}),ne=Fe.trim().replace(/\/+$/g,""),Te=ne&&$.normalizedPath?`${ne}${$.normalizedPath}`:"";return{providerBaseUrl:Fe,rawPath:Ze,normalizedPath:$.normalizedPath,changed:$.changed,urlPreview:Te}},[Fe,H]);return l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xl font-semibold",children:"AI  - Model API Profiles"}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:["Provider/ (transport)  (response_mapping) DB . (: ",l.jsx("span",{className:"font-mono",children:"document/model_api_profiles_standard.md"}),")"]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(xe,{variant:"outline",onClick:()=>Ne(),disabled:e,children:[e?l.jsx(Pt,{className:"h-4 w-4 animate-spin"}):l.jsx(ul,{className:"h-4 w-4"}),l.jsx("span",{className:"ml-2",children:""})]}),l.jsxs(xe,{onClick:zt,children:[l.jsx(Rn,{className:"h-4 w-4"}),l.jsx("span",{className:"ml-2",children:" "})]})]})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx(Re,{value:v,onChange:ue=>{E(0),k(ue.target.value)},placeholder:"profile_key ",className:"w-[280px]"}),l.jsxs(rt,{value:j,onValueChange:ue=>{E(0),C(ue)},children:[l.jsx(st,{className:"w-[260px]",children:l.jsx(it,{placeholder:"provider()"})}),l.jsxs(at,{children:[l.jsx(ye,{value:"all",children:"provider()"}),a.map(ue=>l.jsxs(ye,{value:ue.id,children:[ue.product_name," (",ue.slug,")"]},ue.id))]})]}),l.jsxs(rt,{value:N,onValueChange:ue=>{E(0),A(ue)},children:[l.jsx(st,{className:"w-[200px]",children:l.jsx(it,{placeholder:"purpose()"})}),l.jsxs(at,{children:[l.jsx(ye,{value:"all",children:"purpose()"}),y8.map(ue=>l.jsx(ye,{value:ue,children:ue},ue))]})]}),l.jsxs(rt,{value:z,onValueChange:ue=>{E(0),I(Lle(ue)?ue:"all")},children:[l.jsx(st,{className:"w-[180px]",children:l.jsx(it,{placeholder:"()"})}),l.jsxs(at,{children:[l.jsx(ye,{value:"all",children:"()"}),l.jsx(ye,{value:"true",children:""}),l.jsx(ye,{value:"false",children:""})]})]})]}),l.jsx("div",{className:"border rounded-md overflow-x-auto",children:l.jsxs(sr,{children:[l.jsx(ar,{children:l.jsxs(qe,{children:[l.jsx(ve,{className:"min-w-[280px]",children:"Profile Key"}),l.jsx(ve,{className:"min-w-[220px]",children:"Provider"}),l.jsx(ve,{className:"min-w-[260px]",children:"Model"}),l.jsx(ve,{className:"min-w-[120px]",children:"Purpose"}),l.jsx(ve,{children:"Active"}),l.jsx(ve,{className:"min-w-[170px]",children:"Updated"}),l.jsx(ve,{className:"text-right",children:""})]})}),l.jsx(lr,{children:e?l.jsx(qe,{children:l.jsxs(ce,{colSpan:7,className:"py-8 text-center text-muted-foreground",children:[l.jsx(Pt,{className:"h-4 w-4 inline-block animate-spin mr-2"})," ..."]})}):n.length===0?l.jsx(qe,{children:l.jsx(ce,{colSpan:7,className:"py-10 text-center text-muted-foreground",children:"  ."})}):n.map(ue=>l.jsxs(qe,{children:[l.jsxs(ce,{children:[l.jsx("div",{className:"font-medium",children:ue.profile_key}),l.jsx("div",{className:"text-xs text-muted-foreground font-mono",children:ue.id})]}),l.jsx(ce,{children:l.jsx("div",{className:"text-sm",children:Me.get(ue.provider_id)||ue.provider_id})}),l.jsx(ce,{children:l.jsx("div",{className:"text-sm",children:ue.model_id?ze.get(ue.model_id)||ue.model_id:l.jsx("span",{className:"text-muted-foreground",children:"(ALL)"})})}),l.jsx(ce,{children:l.jsx(vt,{variant:"secondary",children:ue.purpose})}),l.jsx(ce,{children:l.jsx(vt,{variant:ue.is_active?"default":"secondary",children:ue.is_active?"ON":"OFF"})}),l.jsx(ce,{className:"whitespace-nowrap",children:ue.updated_at?new Date(ue.updated_at).toLocaleString():"-"}),l.jsx(ce,{className:"text-right",children:l.jsxs("div",{className:"flex gap-2 justify-end",children:[l.jsx(xe,{variant:"outline",size:"sm",onClick:()=>void Mt(ue),children:l.jsx(zr,{className:"h-4 w-4"})}),l.jsx(xe,{variant:"destructive",size:"sm",onClick:()=>void tn(ue),children:l.jsx(yr,{className:"h-4 w-4"})})]})})]},ue.id))})]})}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"text-sm text-muted-foreground",children:[" ",i.toLocaleString(),"   ",T+1,"/",Yt]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(xe,{variant:"outline",disabled:T<=0||e,onClick:()=>E(ue=>Math.max(0,ue-1)),children:""}),l.jsx(xe,{variant:"outline",disabled:(T+1)*M>=i||e,onClick:()=>E(ue=>ue+1),children:""})]})]}),l.jsx(Yn,{open:L,onOpenChange:ue=>D(ue),children:l.jsxs(Kn,{className:"max-w-4xl max-h-[85vh] overflow-y-auto",children:[l.jsxs(Jn,{children:[l.jsx(Xn,{children:V?"Model API Profile ":"Model API Profile "}),l.jsx(vr,{children:"transport/response_mapping JSON (v1)  ."})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"provider"}),l.jsxs(rt,{value:J||"none",onValueChange:ue=>Z(ue==="none"?"":ue),children:[l.jsx(st,{children:l.jsx(it,{placeholder:"provider "})}),l.jsxs(at,{children:[l.jsx(ye,{value:"none",children:""}),a.map(ue=>l.jsxs(ye,{value:ue.id,children:[ue.product_name," (",ue.slug,")"]},ue.id))]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"model (optional)"}),l.jsxs(rt,{value:q,onValueChange:F,children:[l.jsx(st,{children:l.jsx(it,{placeholder:"(ALL) /  "})}),l.jsxs(at,{children:[l.jsx(ye,{value:"__all__",children:"(ALL)"}),pe.map(ue=>l.jsxs(ye,{value:ue.id,children:[ue.display_name," (",ue.model_id,")"]},ue.id))]})]}),l.jsx("div",{className:"text-xs text-muted-foreground",children:"  model_id ."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"profile_key"}),l.jsx(Re,{value:W,onChange:ue=>R(ue.target.value),placeholder:": openai.images.generate.v1"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"purpose"}),l.jsxs(rt,{value:U,onValueChange:ue=>_(ue),children:[l.jsx(st,{children:l.jsx(it,{placeholder:"purpose"})}),l.jsx(at,{children:y8.map(ue=>l.jsx(ye,{value:ue,children:ue},ue))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"auth_profile_id (optional)"}),l.jsxs(rt,{value:Q||"__none__",onValueChange:ue=>G(ue==="__none__"?"":ue),children:[l.jsx(st,{className:"w-full",children:l.jsx(it,{placeholder:"(NULL) /   "})}),l.jsxs(at,{children:[l.jsx(ye,{value:"__none__",children:"(NULL)"}),x&&Q.trim()?l.jsxs(ye,{value:Q,disabled:!0,children:[" : ",Q]}):null,x?l.jsx(ye,{value:"__loading__",disabled:!0,children:" ..."}):p.length===0?l.jsx(ye,{value:"__empty__",disabled:!0,children:"( provider   )"}):p.map(ue=>l.jsxs(ye,{value:ue.id,disabled:!ue.is_active&&ue.id!==Q,children:[ue.profile_key," (",ue.auth_type,ue.credential_name?` / ${ue.credential_name}`:"",")",ue.is_active?"":" [OFF]"]},ue.id))]})]}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:["Google Vertex(SA/OAuth2)      ",l.jsxs("span",{className:"font-mono",children:["Bearer ","{{accessToken}}"]})," .",l.jsxs("span",{className:"ml-2",children:["( ",l.jsx("span",{className:"font-mono",children:"api_key"}),"  )"]})]}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:["  ",l.jsx("span",{className:"font-mono",children:"/admin/ai/provider-auth-profiles"})," /."]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"is_active"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Wn,{checked:P,onCheckedChange:ue=>ie(ue)}),l.jsx(vt,{variant:P?"default":"secondary",children:P?"ON":"OFF"})]})]}),l.jsxs("div",{className:"space-y-2 col-span-2",children:[l.jsx(be,{children:"transport (JSON)"}),l.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[l.jsxs("div",{children:["provider api_base_url: ",l.jsx("span",{className:"font-mono",children:Ue.providerBaseUrl||"-"})]}),l.jsxs("div",{children:[": base ",l.jsx("span",{className:"font-mono",children:"/v1"}),"  path ",l.jsx("span",{className:"font-mono",children:"/v1"}),"    ."]}),Ue.rawPath?l.jsxs("div",{children:["path: ",l.jsx("span",{className:"font-mono",children:Ue.rawPath}),Ue.changed?l.jsxs("span",{className:"ml-2 text-amber-600",children:["( : ",l.jsx("span",{className:"font-mono",children:Ue.normalizedPath}),")"]}):null]}):null,Ue.urlPreview?l.jsxs("div",{children:["effective url preview: ",l.jsx("span",{className:"font-mono",children:Ue.urlPreview})]}):null]}),l.jsx(An,{value:H,onChange:ue=>te(ue.target.value),className:"min-h-[220px]"})]}),l.jsxs("div",{className:"space-y-2 col-span-2",children:[l.jsx(be,{children:"response_mapping (JSON)"}),l.jsx(An,{value:ae,onChange:ue=>ke(ue.target.value),className:"min-h-[180px]"})]}),l.jsxs("div",{className:"space-y-2 col-span-2",children:[l.jsx(be,{children:"workflow (JSON)"}),l.jsx(An,{value:Ge,onChange:ue=>He(ue.target.value),className:"min-h-[120px]"})]})]}),l.jsxs(br,{children:[l.jsx(xe,{variant:"outline",onClick:()=>D(!1),children:""}),l.jsx(xe,{onClick:()=>void Ot(),children:V?" ":""})]})]})})]})}const md="/api/ai/provider-auth-profiles",Ile="/api/ai/providers",Fle="/api/ai/credentials";function Sy(e){return e instanceof Error?e.message:String(e)}function Dp(e){if(!e||typeof e!="object")return null;const t=e;return typeof t.message=="string"?t.message:null}function Cy(e){try{return JSON.stringify(e??{},null,2)}catch{return"{}"}}function Ble(e){try{const t=JSON.parse(e);return!t||typeof t!="object"||Array.isArray(t)?{}:t}catch{return{}}}const b8=["api_key","oauth2_service_account","aws_sigv4","azure_ad"];function $le(){const[e,t]=b.useState(!1),[n,r]=b.useState([]),[i,s]=b.useState(0),[a,u]=b.useState([]),[d,f]=b.useState([]),[p,m]=b.useState(""),[x,y]=b.useState("all"),[v,k]=b.useState("all"),[j,C]=b.useState("all"),[N,A]=b.useState(0),z=50,[I,T]=b.useState(!1),[E,M]=b.useState(null),[L,D]=b.useState(""),[V,K]=b.useState(""),[J,Z]=b.useState("api_key"),[q,F]=b.useState(""),[W,R]=b.useState(""),[U,_]=b.useState(!0),[Q,G]=b.useState(Cy({})),P=b.useMemo(()=>new Map(a.map(Y=>[Y.id,`${Y.product_name} (${Y.slug})`])),[a]),ie=b.useMemo(()=>new Map(d.map(Y=>[Y.id,`${Y.credential_name}${Y.api_key_masked?` (${Y.api_key_masked})`:""}`])),[d]),H=b.useMemo(()=>{const Y=new URLSearchParams;return Y.set("limit",String(z)),Y.set("offset",String(N*z)),p.trim()&&Y.set("q",p.trim()),x!=="all"&&Y.set("provider_id",x),v!=="all"&&Y.set("auth_type",v),j!=="all"&&Y.set("is_active",j),Y.toString()},[v,j,z,N,x,p]);async function te(){const Y=await fetch(Ile),Ne=await Y.json().catch(()=>[]);if(!Y.ok)throw new Error("FAILED_PROVIDERS");u((Ne||[]).filter(Le=>Le&&Le.id))}async function ae(){const Y=await fetch(Fle),Ne=await Y.json().catch(()=>[]);if(!Y.ok)throw new Error("FAILED_CREDENTIALS");f((Ne||[]).filter(Le=>Le&&Le.id))}async function ke(){t(!0);try{const Y=await fetch(`${md}?${H}`),Ne=await Y.json().catch(()=>({}));if(!Y.ok||!Ne.ok)throw new Error(Dp(Ne)||"FAILED_LIST");r(Ne.rows||[]),s(Ne.total||0)}catch(Y){console.error(Y),r([]),s(0)}finally{t(!1)}}async function Ge(Y){const Ne=await fetch(`${md}/${Y}`),Le=await Ne.json().catch(()=>({}));if(!Ne.ok)throw new Error(Dp(Le)||"FAILED_GET");const Xe=Le?.row;if(!Xe)throw new Error("FAILED_GET");return Xe}function He(){M(null),D(""),K(""),Z("api_key"),F(""),R(""),_(!0),G(Cy({}))}function Me(){He(),T(!0)}async function ze(Y){try{const Ne=await Ge(Y.id);M(Ne),D(String(Ne.provider_id||"")),K(String(Ne.profile_key||"")),Z(Ne.auth_type||"api_key"),F(String(Ne.credential_id||"")),R(String(Ne.token_cache_key||"")),_(!!Ne.is_active),G(Cy(Ne.config??{})),T(!0)}catch(Ne){console.error(Ne),alert(Sy(Ne))}}async function ft(){const Y=L.trim(),Ne=V.trim(),Le=q.trim();if(!Y)return alert("provider  .");if(!Ne)return alert("profile_key  .");if(!Le)return alert("credential  .");const Xe=Ble(Q),zt={provider_id:Y,profile_key:Ne,auth_type:J,credential_id:Le,token_cache_key:W.trim()?W.trim():null,is_active:U,config:Xe};try{const Mt=!!E?.id,Ot=Mt?`${md}/${E.id}`:md,Yt=await fetch(Ot,{method:Mt?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(zt)}),pe=await Yt.json().catch(()=>({}));if(!Yt.ok)throw new Error(Dp(pe)||" ");T(!1),He(),await ke()}catch(Mt){console.error(Mt),alert(Sy(Mt))}}async function we(Y){if(window.confirm(`"${Y.profile_key}"   . ?`))try{const Le=await fetch(`${md}/${Y.id}`,{method:"DELETE"}),Xe=await Le.json().catch(()=>({}));if(!Le.ok)throw new Error(Dp(Xe)||" ");await ke()}catch(Le){console.error(Le),alert(Sy(Le))}}b.useEffect(()=>{(async()=>{try{await Promise.all([te(),ae()])}catch(Y){console.warn(Y)}})()},[]),b.useEffect(()=>{ke()},[H]);const le=Math.max(1,Math.ceil(i/z)),Ke=b.useMemo(()=>L.trim()?d.filter(Y=>Y.provider_id===L.trim()):[],[d,L]);return l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xl font-semibold",children:"AI  - Provider Auth Profiles"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"provider_api_credentials     . (v1: api_key / oauth2_service_account)"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(xe,{variant:"outline",onClick:()=>ke(),disabled:e,children:[e?l.jsx(Pt,{className:"h-4 w-4 animate-spin"}):l.jsx(ul,{className:"h-4 w-4"}),l.jsx("span",{className:"ml-2",children:""})]}),l.jsxs(xe,{onClick:Me,children:[l.jsx(Rn,{className:"h-4 w-4"}),l.jsx("span",{className:"ml-2",children:"  "})]})]})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx(Re,{value:p,onChange:Y=>{A(0),m(Y.target.value)},placeholder:"profile_key ",className:"w-[280px]"}),l.jsxs(rt,{value:x,onValueChange:Y=>{A(0),y(Y)},children:[l.jsx(st,{className:"w-[260px]",children:l.jsx(it,{placeholder:"provider()"})}),l.jsxs(at,{children:[l.jsx(ye,{value:"all",children:"provider()"}),a.map(Y=>l.jsxs(ye,{value:Y.id,children:[Y.product_name," (",Y.slug,")"]},Y.id))]})]}),l.jsxs(rt,{value:v,onValueChange:Y=>{A(0),k(Y)},children:[l.jsx(st,{className:"w-[220px]",children:l.jsx(it,{placeholder:"auth_type()"})}),l.jsxs(at,{children:[l.jsx(ye,{value:"all",children:"auth_type()"}),b8.map(Y=>l.jsx(ye,{value:Y,children:Y},Y))]})]}),l.jsxs(rt,{value:j,onValueChange:Y=>{A(0),C(Y)},children:[l.jsx(st,{className:"w-[180px]",children:l.jsx(it,{placeholder:"()"})}),l.jsxs(at,{children:[l.jsx(ye,{value:"all",children:"()"}),l.jsx(ye,{value:"true",children:""}),l.jsx(ye,{value:"false",children:""})]})]})]}),l.jsx("div",{className:"border rounded-md overflow-x-auto",children:l.jsxs(sr,{children:[l.jsx(ar,{children:l.jsxs(qe,{children:[l.jsx(ve,{className:"min-w-[260px]",children:"Profile Key"}),l.jsx(ve,{className:"min-w-[220px]",children:"Provider"}),l.jsx(ve,{className:"min-w-[200px]",children:"Auth Type"}),l.jsx(ve,{className:"min-w-[280px]",children:"Credential"}),l.jsx(ve,{children:"Active"}),l.jsx(ve,{className:"min-w-[170px]",children:"Updated"}),l.jsx(ve,{className:"text-right",children:""})]})}),l.jsx(lr,{children:e?l.jsx(qe,{children:l.jsxs(ce,{colSpan:7,className:"py-8 text-center text-muted-foreground",children:[l.jsx(Pt,{className:"h-4 w-4 inline-block animate-spin mr-2"})," ..."]})}):n.length===0?l.jsx(qe,{children:l.jsx(ce,{colSpan:7,className:"py-10 text-center text-muted-foreground",children:"   ."})}):n.map(Y=>l.jsxs(qe,{children:[l.jsxs(ce,{children:[l.jsx("div",{className:"font-medium",children:Y.profile_key}),l.jsx("div",{className:"text-xs text-muted-foreground font-mono",children:Y.id})]}),l.jsx(ce,{children:l.jsx("div",{className:"text-sm",children:P.get(Y.provider_id)||Y.provider_id})}),l.jsx(ce,{children:l.jsx(vt,{variant:"secondary",children:Y.auth_type})}),l.jsx(ce,{children:l.jsx("div",{className:"text-sm",children:ie.get(Y.credential_id)||Y.credential_id})}),l.jsx(ce,{children:l.jsx(vt,{variant:Y.is_active?"default":"secondary",children:Y.is_active?"ON":"OFF"})}),l.jsx(ce,{className:"whitespace-nowrap",children:Y.updated_at?new Date(Y.updated_at).toLocaleString():"-"}),l.jsx(ce,{className:"text-right",children:l.jsxs("div",{className:"flex gap-2 justify-end",children:[l.jsx(xe,{variant:"outline",size:"sm",onClick:()=>void ze(Y),children:l.jsx(zr,{className:"h-4 w-4"})}),l.jsx(xe,{variant:"destructive",size:"sm",onClick:()=>void we(Y),children:l.jsx(yr,{className:"h-4 w-4"})})]})})]},Y.id))})]})}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"text-sm text-muted-foreground",children:[" ",i.toLocaleString(),"   ",N+1,"/",le]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(xe,{variant:"outline",disabled:N<=0||e,onClick:()=>A(Y=>Math.max(0,Y-1)),children:""}),l.jsx(xe,{variant:"outline",disabled:(N+1)*z>=i||e,onClick:()=>A(Y=>Y+1),children:""})]})]}),l.jsx(Yn,{open:I,onOpenChange:Y=>T(Y),children:l.jsxs(Kn,{className:"max-w-3xl max-h-[85vh] overflow-y-auto",children:[l.jsxs(Jn,{children:[l.jsx(Xn,{children:E?"  ":"  "}),l.jsx(vr,{children:"oauth2_service_account  credential   JSON    , config scopes/token_url  ."})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"provider"}),l.jsxs(rt,{value:L||"none",onValueChange:Y=>D(Y==="none"?"":Y),children:[l.jsx(st,{children:l.jsx(it,{placeholder:"provider "})}),l.jsxs(at,{children:[l.jsx(ye,{value:"none",children:""}),a.map(Y=>l.jsxs(ye,{value:Y.id,children:[Y.product_name," (",Y.slug,")"]},Y.id))]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"auth_type"}),l.jsxs(rt,{value:J,onValueChange:Y=>Z(Y),children:[l.jsx(st,{children:l.jsx(it,{placeholder:"auth_type"})}),l.jsx(at,{children:b8.map(Y=>l.jsx(ye,{value:Y,children:Y},Y))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"profile_key"}),l.jsx(Re,{value:V,onChange:Y=>K(Y.target.value),placeholder:": google_vertex_sa_v1"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"credential"}),l.jsxs(rt,{value:q||"none",onValueChange:Y=>F(Y==="none"?"":Y),children:[l.jsx(st,{children:l.jsx(it,{placeholder:"credential "})}),l.jsxs(at,{children:[l.jsx(ye,{value:"none",children:""}),Ke.map(Y=>l.jsxs(ye,{value:Y.id,children:[Y.credential_name," ",Y.api_key_masked?`(${Y.api_key_masked})`:""]},Y.id))]})]}),l.jsx("div",{className:"text-xs text-muted-foreground",children:"provider  credential ."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"token_cache_key (optional)"}),l.jsx(Re,{value:W,onChange:Y=>R(Y.target.value),placeholder:": google_vertex_sa_default",className:"font-mono"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(be,{children:"is_active"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Wn,{checked:U,onCheckedChange:Y=>_(Y)}),l.jsx(vt,{variant:U?"default":"secondary",children:U?"ON":"OFF"})]})]}),l.jsxs("div",{className:"space-y-2 col-span-2",children:[l.jsx(be,{children:"config (JSON)"}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:[": ",l.jsx("span",{className:"font-mono",children:'{"scopes":["https://www.googleapis.com/auth/cloud-platform"],"token_url":"https://oauth2.googleapis.com/token"}'})]}),l.jsx(An,{value:Q,onChange:Y=>G(Y.target.value),className:"min-h-[180px]"})]})]}),l.jsxs(br,{children:[l.jsx(xe,{variant:"outline",onClick:()=>T(!1),children:""}),l.jsx(xe,{onClick:()=>void ft(),children:E?" ":""})]})]})})]})}function Hle(){const e=Mi();return b.useEffect(()=>{const t=e.pathname.startsWith("/admin");document.title=t?"Reduct Admin":"Reduct AI Agent"},[e.pathname]),l.jsx(H8,{})}const Ule=JO([{path:"/",element:l.jsx(Hle,{}),children:[{path:"/",element:l.jsx(VU,{})},{path:"/front-ai",element:l.jsx(aV,{})},{path:"/timeline",element:l.jsx(sX,{})},{path:"/posts/:id/edit",element:l.jsx(o8,{})},{path:"/posts/new/edit",element:l.jsx(o8,{})},{path:"/admin/login",element:l.jsx(lX,{})},{path:"/admin",element:l.jsx(dX,{}),children:[{path:"/admin/dashboard",element:l.jsx(fX,{})},{path:"i18n/languages",element:l.jsx(bX,{})},{path:"i18n/namespaces",element:l.jsx(vX,{})},{path:"i18n/translations",element:l.jsx(kX,{})},{path:"i18n/history",element:l.jsx(DZ,{})},{path:"users",element:l.jsx(tle,{})},{path:"tenants",element:l.jsx(ile,{})},{path:"roles",element:l.jsx(nle,{})},{path:"ai/providers",element:l.jsx(ale,{})},{path:"ai/credentials",element:l.jsx(fle,{})},{path:"ai/models",element:l.jsx(gle,{})},{path:"ai/model-access",element:l.jsx(ble,{})},{path:"ai/model-usage-logs",element:l.jsx(kle,{})},{path:"ai/model-routing-rules",element:l.jsx(_le,{})},{path:"ai/prompt-templates",element:l.jsx(Nle,{})},{path:"ai/prompt-suggestions",element:l.jsx(Tle,{})},{path:"ai/response-schemas",element:l.jsx(Ale,{})},{path:"ai/model-api-profiles",element:l.jsx(zle,{})},{path:"ai/provider-auth-profiles",element:l.jsx($le,{})}]}]}]);function Vle(){return l.jsx(uR,{router:Ule})}qT.createRoot(document.getElementById("root")).render(l.jsx(b.StrictMode,{children:l.jsx(Vle,{})}));
