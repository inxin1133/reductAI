### Text/Chat

- 소스: 최근 user 메시지 1~3개
- 추출: **명사 키워드**, **행동(설계/비교/디버깅/요약/추천)**, **대상(모델명/기능명)**
- 예: “Serper 웹검색 토글 정책 설계”

**의도 분류 룰(간단 키워드 매칭)**

- 설계/구조: “설계, 아키텍처, 스키마, 구조”
- 문제/오류: “에러, 오류, 안됨, 실패, exception”
- 비용/과금: “비용, 과금, 단가, 토큰”
- 비교: “차이, 비교, vs”

### Image

- 소스: `prompt`, `style`, `size`, `n`, “edit인지 생성인지”, 참조 이미지 여부
- 추출: **대상(주체)** + **스타일** + **작업(생성/변환/리터칭)**

템플릿 예:

- 생성: `{주체} 이미지 생성 ({스타일})`
- 편집: `{주체} 이미지 변환 ({스타일})`
- 예: “아들 사진 성장 이미지 변환”

### Video

- 소스: `prompt`, `seconds`, `aspect`, `style`, “text-to-video / image-to-video”
- 추출: **장면/주제** + **길이/형식** + **작업**

템플릿 예:

- `{주제} 영상 생성 {초}s`
- 예: “제품 데모 영상 생성 8s”

### Music

- 소스: `genre`, `mood`, `bpm`, `duration`, instrumentation
- 추출: **장르** + **무드** + **길이**

템플릿 예:

- `{장르} {무드} 음악 생성 {초/분}`
- 예: “Lo-fi 차분한 음악 생성 60s”

### Audio (TTS/STT/Voice)

- TTS: **화자/톤/언어** + **용도(내레이션/안내)**
- STT: **회의/통화/강의** + **요약/자막**

템플릿 예:

- TTS: `{톤} 음성 내레이션 생성`
- STT: `{대상} 음성 전사 및 요약`
- 예: “회의 음성 전사 및 요약”

### Code

- 소스: repo/파일명/언어, 에러 메시지, 작업(리팩터링/버그픽스/예제)
- 추출: **언어/프레임워크** + **이슈/작업**

템플릿 예:

- `{기술} {이슈} 해결`
- 예: “Spring Security 필터 오류 해결”